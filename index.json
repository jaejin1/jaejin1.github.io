[{"categories":["system-design"],"content":"Load balancer","date":"2021-02-18","objectID":"/loadbalancer/","tags":["system-design"],"title":"Load balancer","uri":"/loadbalancer/"},{"categories":["system-design"],"content":"ë¡œë“œ ë°¸ëŸ°ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ë° ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ê³³ì— ë¦¬ì†ŒìŠ¤ë¥¼ ë¶„ë°°í•œë‹¤. ë¡œë“œ ë°¸ëŸ°ì„œëŠ” ë‹¤ìŒ 3ê°œì— ëŒ€í•´ì„œ íš¨ê³¼ì ì´ë‹¤. Preventing requests from going to unhealthy servers Preventing overloading resources Helping to eliminate a single point of failure ë¡œë“œë°¸ëŸ°ì„œëŠ” í•˜ë“œì›¨ì–´ ë˜ëŠ” HAProxyì™€ ê°™ì€ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. ë˜ ë‹¤ë¥¸ ê¸°ëŠ¥ìœ¼ë¡œëŠ” SSL termination ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ í•´ë…í•˜ê³ , ì„œë²„ ì‘ë‹µì„ ì•”í˜¸í™” í•˜ì—¬ ë°±ì—”ë“œ ì„œë²„ê°€ costê°€ ë§ì´ ë“œëŠ” ì‘ì—…ì„ ìˆ˜í–‰ í•  í•„ìš”ê°€ ì—†ë‹¤. ê° ì„œë²„ì— X.509 ì¸ì¦ì„œë¥¼ ì„¤ì¹˜í•  í•„ìš”ê°€ ì—†ë‹¤. Session persistence Issue cookies and route a specific clientâ€™s requests to same instance if the web apps do not keep track of sessions ì¥ì• ë¡œ ë¶€í„° ë³´í˜¸í•˜ê¸° ìœ„í•´ active-passive or active-active ì˜ ì—¬ëŸ¬ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ì„¤ì •í•˜ëŠ”ê²Œ ì¼ë°˜ì ì´ë‹¤. ë¡œë“œ ë°¸ëŸ°ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ ì§€í‘œë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ë¼ìš°íŒ… í•  ìˆ˜ ìˆë‹¤. Random Least loaded Session/cookies round robin or weighted round robin Layer 4 Layer 7 ","date":"2021-02-18","objectID":"/loadbalancer/:0:0","tags":["system-design"],"title":"Load balancer","uri":"/loadbalancer/"},{"categories":["system-design"],"content":"Layer 4 load balancing Layer 4 ë¡œë“œ ë°¸ëŸ°ì„œëŠ” transport layerì—ì„œ ì–´ë–»ê²Œ ìš”ì²­ì„ ë¶„ì‚°í• ì§€ ì •í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì—¬ê¸°ì„œëŠ” í—¤ë”ì˜ ì†ŒìŠ¤, ëŒ€ìƒ IP ì£¼ì†Œ ë° portê°€ í¬í•¨ë˜ì§€ë§Œ íŒ¨í‚· ë‚´ìš©ì€ í¬í•¨ ë˜ì§€ ì•ŠëŠ”ë‹¤. Layer 4 ë¡œë“œ ë°¸ëŸ°ì„œëŠ” NATë¥¼ ìˆ˜í–‰í•˜ì—¬ ì—…ìŠ¤íŠ¸ë¦¼ ì„œë²„ì™€ ë„¤íŠ¸ì›Œí¬ íŒ¨í‚·ì„ ì „ë‹¬í•œë‹¤. ","date":"2021-02-18","objectID":"/loadbalancer/:0:1","tags":["system-design"],"title":"Load balancer","uri":"/loadbalancer/"},{"categories":["system-design"],"content":"Layer 7 load balancing Layer 7 ë¡œë“œ ë°¸ëŸ°ì„œëŠ” application layerì—ì„œ ì–´ë–»ê²Œ ìš”ì²­ì„ ë¶„ì‚°í• ì§€ ì •í•œë‹¤. ì—¬ê¸°ì—ì„œëŠ” í—¤ë”, ë©”ì‹œì§€ ë° ì¿ í‚¤ì˜ ë‚´ìš©ì´ í¬í•¨ ë  ìˆ˜ ìˆë‹¤. ë˜í•œ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ terminate í•˜ê³  ë©”ì‹œì§€ë¥¼ ì½ê³  ë¡œë“œ ë°¸ëŸ°ì‹± ê²°ì •ì„ ë‚´ë¦° ë‹¤ìŒ ì„ íƒí•œ ì„œë²„ì— ì—°ê±¸í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë¹„ë””ì˜¤ë¥¼ í˜¸ìŠ¤íŒ…í•˜ëŠ” ì„œë²„ë¡œ íŠ¸ë˜í”½ì„ ë³´ë‚¸ë‹¤ê³  í•˜ë©´ ë¯¼ê°í•œ ì‚¬ìš©ì ì²­êµ¬ íŠ¸ë˜í”½ ê°™ì€ ê²ƒì„ ë³´ì•ˆì´ ê°•í™”ëœ ì„œë²„ë¡œ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ","date":"2021-02-18","objectID":"/loadbalancer/:0:2","tags":["system-design"],"title":"Load balancer","uri":"/loadbalancer/"},{"categories":["system-design"],"content":"Horizontal scaling ë¡œë“œ ë°¸ëŸ°ì„œëŠ” Horizontal scalingì— ë„ì›€ì´ ë˜ì–´ ì„±ëŠ¥ê³¼ ê°€ìš©ì„±ì„ í–¥ìƒ ì‹œí‚¬ìˆ˜ ìˆë‹¤. ë°˜ëŒ€ë¡œ Vertical Scaling(ìˆ˜ì§ í™•ì¥)ì€ ë‹¨ì¼ ì„œë²„ì˜ ë¨¸ì‹ ì„ ì¢‹ì€ ì„±ëŠ¥ìœ¼ë¡œ ì˜¬ë¦¬ëŠ” ê²ƒ. ì— ë¹„í•´ ë¹„ìš©ì´ íš¨ìœ¨ì ì´ê³  ê°€ìš©ì„±ì´ ë†’ë‹¤. ë‹¨ì  ìˆ˜í‰ì ìœ¼ë¡œ í™•ì¥í•˜ë©´ ë³µì¡ì„±ì´ ë°œìƒí•˜ê³  ì„œë²„ ë³µì œë¥¼ í•´ì•¼í•¨. ì„œë²„ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ ì•Šì•„ì•¼í•¨. ì‚¬ìš©ì ê´€ë ¨ ë°ì´í„°ë¥¼ í¬í•¨í•˜ë©´ ì•ˆëœë‹¤. ì„¸ì…˜ì€ DB(SQL,NoSQL) ë˜ëŠ” Redisì™€ ê°™ì€ ì¤‘ì•™ ì§‘ì¤‘ì‹ ë°ì´í„° ì €ì¥ì†Œì— ì €ì¥ë  ìˆ˜ ìˆë‹¤. ìºì‹œ ë° ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ë‹¤ìš´ ìŠ¤íŠ¸ë¦¼ ì„œë²„ëŠ” ì—…ìŠ¤íŠ¸ë¦¼ ì„œë²„ê°€ í™•ì¥ë¨ì— ë”°ë¼ ë” ë§ì€ ë™ì‹œ ì—°ê²°ì„ ì²˜ë¦¬í•´ì•„í•œë‹¤. ","date":"2021-02-18","objectID":"/loadbalancer/:0:3","tags":["system-design"],"title":"Load balancer","uri":"/loadbalancer/"},{"categories":["system-design"],"content":"ë¡œë“œ ë°¸ëŸ°ì„œ ë‹¨ì  ë¦¬ì†ŒìŠ¤ê°€ ì¶©ë¶„í•˜ì§€ ì•Šê±°ë‚˜ ì œëŒ€ë¡œ êµ¬ì„±ì´ ì•ˆë˜ì–´ ìˆìœ¼ë©´ ì„±ëŠ¥ ë³‘ëª© í˜„ìƒì´ ì¼ì–´ë‚œë‹¤. Introducing a load balancer to help eliminate a single point of failure results in increased complexity. ë‹¨ì¼ ë¡œë“œë°¸ëŸ°ì„œëŠ” ë‹¨ì¼ ì¥ì• ì§€ì ì´ë¼ì„œ ì—¬ëŸ¬ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ êµ¬ì„±í•˜ë©´ ë³µì¡ì„±ì´ ë”ìš± ì¦ê°€í•œë‹¤. ì°¸ê³  https://github.com/donnemartin/system-design-primer#load-balancer ","date":"2021-02-18","objectID":"/loadbalancer/:0:4","tags":["system-design"],"title":"Load balancer","uri":"/loadbalancer/"},{"categories":["system-design"],"content":"Content delivery network","date":"2021-02-16","objectID":"/cdn/","tags":["system-design"],"title":"Content delivery network","uri":"/cdn/"},{"categories":["system-design"],"content":"CDN(content delivery network)ì€ ì „ ì„¸ê³„ì ìœ¼ë¡œ ë¶„ì‚° ëœ í”„ë¡ì‹œ ì„œë²„ ë„¤íŠ¸ì›Œí¬ë¡œ, ì‚¬ìš©ìì™€ ê°€ê¹Œìš´ ìœ„ì¹˜ì—ì„œ ì½˜í…ì¸ ë¥¼ ì œê³µí•œë‹¤. ","date":"2021-02-16","objectID":"/cdn/:0:0","tags":["system-design"],"title":"Content delivery network","uri":"/cdn/"},{"categories":["system-design"],"content":"CDN ì¼ë°˜ì ìœ¼ë¡œ ì •ì  íŒŒì¼ì„ ì œê³µí•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ HTML, CSS, JS, ì‚¬ì§„ ë° ë¹„ë””ì˜¤ ê°™ì€ ê²ƒë“¤. í•˜ì§€ë§Œ AWSì˜ CloudFrontì™€ ê°™ì€ ì¼ë¶€ CDNì€ ë‹¤ì´ë‚˜ë¯¹ ì½˜í…ì¸ ë¥¼ ì§€ì›í•œë‹¤. DNSì€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì—°ê²°í•  ì„œë²„ë¥¼ ì•Œë ¤ì¤€ë‹¤. CDNì—ì„œ ì½˜í…ì¸ ë¥¼ ì œê³µí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì´ì ì´ ìˆë‹¤. ì‚¬ìš©ìëŠ” ê°€ê¹Œìš´ ë°ì´í„° ì„¼í„°ì—ì„œ ì½˜í…ì¸ ë¥¼ ë°›ìŒ. ì„œë²„ëŠ” CDNì´ ìˆ˜í–‰í•˜ëŠ” ìš”ì²­ì„ ì²˜ë¦¬ í•  í•„ìš”ê°€ ì—†ìŒ. ë§Œì•½ 1ëŒ€ì˜ CDNì„œë²„ê°€ ì¥ì• ê°€ ë‚˜ë„ ë‹¤ë¥¸ CDNì„œë²„ë¡œ ì¬ì—°ê²° í•˜ê¸° ë•Œë¬¸ì— ì•ˆì •ì„± ë˜í•œ ë³´ì¥ ","date":"2021-02-16","objectID":"/cdn/:1:0","tags":["system-design"],"title":"Content delivery network","uri":"/cdn/"},{"categories":["system-design"],"content":"Push CDNs ì„œë²„ì—ì„œ ë³€ê²½ì‚¬í•­ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ìƒˆ ì½˜í…íŠ¸ë¥¼ CDNì´ ìˆ˜ì‹ í•œë‹¤. CDNì— ì—…ë¡œë“œ ë° CDNì˜ URLì— ê´€ë¦¬ì˜ ëª¨ë“  ì±…ì„ì€ ì‚¬ìš©ìì—ê²Œ ìˆë‹¤. ì½˜í…ì¸ ê°€ ë§Œë£Œë˜ëŠ” ì‹œê¸°ì™€ ì—…ë°ì´íŠ¸ì‹œê¸°ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. ìƒˆë¡œìš´ ì½˜í…ì¸ ë‚˜ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ ì—…ë¡œë“œ ë˜ì–´ íŠ¸ë˜í”½ì„ ìµœì†Œí™” í•˜ì§€ë§Œ ìŠ¤í† ë¦¬ì§€ëŠ” ìµœëŒ€í™” í•œë‹¤. íŠ¸ë˜í”½ì´ ì ì€ ì‚¬ì´íŠ¸ ë˜ëŠ” ìì£¼ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ì½˜í…ì¸ ê°€ ìˆëŠ” ì‚¬ì´íŠ¸ëŠ” CDNì— ì½˜í…ì¸  ì—…ë¡œë“œê°€ ì˜ëœë‹¤. ì½˜í…ì¸ ë¥¼ ì •ê¸°ì ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” ëŒ€ì‹  í•œë²ˆë§Œ ê°€ì ¸ì˜¨ë‹¤. ","date":"2021-02-16","objectID":"/cdn/:1:1","tags":["system-design"],"title":"Content delivery network","uri":"/cdn/"},{"categories":["system-design"],"content":"Pull CDNs ì²˜ìŒ ì´ìš©í•˜ëŠ” ì‚¬ìš©ìëŠ” ì½˜í…ì¸ ë¥¼ ìš”ì²­í•  ë•Œ ì„œë²„ì—ì„œ ìƒˆ ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì½˜í…ì¸ ë¥¼ ì„œë²„ì— ë‚¨ê²¨ë‘ê³  CDNì˜ URLì„ rewriteí•œë‹¤. ì´ë¡œ ì¸í•´ ì½˜í…ì¸ ê°€ CDNì— ìºì‹œ ë  ë•Œ ê¹Œì§€ ìš”ì²­ ì†ë„ê°€ ëŠë ¤ì§„ë‹¤. TTL(time to live)ëŠ” ì½˜í…ì¸ ê°€ ìºì‹œë˜ëŠ” ê¸°ê°„ì„ ê²°ì •í•¨. Pull ì´ë²¤íŠ¸ëŠ” CDNì˜ ì €ì¥ê³µê°„ì„ ìµœì†Œí™” í•˜ì§€ë§Œ íŒŒì¼ì´ ì‹¤ì œë¡œ ë³€ê²½ë˜ê¸° ì „ì— íŒŒì¼ì´ ë§Œë£Œë˜ê³  Pullë˜ë©´ ì¤‘ë³µ íŠ¸ë˜í”½ì„ ìƒì„± í•  ìˆ˜ ìˆë‹¤. íŠ¸ë˜í”½ì´ ë§ì€ ì‚¬ì´íŠ¸ëŠ” ìµœê·¼ ìš”ì²­ëœ ì½˜í…ì¸ ë§Œ CDNì— ë‚¨ì•„ìˆëŠ” ìƒíƒœì—ì„œ íŠ¸ë˜í”½ì´ ë” ê· ë“±í•˜ê²Œ ë¶„ì‚°ë˜ê¸° ë•Œë¬¸ì— Pullí•˜ëŠ” ë°©ì‹ì´ ì˜ ë§ë‹¤. ","date":"2021-02-16","objectID":"/cdn/:1:2","tags":["system-design"],"title":"Content delivery network","uri":"/cdn/"},{"categories":["system-design"],"content":"CDNì˜ ë‹¨ì  CDN ë¹„ìš©ì€ íŠ¸ë˜í”½ì— ë”°ë¼ ë§ì´ ë°œìƒí•  ìˆ˜ ìˆì§€ë§Œ CDNì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì¶”ê°€ ë¹„ìš©ì´ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤. TTL(time to live)ì´ ë§Œë£Œë˜ê¸° ì „ì— ì—…ë°ì´íŠ¸ ë˜ë©´ ì½˜í…ì¸ ê°€ ì˜¤ë˜ ë˜ì—ˆì„ ìˆ˜ ìˆë‹¤. ì •ì  ì½˜í…ì¸ ê°€ CDNì„ ê°€ë¦¬ í‚¤ë„ë¡ URLì„ ë³€ê²½í•´ì•¼ í•œë‹¤. ","date":"2021-02-16","objectID":"/cdn/:1:3","tags":["system-design"],"title":"Content delivery network","uri":"/cdn/"},{"categories":["system-design"],"content":"GSLB ì´ëŸ° ê²ƒë“¤ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê¸°ìˆ ì€ GSLBë¼ê³  í•œë‹¤. ê°„ë‹¨í•˜ê²ŒëŠ” ë¬¼ë¦¬ì ìœ¼ë¡œ ê°€ê¹ê±°ë‚˜ ì—¬ìœ  íŠ¸ë˜í”½ì´ ë‚¨ì•„ ìˆëŠ” ê³³ìœ¼ë¡œ ì ‘ì†ì„ ìœ ë„í•˜ëŠ” ê¸°ìˆ . GSLB(Global Server Load Balancing)ì€ ì´ë¦„ì—ì„œ ë³´ì´ëŠ” ê²ƒ ê°™ì´ ë¡œë“œ ë°¸ëŸ°ì„œì˜ ì¢…ë¥˜, ë°œì „ëœ ê²ƒì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ DNSì˜ ë°œì „í•œ ìƒíƒœì´ë‹¤. DNSëŠ” ì´ì „ ê¸€ì—ì„œ ë´¤ë“¯ì´ ë„ë©”ì¸ ì´ë¦„ì„ IPì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” ì¼ì„ í•˜ëŠ” ì„œë¹„ìŠ¤ì´ë‹¤. DNSëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì§ˆì˜ë¥¼ í•  ê²½ìš° IP ëª©ë¡ì„ í™•ì¸í•´ì„œ ê·¸ ì¤‘ í•˜ë‚˜ë§Œ ë°˜í™˜í•œë‹¤. ë„¤íŠ¸ì›Œí¬ ì§€ì—°, ì„±ëŠ¥ë“±ì€ ì „í˜€ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•œê²Œ GSLBì´ë‹¤. ","date":"2021-02-16","objectID":"/cdn/:2:0","tags":["system-design"],"title":"Content delivery network","uri":"/cdn/"},{"categories":["system-design"],"content":"GSLB vs DNS ì¬í•´ ë³µêµ¬ DNSëŠ” ì„œë²„ì˜ ìƒíƒœë¥¼ ì•Œ ìˆ˜ ì—†ì–´ì„œ ì„œë¹„ìŠ¤ë¥¼ ì‹¤íŒ¨í•˜ëŠ” ìœ ì €ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. GSLBëŠ” ì„œë²„ì˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ê³  ì‹¶ë˜í•œ ì„œë²„ì˜ IPëŠ” ì‘ë‹µì—ì„œ ì œì™¸ ì‹œí‚¤ë¯€ë¡œ, ìœ ì €ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤. ë¡œë“œ ë°¸ëŸ°ì‹± DNSëŠ” Round Robinì„ ì´ìš©í•˜ì—¬ ì •êµí•œ ë¡œë“œë°¸ëŸ°ì‹±ì´ í˜ë“¤ë‹¤. GSLBëŠ” ì„œë²„ì˜ ë¡œë“œë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê¸° ë•Œë¬¸ì— ë¡œë“œê°€ ì ì€ ì„œë²„ì˜ IPë¥¼ ë°˜í™˜í•˜ì—¬ ì •êµí•˜ê²Œ ë¡œë“œë°¸ëŸ°ì‹±í•  ìˆ˜ ìˆë‹¤. latency ê¸°ë°˜ ì„œë¹„ìŠ¤ DNSëŠ” Round Robinë°©ì‹ì´ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ìƒì—ì„œ ë©€ë¦¬ ë–¨ì–´ì§„ ìœ„ì¹˜ì˜ ì„œë²„ë¡œ ì—°ê²° í•  ìˆ˜ ìˆë‹¤. GSLBëŠ” ì§€ì—­ë³„ë¡œ latencyë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ìœ ì €ê°€ ì ‘ê·¼í•˜ë©´ ë‚®ì€ latencyë¥¼ ê°€ì§€ê³  ìˆëŠ” ì„œë²„ë¡œ ì—°ê²°í•œë‹¤. ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤ DNSì—ì„œ ìœ ì €ëŠ” ì—­ì‹œ ROund Robiní•˜ê²Œ ì„œë²„ ì—°ê²° GSLBëŠ” ìœ ì €ì˜ ì§€ì—­ì„ ê¸°ë°˜ìœ¼ë¡œ í•´ë‹¹ ì§€ì—­ì„ ì„œë¹„ìŠ¤í•˜ëŠ” ì„œë²„ë¡œ ì—°ê²°í•  ìˆ˜ ìˆë‹¤. ì°¸ê³  https://goddaehee.tistory.com/173 https://github.com/donnemartin/system-design-primer ","date":"2021-02-16","objectID":"/cdn/:2:1","tags":["system-design"],"title":"Content delivery network","uri":"/cdn/"},{"categories":["system-design"],"content":"Domain name system","date":"2021-01-13","objectID":"/doamin/","tags":["system-design"],"title":"Domain name system","uri":"/doamin/"},{"categories":["system-design"],"content":"DNS (Domain Name System)ì€ www.example.comê³¼ ê°™ì€ ë„ë©”ì¸ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ ë³€í™˜í•œë‹¤. DNSëŠ” ê³„ì¸µì ì´ë‹¤. top levelì— ê¶Œí•œ ìˆëŠ” ì„œë²„ê°€ ìˆë‹¤. ë¼ìš°í„° ë˜ëŠ” ISPëŠ” lookupì„ í•  ë•Œ ì—°ê²°í•  DNS ì„œë²„ì— ëŒ€í•œ ì •ë³´ë¥¼ ì œê³µí•œë‹¤. lower level DNSì„œë²„ëŠ” ì „íŒŒ ì§€ì—°ìœ¼ë¡œ ì¸í•´ ë¬¸ì œê°€ ìƒê¸°ëŠ”ê±¸ ë°©ì§€í•´ ë§¤í•‘ì„ ìºì‹±í•œë‹¤. DNSê²°ê³¼ëŠ” TTL(Time to Live)ì— ì˜í•´ ê²°ì •ëœ íŠ¹ì • ê¸°ê°„ ë™ì•ˆ ë¸Œë¼ìš°ì € ë˜ëŠ” OSì— ì˜í•´ ìºì‹±ë  ìˆ˜ ìˆë‹¤. NS ë ˆì½”ë“œ (name server) domain/subdomainì— ëŒ€í•œ DNS ì„œë²„ë¥¼ ì§€ì •í•œë‹¤. MX ë ˆì½”ë“œ (maiil exchange) ë©”ì‹œì§€ë¥¼ ìˆ˜ë½í•˜ê¸°ìœ„í•œ ë©”ì¼ ì„œë²„ë¥¼ ì§€ì •í•œë‹¤. ë ˆì½”ë“œ (address) ì´ë¦„ì´ IPì£¼ì†Œë¥¼ ê°€ë¦¬í‚¨ë‹¤. CNAME (í‘œì¤€[canocinal]) ì´ë¦„ì„ ë‹¤ë¥¸ ì´ë¦„ì´ë‚˜ CNAME(example.comì—ì„œ www.example.comìœ¼ë¡œ) A ë ˆì½”ë“œë¥¼ ê°€ë¦¬í‚¨ë‹¤. CloudFlare ë° AWS Route 53ê³¼ ê°™ì€ ì„œë¹„ìŠ¤ëŠ” ê´€ë¦¬í˜• DNS ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ì°¸ê³  Route 53 ë° DNSì˜ ìì„¸í•œ ë‚´ìš©ì€ https://jaejin1.github.io/route53/ ì°¸ê³  ì¼ë¶€ DNSì„œë¹„ìŠ¤ëŠ” ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ë¼ìš°íŒ… í•  ìˆ˜ìˆë‹¤. Weighted round robin Prevent traffic from going to servers under maintenance Balance between varying cluster sizes A/B testing Latency-based Geolocation-based DNS ë‹¨ì  DNSì„œë²„ì— ì•¡ì„¸ìŠ¤ í•˜ë©´ ìœ„ì—ì„œ ë§í•œ ê²ƒê³¼ ê°™ì´ ìºì‹±ì„í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  ì•½ê°„ì˜ ì§€ì—°ì´ ë°œìƒ í•  ìˆ˜ ìˆë‹¤. DNSì„œë²„ ê´€ë¦¬ëŠ” ë³µì¡ í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì •ë¶€, ISP ë° ëŒ€ê¸°ì—…ì—ì„œ ê´€ë¦¬ DNSì„œë¹„ìŠ¤ëŠ” ìµœê·¼ DDoSê³µê²©ì„ ë°›ì•„ ì‚¬ìš©ìê°€ Twitterì˜ IPì£¼ì†Œë¥¼ ì•Œì§€ ëª»í•˜ëŠ” ìƒíƒœì—ì„œ Twitterì™€ ê°™ì€ ì›¹ ì‚¬ì´íŠ¸ì— ì•¡ì„¸ìŠ¤í•˜ì§€ ëª»í•˜ê²Œ ë˜ì—ˆë‹¤. ","date":"2021-01-13","objectID":"/doamin/:0:0","tags":["system-design"],"title":"Domain name system","uri":"/doamin/"},{"categories":["system-design"],"content":"Availability vs consistency","date":"2021-01-12","objectID":"/cap/","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"ì¼ê´€ì„±ê³¼ ê°€ìš©ì„±ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì. ","date":"2021-01-12","objectID":"/cap/:0:0","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"availability vs consistency ","date":"2021-01-12","objectID":"/cap/:1:0","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"CAP theorem ë¶„ì‚° ì»´í“¨í„° ì‹œìŠ¤í…œì—ì„œëŠ” ë‹¤ìŒ ì¤‘ 2ê°€ì§€ë§Œ ì§€ì›í•  ìˆ˜ ìˆë‹¤. Consistency ì¼ê´€ì„± ëª¨ë“  ë…¸ë“œë“¤ì€ ê°™ì€ ì‹œê°„ì— ë™ì¼í•œ í•­ëª©ì— ëŒ€í•˜ì—¬ ê°™ì€ ë‚´ìš©ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤€ë‹¤. ëª¨ë“  ìš”ì²­ì€ ìµœì‹  ë°ì´í„° ë˜ëŠ” ì—ëŸ¬ë¥¼ ì‘ë‹µë°›ëŠ”ë‹¤. Every read receives the most recent write or an error Availability ê°€ìš©ì„± ëª¨ë“  ì‚¬ìš©ìë“¤ì´ ì½ê¸° ë° ì“°ê¸°ê°€ ê°€ëŠ¥í•´ì•¼ í•˜ë©°, ëª‡ëª‡ ë…¸ë“œì˜ ì¥ì•  ì‹œì—ë„ ë‹¤ë¥¸ ë…¸ë“œì— ì˜í–¥ì„ ë¯¸ì¹˜ë©´ ì•ˆëœë‹¤. ëª¨ë“  ìš”ì²­ì€ ì •ìƒ ì‘ë‹µì„ ë°›ëŠ”ë‹¤. Every request receives a response, without guarantee that it contains the most recent version of the information Partition Tolerance ë¶„í• ë‚´ì„± ë…¸ë“œê°„ì— ë©”ì‹œì§€ ì „ë‹¬ì´ ì‹¤íŒ¨í•˜ê±°ë‚˜ ì‹œìŠ¤í…œ ì¼ë¶€ê°€ ë§ê°€ì ¸ë„ ì‹œìŠ¤í…œì´ ê³„ì† ë™ì‘í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. The system continues to operate despite arbitrary partitioning due to network failures í•˜ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ëŠ” ì‹ ë¢°í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ Partition Toleranceë¥¼ ì§€ì›í•´ì•¼í•œë‹¤. ë”°ë¼ì„œ Consistencyê³¼ Availability ì‚¬ì´ì— ì†Œí”„íŠ¸ì›¨ì–´ ì ˆì¶©ì•ˆì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤. CP - consistency and partition tolerance íŒŒí‹°ì…˜ëœ ë…¸ë“œì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ë©´ timeout ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. CPëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì— ì•„ì£¼ ì‘ì€ ë‹¨ìœ„ì ìœ¼ë¡œ ì½ê¸° ë° ì“°ê¸°ê°€ í•„ìš”í•  ê²½ìš° ì¢‹ì€ ì„ íƒì´ë‹¤. AP - availability and partition tolerance responseë¡œ ëª¨ë“  ë…¸ë“œì—ì„œ ê°€ì¥ ì‰½ê²Œ ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ë©° ì´ëŠ” ìµœì‹  ë²„ì „ì˜ ë°ì´í„°ê°€ ì•„ë‹ ìˆ˜ ìˆë‹¤. ë§Œì•½ ì“°ê¸°ë¥¼ í•˜ê³  ëª¨ë“  ë…¸ë“œì— ì „íŒŒë˜ëŠ”ë° ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆë‹¤. APëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ì—ì„œ ê¶ê·¹ì ì¸ Consistencyë¥¼ í—ˆìš©? í•˜ê±°ë‚˜ ì™¸ë¶€ ì˜¤ë¥˜ì—ë„ ë¶ˆêµ¬í•˜ê³  ì‹œìŠ¤í…œì´ ê³„ì† ì‘ë™í•´ì•¼ í•˜ëŠ” ê²½ìš° ì¢‹ì€ ì„ íƒì´ë‹¤. ","date":"2021-01-12","objectID":"/cap/:1:1","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"Consistency patterns ë™ì¼í•œ ë°ì´í„°ì˜ multiple copiesë¥¼ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ë°ì´í„°ë¥¼ ì¼ê´€ë˜ê²Œ ë³¼ ìˆ˜ ìˆë„ë¡ ë™ê¸°í™” í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì˜µì…˜ì´ ìˆë‹¤. CAP theoremì—ì„œ consistency ì •ì˜ëŠ” ìµœì‹  ë°ì´í„° ë˜ëŠ” ì—ëŸ¬ë¥¼ ì‘ë‹µë°›ëŠ”ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì. ","date":"2021-01-12","objectID":"/cap/:2:0","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"Weak consistency ì“°ê¸° í›„ ì½ìœ¼ë©´ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ë„ ìˆê³  ëª»ë³¼ ìˆ˜ë„ ìˆë‹¤. ì´ê²ƒì— ëŒ€í•œ ìµœì„ ì˜ ì ‘ê·¼ ë°©ì‹ì€ memcached(ì˜¤í”ˆ ì†ŒìŠ¤ì¸ ë¶„ì‚° ë©”ëª¨ë¦¬ ìºì‹± ì‹œìŠ¤í…œ)ì™€ ê°™ì€ ì‹œìŠ¤í…œì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤. memcachedë¥¼ ì‚¬ìš©í•˜ë©´ memcachedë¡œ ë¬¶ì¸ ëª¨ë“  ì„œë²„ëŠ” ë™ì¼í•œ ê°€ìƒ ë©”ëª¨ë¦¬ í’€ì„ ê³µìœ í•´ì„œ, ì „ì²´ í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•´ì„œ ë™ì¼í•œ ìœ„ì¹˜ì— ì €ì¥ë˜ê³  ê²€ìƒ‰ë˜ì–´ ì§„ë‹¤. ë˜ VoIP, í™”ìƒì±„íŒ… ë° ì‹¤ì‹œê°„ ë©€í‹° í”Œë ˆì´ì–´ ê²Œì„ê³¼ ê°™ì€ ì‹¤ì‹œê°„ì„ í•„ìš”ë¡œ í•˜ëŠ” ì„œë¹„ìŠ¤ì—ì„œ ì˜ ì‘ë™í•œë‹¤. ì˜ˆë¥¼ë“¤ì–´ ì „í™” í†µí™”ì‹œ ëª‡ ì´ˆ ë™ì•ˆ ìˆ˜ì‹ ì´ ëŠê¸´ ê²½ìš° ë‹¤ì‹œ ì—°ê²°ë˜ë©´ ì—°ê²°ì´ ëŠê²¼ì„ ë•Œ ë§í•œ ë‚´ìš©ì„ ë“¤ì„ ìˆ˜ ì—†ëŠ” ê²ƒì²˜ëŸ¼.. ","date":"2021-01-12","objectID":"/cap/:2:1","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"Eventual consistency ì“°ê¸° ì‘ì—…ì˜ ëŒ€í•œ ê²°ê³¼ëŠ” ì–¸ì  ê°€ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. ì“°ê¸° ì‘ì—…ì„ í•˜ê²Œ ë˜ë©´ ì½ê¸°ëŠ” ê²°êµ­ ë³´ê²Œ ëœë‹¤. (ì¼ë°˜ì ìœ¼ë¡œ milliseconds ì´ë‚´ì—) ë°ì´í„°ëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ë³µì œëœë‹¤. ì´ëŸ° ì ‘ê·¼ì€ DNS ë° Emailê³¼ ê°™ì€ ì‹œìŠ¤í…œì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤. Eventual consistencyëŠ” ê³  ê°€ìš©ì„± ì‹œìŠ¤í…œì—ì„œ ì˜ ì‘ë™í•œë‹¤. ","date":"2021-01-12","objectID":"/cap/:2:2","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"Strong consistency ì“°ê¸° ì‘ì—… ì´í›„ ë°ì´í„°ë¥¼ ë³¸ë‹¤. ì“°ê¸° ì‘ì—… ì´í›„ì—ëŠ” ì½ê¸°í•  ë•Œ ë³¼ ìˆ˜ ìˆë‹¤. ë°ì´í„°ëŠ” ë™ê¸°ì‹ìœ¼ë¡œ ë³µì œ ì´ ì ‘ê·¼ì€ RDBMSì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤. Strong consistencyëŠ” Transactionì´ í•„ìš”í•œ ì‹œìŠ¤í…œì—ì„œ ì˜ ì‘ë™í•œë‹¤. ","date":"2021-01-12","objectID":"/cap/:2:3","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"Availability patterns CAP theoremì—ì„œ Availabilityì˜ ì •ì˜ëŠ” ëª‡ëª‡ ë…¸ë“œì˜ ì¥ì•  ì‹œì—ë„ ë‹¤ë¥¸ ë…¸ë“œì— ì˜í–¥ì„ ë¯¸ì¹˜ë©´ ì•ˆë˜ê³  ëª¨ë“  ìš”ì²­ì€ ì •ìƒ ì‘ë‹µì„ ë°›ëŠ”ë‹¤ëŠ” ê²ƒì„ ë‹¤ì‹œ ê¸°ì–µí•˜ê³ . ","date":"2021-01-12","objectID":"/cap/:3:0","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"Fail-over (ì¥ì•  ì¡°ì¹˜) Active-passive active passive ì¥ì•  ì¡°ì¹˜ë¥¼ ì‚¬ìš©í•˜ë©´, Active ì„œë²„ì™€ Passive ì„œë²„ê°„ì— í•˜íŠ¸ë¹„íŠ¸ê°€ ì „ì†¡ëœë‹¤. í•˜íŠ¸ ë¹„íŠ¸ê°€ ì¤‘ë‹¨ë˜ë©´ Passive ì„œë²„ê°€ Active ì„œë²„ì˜ IPë¥¼ ì¸ìˆ˜í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ë‹¤ì‹œ ì‹œì‘í•œë‹¤. downtimeì˜ ê¸¸ì´ëŠ” Passive ì„œë²„ê°€ ì´ë¯¸ â€˜hotâ€™ ëŒ€ê¸°ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ â€˜coldâ€™ ëŒ€ê¸°ì—ì„œ ì‹œì‘í•˜ëŠ”ì§€ ì—¬ë¶€ì— ë”°ë¼ ê²°ì •ëœë‹¤. ì˜¤ì§ Active ì„œë²„ë§Œ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•œë‹¤. ì´ëŠ” master-slave ì¥ì•  ì¡°ì¹˜ë¼ê³ ë„ í•œë‹¤. Active-active active-active ì—ì„œëŠ” ë‘ ì„œë²„ê°€ íŠ¸ë˜í”½ì„ ê´€ë¦¬í•˜ì—¬ ë¶€í•˜ë¥¼ ë¶„ì‚° ì‹œí‚¨ë‹¤. ì„œë²„ê°€ public facingì¸ ê²½ìš° DNSëŠ” public ipì— ëŒ€í•´ ì•Œê³  ìˆì–´ì•¼í•œë‹¤. ë§Œì•½ internal facingì¸ ê²½ìš° ì–´í”Œë¦¬ì¼€ì´ì…˜ loginì€ ë‘ ì„œë²„ì— ëŒ€í•´ ì•Œê³  ìˆì–´ì•¼í•œë‹¤. active-active ì¥ì•  ì¡°ì¹˜ëŠ” master-master ì¥ì•  ì¡°ì¹˜ë¼ê³ ë„ í•œë‹¤. Disadvantage(s): failover Fail overëŠ” ë§ì€ í•˜ë“œì›¨ì–´ì™€ ë³µì¡ì„±ì´ ìˆë‹¤. í™œì„±ì¤‘ì¸ ì‹œìŠ¤í…œì´ ì¥ì• ê°€ ë°œìƒí•˜ë©´, ìƒˆë¡œìš´ ì‹œìŠ¤í…œì´ ë„ì›Œì§ˆ ë•Œ ë°ì´í„°ë¥¼ ë³µì œí•˜ëŠ” ì‹œê°„ì´ ë°œìƒí•˜ë¯€ë¡œ ê·¸ë•Œ ë°ì´í„°ê°€ ì†ì‹¤ ë  ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ","date":"2021-01-12","objectID":"/cap/:3:1","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"Replication Master-slave replication master-master replication ","date":"2021-01-12","objectID":"/cap/:3:2","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":["system-design"],"content":"Availability in numbers Availability in parallel vs in sequence ì„œë¹„ìŠ¤ê°€ ì‹¤íŒ¨í•˜ê¸° ì‰¬ìš´ ì—¬ëŸ¬ conponentë¡œ ë˜ì–´ ìˆëŠ” ê²½ìš°, ì„œë¹„ìŠ¤ì˜ ì „ì²´ availabilityëŠ” component ê°€ sequence í•œì§€ parallelí•œì§€ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤. In sequence availability \u003c 100%ì¸ ë‘ componentê°€ ë°°ì¹˜ë˜ë©´ ì „ì²´ availabilityê°€ ê°ì†Œí•œë‹¤. Availability (Total) = Availability (Foo) * Availability (Bar) Fooì™€ Barì˜ Availabilityê°€ ê°ê° 99.9% ì¸ê²½ìš° ì´ AvailabilityëŠ” 99.8%ê°€ ëœë‹¤. In parallel availability \u003c 100% ì¸ ë‘ componentê°€ ë³‘ë ¬ë¡œ ì—°ê²° ë˜ë©´ ì „ì²´ AvailabilityëŠ” ì¦ê°€í•œë‹¤. Availability (Total) = 1 - (1 - Availability (Foo)) * (1 - Availability (Bar)) Fooì™€ Barì˜ Availabilityì´ ê°ê° 99.%ì¸ ê²½ìš° ì´ AvailabilityëŠ” 99.9999%ê°€ ëœë‹¤. ì°¸ê³  https://github.com/donnemartin/system-design-primer#availability-in-numbers ","date":"2021-01-12","objectID":"/cap/:3:3","tags":["system-design"],"title":"Availability vs consistency","uri":"/cap/"},{"categories":null,"content":"developer ğŸ‘¨â€ğŸ’» updated: Jan 09, 2021 ","date":"2021-01-09","objectID":"/about/:0:0","tags":null,"title":"About Jaejin","uri":"/about/"},{"categories":null,"content":"Work History ğŸ”¥ Cloud Engineer @ DreamusCompany(FLO) 2020.2.17 ~ Present Junior Software Developer @ ICONLOOP 2018.10 ~ 2020.2.14 Intern @ ICONLOOP 2018.07 ~ 2018.09 Undergraduate Research Assistant @ UNClab 2016.06 ~ 2018.06 ","date":"2021-01-09","objectID":"/about/:1:0","tags":null,"title":"About Jaejin","uri":"/about/"},{"categories":null,"content":"Education ğŸ“ 2013-2019 Hongik University Computer Information Communications Engineering ","date":"2021-01-09","objectID":"/about/:2:0","tags":null,"title":"About Jaejin","uri":"/about/"},{"categories":null,"content":"Links ğŸ”— Github https://www.github.com/jaejin1 Blog https://jaejin1.github.io/ Linkedin https://www.linkedin.com/in/jaejin-lee-425161173/ Thanks for reading! ğŸ‘‹ ","date":"2021-01-09","objectID":"/about/:3:0","tags":null,"title":"About Jaejin","uri":"/about/"},{"categories":["os","linux"],"content":"íŒŒí‹°ì…˜ì´ë€ ì—°ì†ëœ ì €ì¥ ê³µê°„ì„ í•˜ë‚˜ ì´ìƒì˜ ì—°ì†ë˜ê³  ë…ë¦½ëœ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì •ì˜í•œ ê·œì•½.","date":"2020-06-28","objectID":"/partition/","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"íŒŒí‹°ì…˜ì´ë€ ì—°ì†ëœ ì €ì¥ ê³µê°„ì„ í•˜ë‚˜ ì´ìƒì˜ ì—°ì†ë˜ê³  ë…ë¦½ëœ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì •ì˜í•œ ê·œì•½. partitionpartition \" partition íŒŒí‹°ì…˜ì„ ë‚˜ëˆ„ê¸° ìœ„í•´ì„œëŠ” ì €ì¥ì¥ì¹˜ì— ì—°ì†ëœ ê³µê°„ì— ìˆì–´ì•¼í•œë‹¤. í•˜ë‚˜ì˜ í•˜ë“œë””ìŠ¤í¬ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ íŒŒí‹°ì…˜ì„ ë‚˜ëˆŒ ìˆ˜ ìˆì§€ë§Œ, ë‘ ê°œì˜ í•˜ë“œë””ìŠ¤í¬ë¥¼ ê°€ì§€ê³  í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ì„ ë§Œë“¤ ìˆœ ì—†ë‹¤. ","date":"2020-06-28","objectID":"/partition/:0:0","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"ì‚¬ìš© ìš©ë„ í•˜ë‚˜ì˜ ë¬¼ë¦¬ì ì¸ ë””ìŠ¤í¬ë¥¼ ì—¬ëŸ¬ ë…¼ë¦¬ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê´€ë¦¬ë¥¼ ìš©ì´í•˜ê²Œ í•¨. OSì˜ì—­ê³¼ Data ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ OS ì˜ì—­ë§Œ ë”°ë¡œ í¬ë§· ë° ê´€ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ ì‚¬ìš© ì—¬ëŸ¬ OSë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì‚¬ìš© í•˜ë“œ ë””ìŠ¤í¬ì˜ ë¬¼ë¦¬ì ì¸ ë°°ë“œ ì„¹í„°ë¡œ íŠ¹ì • ì˜ì—­ì„ ì˜ë¼ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. ","date":"2020-06-28","objectID":"/partition/:1:0","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"partition vs volume ë³¼ë¥¨ì€ OSë‚˜ Applicationë“±ì—ì„œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ì €ì¥ê³µê°„, ì¦‰ ì„¹í„°ì˜ ì§‘í•©ì´ë‹¤. ì—°ì†ëœ ê³µê°„ì´ ì•„ë‹ˆì—¬ë„ ë³¼ë¥¨ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. ì¦‰ 2ê°œì˜ í•˜ë“œë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í•˜ë‚˜ì˜ í•˜ë“œë””ìŠ¤í¬ì²˜ëŸ¼ ì¸ì‹í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë³´í†µ partitionì— FSë¥¼ ì„¤ì •í•´ì£¼ë©´ volumeìœ¼ë¡œ ë³´ê¸°ì— partitionì—­ì‹œ volumeìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. hard diskhard disk \" hard disk ","date":"2020-06-28","objectID":"/partition/:2:0","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"MBR Master Boot Record ê° boot recordëŠ” ê° partitionì˜ ì²« ë²ˆì§¸ ì„¹í„°ì— ìœ„ì¹˜í•˜ë©°, ì£¼ë¡œ í•´ë‹¹ partitionì˜ ì„¤ì¹˜ëœ OSë¥¼ ë¶€íŒ…í•˜ëŠ” ì—­í• ì„ í•˜ê²Œ ëœë‹¤. ì¦‰ OS ì‹¤í–‰ì„ ìœ„í•œ boot loaderë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤. partitionì„ ë‚˜ëˆ„ì§€ ì•Šì€ ê²½ìš°ë¼ë©´ boot recordëŠ” MBRì— ìˆì„ ê²ƒì´ë‹¤. ë‹¨ì¼ partitionì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° (í”Œë¡œí”¼) boot recordëŠ” 1ê°œë§Œ ìˆì„ ê²ƒì´ë¯€ë¡œ MBRì´ í•„ìš”ì—†ë‹¤. MBRMBR \" MBR MBR í˜¸ì¶œê³¼ì • MBR í˜¸ì¶œê³¼ì •MBR í˜¸ì¶œê³¼ì • \" MBR í˜¸ì¶œê³¼ì • ","date":"2020-06-28","objectID":"/partition/:3:0","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"linux partition Primary partition ì£¼ ì˜ì—­ íŒŒí‹°ì…˜ 4ê°œê¹Œì§€ ìƒì„±ê°€ëŠ¥ (1ê°œ ~ 4ê°œ) Extend partition í™•ì¥ ì˜ì—­ íŒŒí‹°ì…˜ 1ê°œ ê¹Œì§€ ìƒì„±ê°€ëŠ¥ Ligical partition ë…¼ë¦¬ ì˜ì—­ íŒŒí‹°ì…˜ SCSI í•œ ê°œì˜ ì´ partition 15ê°œë§Œ ë„˜ì§€ ì•Šê²Œ ì‚¬ìš©ê°€ëŠ¥ 12ê°œ ì´ìƒì€ ì¢‹ì§€ ì•Šë‹¤ê³ í•¨ ","date":"2020-06-28","objectID":"/partition/:4:0","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"ì‹¤ìŠµ ","date":"2020-06-28","objectID":"/partition/:5:0","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"íŒŒí‹°ì…˜ ë‚˜ëˆ„ê¸° awsì— ec2í•˜ë‚˜ ë„ì›Œë†“ê³  íŒŒí‹°ì…˜ì„ ë‚˜ëˆ ë³´ì¥ ë¨¼ì € íŒŒí‹°ì…˜í•  volumeì„ í•˜ë‚˜ ìƒì„±í•˜ê³  í•´ë‹¹ ec2ì™€ ì—°ê²°í•œë‹¤. 16GBì§œë¦¬ diskë¥¼ ì—°ê²°í–ˆë‹¤. diskdisk \" disk $ fdisk -l fdisk -lfdisk -l \" fdisk -l íŒŒí‹°ì…˜ ìƒì„±ì„ ìœ„í•´ íŒŒí‹°ì…˜ ì„¤ì •ìœ¼ë¡œ ë“¤ì–´ê°€ì. $ fdisk /dev/xvdd partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • Primary 2GB Extended 4GB Logical 2GB Logical 2GB ì‚¬ìš©ì•ˆí•¨ 10GB ë¡œ ì„¤ì •í•´ë³´ì. ë¨¼ì € 2G ì§œë¦¬ Primary íŒŒí‹°ì…˜ì„ ë§Œë“¤ê¸° ìœ„í•´ n ì…ë ¥ partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • ë‹¤ìŒ primary íŒŒí‹°ì…˜ì„ ìƒì„±í•´ì•¼í•˜ë¯€ë¡œ pë¥¼ ì…ë ¥ ìˆœì„œëŒ€ë¡œ partition ë²ˆí˜¸ëŠ” 1, sector ì‹œì‘ì€ default, primaryë¥¼ 2GBë¡œ ì„¤ì •í•˜ê¸°ìœ„í•´ì„œ last sectorëŠ” +2G ë¡œ ì„¤ì •í–ˆë‹¤. partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆê³  ë‹¤ì‹œ pë¥¼ ì…ë ¥í•´ í™•ì¸í•´ë³´ë©´ ìƒì„±ëœ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • primaryë¥¼ ìƒì„± í–ˆìœ¼ë¯€ë¡œ extended íŒŒí‹°ì…˜ì„ ìƒì„±í•´ë³´ì. ë˜‘ê°™ì´ n ëª…ë ¹ìœ¼ë¡œ ìƒì„±í•˜ì. partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • xvdd2 ì´ë¦„ìœ¼ë¡œ 4GB Extended íŒŒí‹°ì…˜ì´ ìƒì„±ëœ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. ì´ì œ Extended íŒŒí‹°ì…˜ì— 2ê°œì˜ logical íŒŒí‹°ì…˜ì„ ìƒì„±í•´ë³´ì. Extended íŒŒí‹°ì…˜ì„ ìƒì„±í•˜ê³  n ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ extended ëŒ€ì‹  logicalì´ ë³´ì¼ ê²ƒì´ë‹¤. partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • ì´ì œ 2ê°œì˜ logical íŒŒí‹°ì…˜ì„ ìƒì„±í•˜ì partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • 2ê°œì§¸ ì„¤ì •í•˜ëŠ” ë‹¨ê³„ì—ì„œ Value out of range ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ë° Extended íŒŒí‹°ì…˜ì„ 4GBë¡œ ì„¤ì •í–ˆì§€ë§Œ ì™„ë²½íˆ 4GBê°€ ì•„ë‹êº¼ë¼ ë‚¨ì€ ìš©ëŸ‰ì´ 2GBë³´ë‹¤ ì ì–´ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ ì¼ ê²ƒì´ë¯€ë¡œ defaultë¡œ ì„¤ì •í•´ì£¼ì—ˆë”ë‹ˆ ì˜ í• ë‹¬ ë°›ì€ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • w ëª…ë ¹ìœ¼ë¡œ ì €ì¥í•œë‹¤. partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • í˜¹ì‹œ ëª¨ë¥´ë‹ˆ partprobe ëª…ë ¹ìœ¼ë¡œ osì—ê²Œ ë³€ê²½ì‚¬í•­ì„ ì•Œë ¤ì¤€ë‹¤. $ partprobe ë‹¤ì‹œ í™•ì¸í•˜ë©´ ì˜ ë‚˜ëˆ ì§„ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. partition ì„¤ì •partition ì„¤ì • \" partition ì„¤ì • ","date":"2020-06-28","objectID":"/partition/:5:1","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"íŒŒì¼ ì‹œìŠ¤í…œ ì„¤ì • íŒŒí‹°ì…˜ ìƒì„±ì„ ì™„ë£Œí•˜ë©´ ë¬¼ë¦¬ì ì¸ ê³µê°„ë§Œ ë‚˜ëˆ ë†“ì•˜ê³  íŒŒì¼ì‹œìŠ¤í…œì„ ì§€ì •í•´ì¤˜ì•¼í•œë‹¤. ext4 íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ /dev/xvdd1ì— ì ìš©í•œë‹¤. $ mkfs.ext4 /dev/xvdd1 fs ì„¤ì •fs ì„¤ì • \" fs ì„¤ì • xvdd5, xvdd6ë„ ì„¤ì •í•´ì£¼ì. xvdd5ëŠ” ext4ë¡œ , xvdd6ì€ ext3ìœ¼ë¡œ ì„¤ì •í•´ë´¤ë‹¤. fs ì„¤ì •fs ì„¤ì • \" fs ì„¤ì • ","date":"2020-06-28","objectID":"/partition/:5:2","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"ë§ˆìš´íŠ¸ íŒŒì¼ì‹œìŠ¤í…œ ì„¤ì •ê¹Œì§€ í•´ì¤¬ìœ¼ë‹ˆ ë§ˆìš´íŠ¸ë¥¼ í•´ì¤˜ì„œ íŒŒí‹°ì…˜í•œ ê³µê°„ì„ ì‚¬ìš©í•´ë³´ì. /dev/xvdd1, /dev/xvdd5, /dev/xvdd6 ì„ ì—°ê²°í•˜ê¸° ìœ„í•´ 3ê°œì˜ ë§ˆìš´íŠ¸ í¬ì¸íŠ¸ê°€ í•„ìš”í•˜ë‹¤. mount ì„¤ì •mount ì„¤ì • \" mount ì„¤ì • mount ì„¤ì •mount ì„¤ì • \" mount ì„¤ì • ë§ˆìš´íŠ¸ê°€ ì˜ ëœê²ƒì„ ë³¼ ìˆ˜ ìˆê³  userë¥¼ í• ë‹¹í•´ì„œ home ë””ë ‰í† ë¦¬ë¡œ ì„¤ì •í•´ë³´ì¥ user ì„¤ì •user ì„¤ì • \" user ì„¤ì • $ tail /etc/passwd user ì„¤ì •user ì„¤ì • \" user ì„¤ì • mount í™•ì¸mount í™•ì¸ \" mount í™•ì¸ ","date":"2020-06-28","objectID":"/partition/:5:3","tags":["os","linux","filesystem"],"title":"Partition","uri":"/partition/"},{"categories":["os","linux"],"content":"sectorë€ ë¬¼ë¦¬ ë””ìŠ¤í¬ì— ì…ì¶œë ¥ì„ ìš”ì²­í•˜ëŠ” ìµœì†Œ ë‹¨ìœ„ì´ë‹¤.","date":"2020-06-28","objectID":"/sector/","tags":["os","linux","sector"],"title":"Sector","uri":"/sector/"},{"categories":["os","linux"],"content":"sectorë€ ë¬¼ë¦¬ ë””ìŠ¤í¬ì— ì…ì¶œë ¥ì„ ìš”ì²­í•˜ëŠ” ìµœì†Œ ë‹¨ìœ„ì´ë‹¤. ì „í†µì ì¸ í•˜ë“œ ë””ìŠ¤í¬ëŠ” 512 Byte í¬ê¸°ì˜ sectorë“¤ë¡œ êµ¬ì„± ë˜ì–´ ìˆë‹¤ê³  í•œë‹¤. í° ë°ì´í„°ì— ì ‘ê·¼ í•˜ê³ ì í• ë•Œ sectorì˜ í¬ê¸°ê°€ ì‘ìœ¼ë©´ ë§ì€ ì…ì¶œë ¥ ìš”ì²­ì´ ë°œìƒí•´ì„œ ë””ìŠ¤í¬ ì—ì„œëŠ” í¼í¬ë¨¼ìŠ¤ë¥¼ ì˜¬ë¦¬ê¸° ìœ„í•´ sector ìì²´ í¬ê¸°ë¥¼ ëŠ˜ë¦¬ê³ ì í–ˆë‹¤. íŒŒì¼ì˜ í¬ê¸°ê°€ ì‘ì•„ í•˜ë‚˜ì˜ sectorë¥¼ ì±„ìš°ì§€ ëª»í•˜ëŠ” íŒŒì¼ë“¤ì€ 0ìœ¼ë¡œ ë‚˜ë¨¸ì§€ sector ë¶€ë¶„ì„ ë³´ìœ í•˜ê³  ìˆë‹¤. ë˜í•œ í•œ sectorì— ë™ì‹œì— 2 ì¢…ë¥˜ì˜ ì •ë³´ëŠ” ë“¤ì–´ ê°ˆ ìˆ˜ ì—†ë‹¤. 2011ë…„ 1ì›”ì— ëª¨ë“  í•˜ë“œ ë””ìŠ¤í¬ ì œì¡° ì—…ì²´ê°€ sectorì˜ í¬ê¸°ë¥¼ 4096 KByteë¥¼ í‘œì¤€ìœ¼ë¡œ í•˜ëŠ” ê²ƒì— í•©ì˜ í–ˆë‹¤ëŠ”ë° ë°‘ì˜ ì‚¬ì§„ë§Œ ë´ë„ 512 bytesë¡œ ë‚˜ì˜¨ë‹¤. sector sizesector size \" sector size ê·¸ ì´ìœ ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œëŠ” 4096 Byteì¸ ê²ƒìœ¼ë¡œ ì…ì¶œë ¥ì„ í•˜ì§€ë§Œ í•˜ë“œ ë””ìŠ¤í¬ì— ë‚´ì¥ëœ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë…¼ë¦¬ì ìœ¼ë¡œ sectorì˜ í¬ê¸°ê°€ 512Byteì¸ ê²ƒê³¼ ê°™ì´ advanced formatì˜ ë””ìŠ¤í¬ê°€ ë‚˜ì™”ë‹¤ê³  í•œë‹¤. ì‹¤ì œ ë¬¼ë¦¬ ë””ìŠ¤í¬ì— ì…ì¶œë ¥ì„ ìš”ì²­í•˜ëŠ” ë‹¨ìœ„ë¥¼ ë¬¼ë¦¬ sector ë¼ ë¶€ë¥´ê³  4096 Byte, ë””ìŠ¤í¬ ìƒë‹¨ì— ì—ë®¬ë ˆì´ì…˜ ë˜ëŠ” ë‹¨ìœ„ë¥¼ ë…¼ë¦¬ sector ë¼ í•˜ê³  512 Byteì´ë‹¤. ","date":"2020-06-28","objectID":"/sector/:0:0","tags":["os","linux","sector"],"title":"Sector","uri":"/sector/"},{"categories":["os","linux"],"content":"ë””ìŠ¤í¬ êµ¬ì¡° ","date":"2020-06-28","objectID":"/sector/:1:0","tags":["os","linux","sector"],"title":"Sector","uri":"/sector/"},{"categories":["os","linux"],"content":"LBAë°©ì‹ í˜„ì¬ì˜ í•˜ë“œ ë””ìŠ¤í¬ëŠ” LBAë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ë³´í†µì´ë‹¤. ì´ê²ƒì€ í•˜ë“œ ë””ìŠ¤í¬ì˜ ì „ì²´ sectorì— 0ë¶€í„° sectorë²ˆí˜¸ë¥¼ ë¶™ì—¬ì„œ ì´ ë²ˆí˜¸ë¥¼ ì´ìš©í•´ ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì´ë‹¤. sectorë²ˆí˜¸ì™€ ë¬¼ë¦¬ì  sectorìœ„ì¹˜ë¥¼ ì§ ì§€ìš°ëŠ” ì¼ì€ í•˜ë“œ ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬ì— ë‚´ì¥ëœ íŒì›¨ì–´ê°€ ë‹´ë‹¹í•œë‹¤. sectorsector \" sector partition í¬ìŠ¤íŠ¸ì—ì„œ ë‚˜ëˆ„ì—ˆë˜ partitionì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™”ë‹¤. ê° íŒŒí‹°ì…˜ì„ ë³´ë©´ ì‹œì‘ì ê³¼ ì¢…ë£Œì ì´ sector ë²ˆí˜¸ë¡œ í‘œì‹œëœë‹¤. /dev/xvdd1 ì€ 2048 sector ë¶€í„° ì‹œì‘í•´ 0~1047 sectorëŠ” íŒŒí‹°ì…˜ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠìŒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë””ìŠ¤í¬ì˜ ì²˜ìŒì— MBRì´ ìˆê³ , ê·¸ ë’¤ì— GRUBì˜ ìŠ¤í…Œì´ì§€ 1.5ê°€ ê¸°ë¡ëœë‹¤ê³  í•œë‹¤. ","date":"2020-06-28","objectID":"/sector/:1:1","tags":["os","linux","sector"],"title":"Sector","uri":"/sector/"},{"categories":["os","linux"],"content":"4KB sector disk ì•„ê¹Œ ìœ„ì—ì„œ ê¸°ì¡´ì˜ í•˜ë“œ ë””ìŠ¤í¬ëŠ” 1sectorì˜ ì‚¬ì´ì¦ˆê°€ 512Byteë¡œ ì •í•´ì ¸ ìˆë‹¤ê³  í–ˆë‹¤. ë˜, ë¬¼ë¦¬ì ìœ¼ë¡œëŠ” 4KBì”© ì½ê³ ì“°ëŠ”ë° ë…¼ë¦¬ì ìœ¼ë¡œ 512Byteë¡œ ì—ë®¬ë ˆì´ì…˜ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë˜ì–´ ìˆë‹¤ê³ ë„ í–ˆë‹¤. ì˜ˆë¡œ /dev/xvdd1ì´ 2048 sectorë¶€í„° ì‹œì‘í•œë‹¤ë©´ 256ë²ˆì§¸ 4KB sector ì‹œì ê³¼ ì¼ì¹˜í•œë‹¤. íŒŒí‹°ì…˜ì˜ sector ìˆ˜ë„ 8ì˜ ë°°ìˆ˜ì´ë¯€ë¡œ íŒŒí‹°ì…˜ì˜ ì¢…ë£Œ ìœ„ì¹˜ë„ ë”± 4KB sectorì˜ ë§ˆì§€ë§‰ ì§€ì ì´ ëœë‹¤. ì¥ë˜ì— 4KB sectorë¥¼ ì±„ìš©í•œ í•˜ë“œê°€ ëŠ˜ì–´ë‚  ê²ƒì„ ê³ ë ¤í•´ ê¸°ë³¸ì ìœ¼ë¡œ íŒŒí‹°ì…˜ì˜ ì‹œì‘ ì§€ì ê³¼ ì‚¬ì´ì¦ˆëŠ” ë…¼ë¦¬ sector ìˆ˜ë¡œ ìƒê°í•œ 8ì˜ ë°°ìˆ˜ë¡œ ì¤€ë¹„í•˜ëŠ”ê²Œ ì¢‹ë‹¤. ì´ ì‘ì—…ì„ íŒŒí‹°ì…˜ ì •ë ¬(alignment) ë¼ê³  í•œë‹¤. ","date":"2020-06-28","objectID":"/sector/:1:2","tags":["os","linux","sector"],"title":"Sector","uri":"/sector/"},{"categories":["os","linux"],"content":"íŒŒí‹°ì…˜ ì •ë ¬ íŒŒí‹°ì…˜ ì •ë ¬ì˜ ì„¤ëª…ì„ ì¢€ ë” ì¶”ê°€í•˜ìë©´ ì‚¬ì§„ì˜ 0~62 sectorë“¤ì´ ìˆê³  ê·¸ ë’¤ì— 63ë²ˆ sectorë¶€í„° íŒŒí‹°ì…˜ì´ ì‹œì‘ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ë…¼ë¦¬ì ìœ¼ë¡œ ë´¤ì„ë•ŒëŠ” ë°ì´í„°ê°€ ì˜ ìœ„ì¹˜í•œ ê²ƒìœ¼ë¡œ ë³´ì´ì§€ë§Œ ë¬¼ë¦¬ì  ì„¹í„°ì˜ ê²½ìš° ê²½ê³„ì— ë§ë¬¼ë ¤ ë°ì´í„°ê°€ ë‹´ê¸´ ë¸”ë¡ì´ ìœ„ì¹˜í•˜ê²Œ ëœë‹¤. naver cloudnaver cloud \" naver cloud sectorí¬ê¸°ê°€ 4096 Byteì¼ ë•Œ 512 Byte í¬ê¸°ì˜ sectorí¬ê¸°ë¡œ ì—ë®¬ë ˆì´ì…˜ í•˜ë‚˜ ì‹¤ì œë¡œ 4096 Byte í¬ê¸°ì˜ sectorë‹¨ìœ„ë¡œ ì…ì¶œë ¥ ë˜ê¸° ë•Œë¬¸ì— ë¬¼ë¦¬ sectorì˜ 8ë²ˆ, 9ë²ˆ sectorì— ê°ê° ì ‘ê·¼í•´ì•¼í•œë‹¤. naver cloudnaver cloud \" naver cloud ë‹¤ìŒê³¼ ê°™ì´ 8ë²ˆ ë¬¼ë¦¬ sectorì˜ ë‚¨ì€ 512Byte ë§Œí¼ì„ indent í•œë‹¤ë©´ ê·¸ë¦¼ê³¼ ê°™ë‹¤. 1ê°œì˜ ë…¼ë¦¬ sectorë§Œí¼ indentí•˜ì—¬ ë¬¼ë¦¬ ì„¹í„°ì˜ ê²½ê³„ì— ì •ë ¬í•œë‹¤. ë”°ë¼ì„œ 9ë²ˆ ë¬¼ë¦¬ sectorì—ë§Œ ì…ì¶œë ¥ì„ ìš”ì²­í•˜ë©´ ëœë‹¤. ì´ë ‡ê²Œ ë¬¼ë¦¬ sector ê²½ê³„ì— ë§ì¶°ì£¼ëŠ” ê²ƒì´ íŒŒí‹°ì…˜ì˜ ì •ë ¬ì´ë‹¤. ì¦‰ íŒŒí‹°ì…˜ êµì²´ í• ë•Œ íŒŒí‹°ì…˜ ì •ë ¬ì„ ì•ˆí•˜ë©´ ë””ìŠ¤í¬ I/O ì§€ì—°ì´ ë°œìƒí•˜ê² ë‹¤. ","date":"2020-06-28","objectID":"/sector/:2:0","tags":["os","linux","sector"],"title":"Sector","uri":"/sector/"},{"categories":["os","linux"],"content":"FSëŠ” `ì €ì¥ì¥ì¹˜ ë‚´ì—ì„œ ë°ì´í„°ë¥¼ ì½ê³  ì“°ê¸° ìœ„í•´ ë¯¸ë¦¬ ì •í•´ì§„ ì•½ì†` ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.","date":"2020-06-21","objectID":"/filesystem/","tags":["os","linux","filesystem"],"title":"FileSystem","uri":"/filesystem/"},{"categories":["os","linux"],"content":"FSëŠ” ì €ì¥ì¥ì¹˜ ë‚´ì—ì„œ ë°ì´í„°ë¥¼ ì½ê³  ì“°ê¸° ìœ„í•´ ë¯¸ë¦¬ ì •í•´ì§„ ì•½ì† ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë˜í•œ ì»´í“¨í„°ì—ì„œ íŒŒì¼ì´ë‚˜ ìë£Œë¥¼ ì‰½ê²Œ ë°œê²¬ ë° ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë³´ê´€ ë˜ëŠ” ì¡°ì§í•˜ëŠ” ì²´ì œë¥¼ ê°€ë¦¬í‚¨ë‹¤. ","date":"2020-06-21","objectID":"/filesystem/:0:0","tags":["os","linux","filesystem"],"title":"FileSystem","uri":"/filesystem/"},{"categories":["os","linux"],"content":"ì†Œê°œ íŒŒì¼ ì‹œìŠ¤í…œì€ ì¼ë°˜ì ìœ¼ë¡œ í¬ê¸°ê°€ ì¼ì •í•œ ë¸”ë¡ë“¤ì˜ ë°°ì—´ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìë£Œ ë³´ê´€ ì¥ì¹˜ ìœ„ì— ìƒì„±ë˜ì–´ ì´ëŸ¬í•œ ë°°ì—´ë“¤ì„ ì¡°ì§í•¨ìœ¼ë¡œ íŒŒì¼ì´ë‚˜ ë””ë ‰í„°ë¦¬ë¥¼ ë§Œë“¤ë©° ì–´ëŠ ë¶€ë¶„ì´ íŒŒì¼ì´ê³  ì–´ëŠ ë¶€ë¶„ì´ ê³µë°±ì¸ì§€ êµ¬ë¶„í•˜ê¸° ìœ„í•˜ì—¬ ê° ë°°ì—´ì— í‘œì‹œë¥¼ í•´ë‘”ë‹¤. ìë£Œë¥¼ í´ëŸ¬ìŠ¤í„° ë˜ëŠ” ë¸”ë¡ ì´ë¼ê³  ë¶ˆë¦¬ëŠ” ì¼ì •í•œ ë‹¨ìœ„ì— ìƒˆê²¨ ë„£ëŠ”ë° ì´ê²ƒì´ ë°”ë¡œ íŒŒì¼ í•˜ë‚˜ê°€ í•„ìš”ë¡œ í•˜ëŠ” ë””ìŠ¤í¬ì˜ ìµœì†Œ ê³µê°„ì´ë‹¤. ","date":"2020-06-21","objectID":"/filesystem/:1:0","tags":["os","linux","filesystem"],"title":"FileSystem","uri":"/filesystem/"},{"categories":["os","linux"],"content":"ë¶„ë¥˜ ì¼ë°˜ì ì¸ íŒŒì¼ ì‹œìŠ¤í…œ ì¼ë°˜ì ì¸ FSëŠ” í•˜ë“œë””ìŠ¤í¬ì™€ ê°™ì€ ì €ì¥ì¥ì¹˜ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤. ê·¸ ì¢…ë¥˜ë¥¼ ê°„ë‹¨íˆ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. FAT (File Allocation Table) FATì€ ì–´ëŠ ì˜ì—­ì— íŒŒì¼ì´ ì†í•´ ìˆëŠ”ì§€, ê³µê°„ì— ì—¬ìœ ê°€ ìˆëŠ”ì§€, ë˜ ì–´ë””ì— ê° íŒŒì¼ì´ ë””ìŠ¤í¬ì— ì €ì¥ë˜ì–´ ìˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•˜ëŠ” í…Œì´ë¸”ì„ ì´ìš©í•˜ëŠ” ê²ƒì—ì„œ ë¹„ë¡¯í•œë‹¤. ìƒëŒ€ì ìœ¼ë¡œ ê°„ë‹¨í•œ íŒŒì¼ ì‹œìŠ¤í…œ. ì„±ëŠ¥ì€ ìƒëŒ€ì ìœ¼ë¡œ ë‹¤ë¥¸ íŒŒì¼ ì‹œìŠ¤í…œë³´ë‹¤ ì¢‹ì§€ ì•Šë‹¤. ë„ˆë¬´ë‚˜ë„ ë‹¨ìˆœí•œ ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ê³  ì¡°ê·¸ë§Œ íŒŒì¼ì´ ë§ìœ¼ë©´ ê³µê°„ í™œìš©ë¥ ì´ ì ì–´ì§€ê¸° ë•Œë¬¸ì´ë‹¤. FAT12, FAT16, FAT32, exFATë“± ì¢…ë¥˜ê°€ ë” ìˆë‹¤. HPFS (High Performance FileSystem) NTFS (New Technology FileSystem) FAT32ì˜ ì•½ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ ê°œë°œëœ FS ë“œë¼ì´ë¸Œ ìµœëŒ€ìš©ëŸ‰ 256TB íŒŒì¼ í•˜ë‚˜ë‹¹ ì €ì¥í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ í¬ê¸° 16TB ìœˆë„ìš°ì—ì„œëŠ” ìµœì í™” ë˜ì–´ ìˆì§€ë§Œ, MAC, android, linuxì™€ ê°™ì€ ê¸°ê¸°ëŠ” ì œí•œë˜ì–´ìˆìŒ. UFS (Unix FileSystem) ext ext, ext2, ext3, ext4ì˜ ì¢…ë¥˜ë“¤ì´ ìˆë‹¤. ë¦¬ëˆ…ìŠ¤ìš© íŒŒì¼ ì‹œìŠ¤í…œ ê°€ìš´ë° í•˜ë‚˜ ë¡œ ì˜¤ëŠ˜ë‚  ë§ì€ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì—ì„œ ì£¼ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ì“°ì´ê³  ìˆë‹¤. APFS ì• í”Œ íŒŒì¼ ì‹œìŠ¤í…œì€ ì• í”Œì—ì„œ macOS, iOS, watchOS, tvOSë“±ì—ì„œ ë²”ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ ì ë§Œë“  FS Flash FileSystem Network FileSystem ë„¤íŠ¸ì›Œí¬ íŒŒì¼ì‹œìŠ¤í…œì€ ì›ê²©ì— ìœ„ì¹˜í•œ íŒŒì¼ì‹œìŠ¤í…œì„ ë¡œì»¬ íŒŒì¼ì‹œìŠ¤í…œì²˜ëŸ¼ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ê°œë°œí•œ í”„ë¡œí† ì½œì´ë‹¤. ë‹¨ìˆœíˆ íŒŒì¼ ê³µìœ ê°€ ì•„ë‹ˆë¼ NFSë„ íŒŒì¼ ì‹œìŠ¤í…œì„ì„ ì¸ì§€ í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì›ê²© íŒŒì¼ì‹œìŠ¤í…œì´ mountë˜ë©´ mount ì§€ì  ì•„ë˜ ìœ„ì¹˜í•œ íŒŒì¼ì— ì ‘ê·¼ì„ í•˜ëŠ” ê²½ìš° NFSê°€ íŒŒì¼ì‹œìŠ¤í…œ ë ˆë²¨ì—ì„œ system callì„ ë°›ì•„ ì§ì ‘ ë„¤íŠ¸ì›Œí¬ íŒŒì¼ì„ ìˆ˜ì‹ í•´ ì“°ê±°ë‚˜ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. Virtual FileSystem OSì°¨ì›ì—ì„œ ê°€ìƒ íŒŒì¼ì‹œìŠ¤í…œì´ë¼ëŠ” ìƒìœ„ ë ˆë²¨ì˜ íŒŒì¼ì‹œìŠ¤í…œ ì¸í„°í˜ì´ìŠ¤ê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì‘ìš©í”„ë¡œê·¸ë¨ì—ì„œëŠ” ì•„ë¬´ êµ¬ë¶„ ì—†ì´ OSì˜ system callì„ í˜¸ì¶œí•˜ë©´ ì»¤ë„ì€ ë¯¸ë¦¬ ë“±ë¡ ë˜ì–´ ìˆëŠ” íŒŒì¼ì‹œìŠ¤í…œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ ê°™ì€ ê²½ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. ","date":"2020-06-21","objectID":"/filesystem/:2:0","tags":["os","linux","filesystem"],"title":"FileSystem","uri":"/filesystem/"},{"categories":["os","linux"],"content":"ìš”ì†Œ ","date":"2020-06-21","objectID":"/filesystem/:3:0","tags":["os","linux","filesystem"],"title":"FileSystem","uri":"/filesystem/"},{"categories":["os","linux"],"content":"í´ëŸ¬ìŠ¤í„° í´ëŸ¬ìŠ¤í„°ëŠ” íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ë‹¨ìœ„ë¡œ 1ê°œ ë˜ëŠ” ë³µìˆ˜ì˜ ì„¹í„°ë¡œ ì´ë£¨ì–´ì§„ë‹¤. ì—¬ëŸ¬ ê°œì˜ í´ëŸ¬ìŠ¤í„°ë¥¼ ì‚¬ìš©í•  ë•Œ ë°˜ë“œì‹œ ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šë‹¤. ì—¬ê¸°ì €ê¸° í©ì–´ì ¸ ìˆì–´ë„, ê·¸ ìœ„ì¹˜ì™€ ìˆœì„œë¥¼ ê¸°ë¡í•œ FATë“±ì— ì˜í•˜ì—¬ ê´€ë¦¬ë˜ë¯€ë¡œ í•œ ë²ˆì— íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©ì„ ì½ì„ ìˆ˜ ìˆë‹¤. OSê°€ íŒŒì¼ì‹œìŠ¤í…œ ìƒì„± ì‹œ ì €ì¥ì¥ì¹˜ì˜ í¬ê¸°ë¥¼ ê³ ë ¤í•´ í´ëŸ¬ìŠ¤í„°ì˜ í¬ê¸°ë¥¼ ì¡°ì ˆí•œë‹¤. ì €ì¥ì¥ì¹˜ì˜ í¬ê¸° ë° ì‚¬ìš© ìš©ë„ì— ë”°ë¼ ë‹¬ë¼ì ¸ì•¼í•œë‹¤. OSì— ì˜í•´ ë°ì´í„°ë¥¼ ì½ê³  ì“°ëŠ” ê³¼ì •ì—ì„œ íŒŒì¼ì‹œìŠ¤í…œì€ ë¯¸ë¦¬ ì •í•´ì ¸ ìˆëŠ” í´ëŸ¬ìŠ¤í„°ì˜ í¬ê¸°ë¥¼ ê¸°ë³¸ë‹¨ìœ„ë¡œ í•˜ì—¬ ì½ê³  ì“°ëŠ” ê³¼ì •ì—ì„œ íŒŒì¼ì‹œìŠ¤í…œì€ ë¯¸ë¦¬ ì •í•´ì ¸ìˆëŠ” í´ëŸ¬ìŠ¤í„°ì˜ í¬ê¸°ë¥¼ ê¸°ë³¸ë‹¨ìœ„ë¡œ í•˜ì—¬ ì…ì¶œë ¥ì„ í•˜ê²Œ ëœë‹¤. í´ëŸ¬ìŠ¤í„°ì˜ í¬ê¸°ê°€ 4096Byteë¼ë©´ 1Byteë¥¼ ì½ë”ë¼ë„ 4096Byteë¥¼ ì½ì–´ì•¼í•œë‹¤. processprocess \" process í¬ê¸°ê°€ ì‘ì€ íŒŒì¼ì„ ì €ì¥í•  ê²½ìš° ë‚­ë¹„ë˜ëŠ” ì˜ì—­ì´ ìƒê¸°ëŠ”ë° ì´ ë¶€ë¶„ì˜ ê³µê°„ì€ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥ í•´ì§„ë‹¤. ë‚­ë¹„ë˜ì–´ë„ ì„±ëŠ¥ì ì¸ ì¸¡ë©´ì—ì„œ I/Oì˜ ë¹„ìš©ì´ ì»¤ì„œ ìš”ì¦˜ì˜ ëŒ€ìš©ëŸ‰ í•˜ë“œë¼ë©´ ì„±ëŠ¥ì„ ìœ„í•´ ë¬´ì‹œí•  ì •ë„ë‹¤ ","date":"2020-06-21","objectID":"/filesystem/:3:1","tags":["os","linux","filesystem"],"title":"FileSystem","uri":"/filesystem/"},{"categories":["os","linux"],"content":"íŒŒì¼ íŒŒì¼ì‹œìŠ¤í…œì€ ê²°êµ­ íŒŒì¼ì„ ê¸°ë¡í•˜ê¸° ìœ„í•œ ê²ƒì´ë¯€ë¡œ íŒŒì¼ì„ ì´ë£¨ëŠ” êµ¬ì¡°ì™€ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì¶”ê°€ì ì¸ ë°©ë²•ì„ ì œì‹œí•œë‹¤. íŒŒì¼ì€ ì†ì„±ì„ ê¸°ë¡í•˜ëŠ” ë©”íƒ€ ë°ì´í„°, ì‹¤ì œ ë°ì´í„°ë¥¼ ê¸°ë¡í•˜ëŠ” ë°ì´í„° ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰œë‹¤. íŒŒì¼ ì •ë³´ ìš”ì²­ í”„ë¡œì„¸ìŠ¤ íŒŒì¼ì •ë³´ìš”ì²­ â†’ Meta Data ë¡œ íŒŒì¼ ê²½ë¡œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤. Meta Data â†’ ìš”ì²­ íŒŒì¼ ê²½ë¡œ ì•ˆë‚´ë¥¼ í•´ì¤€ë‹¤. Meta Dataë¡œ ë¶€í„° ë°›ì€ ê²½ë¡œë¡œ ì‹¤ì œ íŒŒì¼ë¡œ ì ‘ê·¼í•œë‹¤. ì°¸ê³  https://blog.naver.com/bitnang/70183421214 ","date":"2020-06-21","objectID":"/filesystem/:3:2","tags":["os","linux","filesystem"],"title":"FileSystem","uri":"/filesystem/"},{"categories":["aws"],"content":"ê³µê²©ì˜ í‘œë©´, Bastionì„ ê´€ë¦¬ í•˜ëŠ” ìš´ì˜ìƒì˜ ë¶€ë‹´ ë° ë°œìƒí•˜ëŠ” ì¶”ê°€ ë¹„ìš©ì„ ë”ìš± ì¤„ì´ê¸° ìœ„í•´, AWS Systems Manager Session Managerë¥¼ ì‚¬ìš©í•˜ì—¬, Bastionì„ ìš´ì˜í•˜ê±°ë‚˜ ì¡°ì‘ í•  í•„ìš”ì—†ì´ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì•ˆì „í•˜ê²Œ ì—°ê²° í•  ìˆ˜ ìˆë‹¤. Bastionì‹¤í–‰ì— ìˆ˜ë°˜ë˜ëŠ” ë¶ˆí¸í•¨ê³¼ ì¸ìŠ¤í„´ìŠ¤ì˜ inbound SSH port ê°œë°©ìœ¼ë¡œ ìœ ë°œë˜ëŠ” ìœ„í—˜ì„ í”¼í•˜ê³ ì í•œë‹¤. ë³´ì•ˆ ì•¡ì„¸ìŠ¤ ìˆ˜ë™ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ì— ì‚¬ìš©ì ê³„ì •, ì•”í˜¸ ë˜ëŠ” SSHë¥¼ ì„¤ì •í•  í•„ìš”ê°€ ì—†ìœ¼ë©° inbound portë¥¼ ê°œë°œí•˜ì§€ ì•Šì•„ë„ ëœë‹¤. Session ManagerëŠ” SSM ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‹œì‘í•œ ì•”í˜¸í™”ëœ ì±„ë„ì„ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ì™€ í†µì‹ í•˜ë©° Bastionì´ í•„ìš”í•˜ì§€ ì•Šë‹¤. ì•¡ì„¸ìŠ¤ ì œì–´ IAM ì •ì±…ê³¼ ì‚¬ìš©ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ë¥¼ ì œì–´í•˜ë©° SSH keyë¥¼ ë°°í¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. IAMì˜ ë‚ ì§œ ì¡°ê±´ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ì›í•˜ëŠ” ì‹œê°„/ìœ ì§€ ê´€ë¦¬ ê¸°ê°„ìœ¼ë¡œ ì•¡ì„¸ìŠ¤ë¥¼ ì œí•œ í•  ìˆ˜ ìˆë‹¤. ê°ì‚¬ ìš©ì´ì„± ëª…ë ¹ê³¼ ì‘ë‹µì€ Amazon CloudWatch ë° S3 ë²„í‚·ì— ë¡œê¹… í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ì„¸ì…˜ì´ ì‹œì‘ë  ë•Œ SNS ì•Œë¦¼ì„ ìˆ˜ì‹ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ","date":"2020-04-02","objectID":"/sessionmanager/:0:0","tags":["cloud","aws"],"title":"AWS Session Manager","uri":"/sessionmanager/"},{"categories":["aws"],"content":"Session Managerì˜ ì‘ë™ë°©ì‹ ","date":"2020-04-02","objectID":"/sessionmanager/:1:0","tags":["cloud","aws"],"title":"AWS Session Manager","uri":"/sessionmanager/"},{"categories":["aws"],"content":"Session Manager ì‚¬ìš©ì„ ìœ„í•œ Role Session Managerë¥¼ ì‚¬ìš©í•˜ì—¬ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì•¡ì„¸ìŠ¤ í•˜ë ¤ë©´ ì¸ìŠ¤í„´ìŠ¤ì— SSM ì—ì´ì „íŠ¸ê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•œë‹¤. ë˜í•œ ì¸ìŠ¤í„´ìŠ¤ì—ëŠ” AmazonEC2RoleForSSM ì •ì±…ì„ ë¶€ì—¬í•´ ì£¼ì–´ì•¼ í•œë‹¤. ","date":"2020-04-02","objectID":"/sessionmanager/:1:1","tags":["cloud","aws"],"title":"AWS Session Manager","uri":"/sessionmanager/"},{"categories":["aws"],"content":"SSM Roleì„ ê°–ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ Public Subnet, Private Subnetì— ì„¤ì¹˜ ê¸°ë³¸ì ìœ¼ë¡œ Session Managerì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ ì¸í„°ë„·ì„ í†µí•´ ì ‘ì†ì´ ê°€ëŠ¥í•˜ì—¬ì•¼ í•œë‹¤. (SSM ì—ì´ì „íŠ¸ëŠ” Session Managerì˜ public Endpointì— ì—°ê²°í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ) ë”°ë¼ì„œ Public Sebnetì— ì„¤ì¹˜í•˜ê±°ë‚˜, Private Subnetì— ì„¤ì¹˜í•  ê²½ìš° PrivateLink ì—°ê²°ì„ ì„¤ì •í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Public Subnetì— ì„¤ì¹˜í•  ê²½ìš° Instanceì— ê³µì¸ IPë¥¼ ë¶€ì—¬ ë°›ê³ , SSM ì—ì´ì „íŠ¸ë¥¼ ì„¤ì¹˜ í•˜ê³ , IAMì •ì±…ë§Œ ë¶€ì—¬í•´ì£¼ë©´ System Managerì— Session Managerë©”ë‰´ì— í•´ë‹¹ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. Private Subnetì— ì„¤ì¹˜í•  ê²½ìš° Publicê³¼ ë™ì¼í•˜ì§€ë§Œ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¸í„°ë„·ì— ì ‘ì† ê°€ëŠ¥í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— PrivateLink ì„¤ì •ì„ í•˜ê³  Public Subnet êµ¬ì„±ê³¼ ê°™ì´ í•˜ë©´ ëœë‹¤. Info Notice: VPC End pontë¥¼ ìƒì„±í• ì‹œ Service Nameì—ì„œ ë‹¤ìŒ 4ê°€ì§€ë¥¼ ì¶”ê°€ í•´ì¤˜ì•¼ í•œë‹¤. 1. \"com.amazonws.region-name.ec2\" 2. \"com.amazonaws.region-name.ec2messages\" 3. \"com.amazonaws.region-name.ssm\" 4. \"com.amazonaws.region-name.ssmmessages\" ","date":"2020-04-02","objectID":"/sessionmanager/:1:2","tags":["cloud","aws"],"title":"AWS Session Manager","uri":"/sessionmanager/"},{"categories":["aws"],"content":"AWS Session Managerê³¼ Bastion ë¹„êµ Session Manager Bastion ë¹„ìš© Session ManagerëŠ” ë³„ë„ì˜ ìš”ê¸ˆ ì—†ìŒ AWS PrivateLink ìš”ê¸ˆ Instance ìš´ì˜ ë¹„ìš© ë¡œê·¸ Amazon CloudWatch ë° S3 ë²„í‚· ì œê³µ SNS ì•Œë¦¼ log íŒŒì¼ ìˆ˜ì§‘ -\u003e log ìˆ˜ì§‘ê¸° ë³´ë‚´ëŠ” ì‘ì—… í•„ìš” ë³´ì•ˆ ìˆ˜ë™ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ì— ì‚¬ìš©ì ê³„ì •, ì•”í˜¸ ë˜ëŠ” SSH í‚¤ë¥¼ ì„¤ì •í•  í•„ìš” ì—†ìŒ. Session Manager Consoleì— ì ‘ì†í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ ì ‘ì† ê°€ëŠ¥ (ê³„ì • ê´€ë¦¬ ë”°ë¡œ ì•ˆí•´ë„ ë¨ IAMìœ¼ë¡œ userì— ë”°ë¥¸ ê¶Œí•œ ë¶€ì—¬) Bastion ì„œë²„ì—ì„œ instanceì ‘ì† SSH keyê´€ë¦¬ í•„ìš” ì„¤ì • ì¸ìŠ¤í„´ìŠ¤ì— SSMì—ì´ì „íŠ¸ ì„¤ì¹˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë ë•Œ AmazonEC2RoleforSSM IAM ì •ì±… í• ë‹¹ Session Managerì— ëŒ€í•œ ê¶Œí•œ IAMì •ì±… ìˆ˜ë¦½ í•„ìš” (ì°¸ê³ ) VPCì— PrivateLink ì„¤ì • í•„ìš” êµ¬ì„±ëœ Bastion ì„œë²„ì— ë§ê²Œ ì„¤ì • ì°¸ê³  https://aws.amazon.com/ko/privatelink/pricing/ https://docs.aws.amazon.com/ko_kr/systems-manager/latest/userguide/session-manager.html ","date":"2020-04-02","objectID":"/sessionmanager/:2:0","tags":["cloud","aws"],"title":"AWS Session Manager","uri":"/sessionmanager/"},{"categories":["java","spring"],"content":"spring securityëŠ” spring ê¸°ë°˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³´ì•ˆ(ì¸ì¦, ê¶Œí•œ)ì„ ë‹´ë‹¹í•˜ëŠ” í”„ë ˆì„ì›Œí¬ì´ë‹¤. spring securityëŠ” filterê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— spring mvcì™€ ë¶„ë¦¬ë˜ì–´ ê´€ë¦¬ ë˜ê³  ë™ì‘ëœë‹¤. ","date":"2020-01-04","objectID":"/security/:0:0","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"Spring Security êµ¬ì¡° ","date":"2020-01-04","objectID":"/security/:1:0","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"ì¸ì¦ architecture securitysecurity \" security 1. Received the Http Request Spring securityëŠ” series/chain filterë“¤ì„ ê°€ì§„ë‹¤. requestê°€ ì˜¤ë©´ ì¸ì¦ ë° í—ˆê°€ ëª©ì ìœ¼ë¡œ chain filterë¥¼ í†µí•˜ê²Œ ëœë‹¤. ë˜í•œ ì¸ì¦ ë©”ì»¤ë‹ˆì¦˜/ëª¨ë¸ì— ê¸°ë°˜í•œ ê´€ë ¨ ì¸ì¦ í•„í„°ë¥¼ ì°¾ì„ë•Œ ê¹Œì§€ filter chainì„ ê°€ì¹˜ê²Œ ëœë‹¤. HTTP ê¸°ë³¸ ì¸ì¦ì€ BasicAuthenticationFilterì— ë„ë‹¬í•  ë•Œ ê¹Œì§€ filter chainì„ ê±°ì¹œë‹¤. HTTP Digest ì¸ì¦ì€ DigestAuthenticationFilterë¥¼ ê±°ì¹œë‹¤. Login formìœ¼ë¡œ requestê°€ ì˜¤ë©´ UsernamePasswordAuthenticationFilterë¥¼ ê±°ì¹œë‹¤. X509 ì¸ì¦ requestê°€ ì˜¤ë©´ X509ì— ë„ë‹¬í• ë•Œ ê¹Œì§€ filter chainì„ ê±°ì¹œë‹¤. X509AuthenticationFilter ë‹¤ì–‘í•œ filterë“¤ì€ ë°‘ì—, ì¢…ë¥˜ë“¤ì„ ë‚˜ì—´í•´ë†¨ë‹¤. 2. Creates AuthenticationToken based on user credentials ì¸ì¦ìš”ì²­ì´ AuthenticationFilterì— ì˜í•´ ìˆ˜ì‹ ë˜ë©´, ìˆ˜ì‹ ëœ requestë¡œ ë¶€í„° username, passwordë¥¼ ì¶”ì¶œí•œë‹¤. ì¶”ì¶œëœ ì‚¬ìš©ì ìê²© ì¦ëª…ì„ ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦ ê°œì²´ë¥¼ ìƒì„±í•œë‹¤. ë§Œì•½ credentialì´ username, passwordë©´ ì´ë¥¼ í†µí•´ UsernamePasswordAuthenticationTokenì„ username, passwordë¡œ ìƒì„±í•œë‹¤. 3. Delegating created AuthenticationToken for AuthenticationManagager ì´í›„ UsernamePasswordAuthenticationToken objectë¥¼ Authenticationmanagerì˜ ì¸ì¦ë°©ë²•ì„ í˜¸ì¶œí•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. ProviderManagerì—ëŠ” ì‚¬ìš©ì ìš”ì²­ì„ ì¸ì¦í•˜ëŠ” ë° ì‚¬ìš©í•´ì•¼ í•˜ëŠ” êµ¬ì„±ëœ AuthenticationProvider ëª©ë¡ì´ ìˆë‹¤. ProviderManagerëŠ” ì œê³µëœ ê° AuthenticationProviderë¥¼ ì‚´í´ë³´ê³  ì „ë‹¬ëœ Authentication Objectë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ìë¥¼ ì¸ì¦í•˜ë ¤ê³  ì‹œë„í•œë‹¤. 4. Trying to authenticate with list of AuthenticationProvider AuthenticationProviderëŠ” ì¸ì¦ ê°ì²´ë¥¼ ì´ìš©í•´ ì‚¬ìš©ìë¥¼ ì¸ì¦í•˜ë ¤ê³  ì‹œë„í•œë‹¤. provider CasAuthenticationProvider JaasAuthenticationProvider DaoAuthenticationProvider OpenIDAuthenticationProvider RememberMeAuthenticationProvider LdapAuthenticationProvider 5. UserDetailsService Required ì¼ë¶€ AuthenticationProviderëŠ” ì‚¬ìš©ì ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ì„¸ë¶€ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ê¸° ìœ„í•´ UserDetailsServiceë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 6 \u0026 7. UserDetails or User Object UserDetailsServiceëŠ” ì‚¬ìš©ì ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ UserDetailsë¥¼ ê²€ìƒ‰í•œë‹¤. 8. Authentication Object Or AuthenticationException ì‚¬ìš©ìê°€ ì„±ê³µì ìœ¼ë¡œ ì¸ì¦ë˜ë©´ ì™„ì „íˆ ì±„ì›Œì§„ ì¸ì¦ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤. 9. Authentication is done AuthenticationManagerëŠ” ì™„ì „íˆ ì±„ì›Œì§„ Authentication ê°œì²´ë¥¼ ê´€ë ¨ Authentication Filterë¡œ ë‹¤ì‹œ ë°˜í™˜í•œë‹¤. 10. Setting up Authentication Object in SecurityContext ê·¸ëŸ° ë‹¤ìŒ ê´€ë ¨ AuthenticationFilterëŠ” íšë“í•œ ì¸ì¦ ê°œì²´ë¥¼ í–¥í›„ í•„í„° ì‚¬ìš©ì„ ìœ„í•´ SecurityContextì— ì €ì¥í•œë‹¤. ","date":"2020-01-04","objectID":"/security/:1:1","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"securityì˜ filter ì•„ê¹Œ ìœ„ì—ì„œ ë§í•œ filterë“¤ì˜ ì¢…ë¥˜ë“¤ì„ ë³´ì. SecurityContextPersistenceFilter : SecurityContextRepository ì—ì„œ SecurityContextë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ì €ì¥í•˜ëŠ” ì—­í• . LogoutFilter : ì„¤ì •ëœ ë¡œê·¸ì•„ì›ƒ URLë¡œ ì˜¤ëŠ” ìš”ì²­ì„ ê°ì‹œí•˜ê³  ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ë¥¼í•œë‹¤. BasicAuthenticationFilter : HTTP ê¸°ë³¸ ì¸ì¦ í—¤ë”ë¥¼ ê°ì‹œí•˜ì—¬ ì²˜ë¦¬í•œë‹¤. RequestCacheAwareFilter : ë¡œê·¸ì¸ ì„±ê³µ í›„ ì›ë˜ ìš”ì²­ ì •ë³´ë¥¼ ì¬êµ¬ì„±í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. UsernamePasswordAuthenticationFilter : usernameê³¼ passwordë¥¼ ì‚¬ìš©í•˜ëŠ” form ê¸°ë°˜ ì¸ì¦ì—ì„œ ì„¤ì •ëœ login URLë¡œ ì˜¤ëŠ” ìš”ì²­ì„ ê°ì‹œí•˜ë©° ìœ ì € ì¸ì¦ì„ ì²˜ë¦¬í•œë‹¤. DefaultLoginPageGeneratingFilter : ì¸ì¦ì„ ìœ„í•œ login form URLì„ ê°ì‹œí•œë‹¤. SecurityContextHolderAwareRequestFilter : HttpServletRequestWrapperë¥¼ ìƒì†í•œ SecurityContextHolderAwareRequestWapper í´ë˜ìŠ¤ë¡œ HttpServletRequest ì •ë³´ë¥¼ ê°ì‹¼ë‹¤. AnonymousAuthenticationFilter : ì´ í•„í„°ê°€ í˜¸ì¶œë˜ëŠ” ì‹œì ê¹Œì§€ ì‚¬ìš©ì ì •ë³´ê°€ ì¸ì¦ ë˜ì§€ ì•Šì•˜ë‹¤ë©´, ì¸ì¦í† í°ì— ì‚¬ìš©ìê°€ ìµëª… ì‚¬ìš©ìë¡œ ë‚˜íƒ€ë‚œë‹¤. SessionManagementFilter : ì¸ì¦ëœ ì‚¬ìš©ìì™€ ê´€ë ¨ëœ ëª¨ë“  ì„¸ì…˜ì„ ì¶”ì í•œë‹¤. ExceptionTranslationFilter : ë³´í˜¸ëœ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì¤‘ì— ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ë¥¼ ìœ„ì•”í•˜ê±°ë‚˜ ì „ë‹¬í•œë‹¤. FilterSecurityInterceptor : AccessDecisionManagerë¡œ ê¶Œí•œë¶€ì—¬ ì²˜ë¦¬ë¥¼ ìœ„ì„í•´ì„œ ì ‘ê·¼ ì œì–´ ê²°ì •ì„ ì‰½ê²Œ í•´ì¤€ë‹¤. ","date":"2020-01-04","objectID":"/security/:1:2","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"Authentication ëª¨ë“  ì ‘ê·¼ ì£¼ì²´ëŠ” Authenticationì„ ìƒì„±í•œë‹¤. ì´ê²ƒì€ SecurityContextì— ë³´ê´€ë˜ê³  ì‚¬ìš©ëœë‹¤. securityì˜ ì„¸ì…˜ë“¤ì€ ë‚´ë¶€ ë©”ëª¨ë¦¬(SecurityContextHolder)ì— ìŒ“ê³  êº¼ë‚´ ì“°ëŠ”ê²ƒì´ë‹¤. ","date":"2020-01-04","objectID":"/security/:1:3","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"AuthenticationManager Userì˜ ìš”ì²­ë‚´ì— ë‹´ê¸´ Authenticationì„ AuthenticationManagerì— ë„˜ê²¨ì£¼ê³  AuthenticationManagerë¥¼ êµ¬í˜„í•œ ProviderManagerê°€ ì²˜ë¦¬í•œë‹¤. public interface Authentication extends Principal, Serializable { Collection\u003c? extends GrantedAuthority\u003e getAuthorities(); // Authentication ì €ì¥ì†Œì— ì˜í•´ ì¸ì¦ëœ ì‚¬ìš©ìì˜ ê¶Œí•œ ëª©ë¡ Object getCredentials(); // ì£¼ë¡œ ë¹„ë°€ë²ˆí˜¸ Object getDetails(); // ì‚¬ìš©ì ìƒì„¸ì •ë³´ Object getPrincipal(); // ì£¼ë¡œ ID boolean isAuthenticated(); //ì¸ì¦ ì—¬ë¶€ void setAuthenticated(boolean isAuthenticated) throws IllegalArgumentException; } ","date":"2020-01-04","objectID":"/security/:1:4","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"ì„¤ì • ì˜ì¡´ì„± ì¶”ê°€ security ì„¤ì • ","date":"2020-01-04","objectID":"/security/:2:0","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"ì˜ì¡´ì„±ì¶”ê°€ gradle implementation 'org.springframework.boot:spring-boot-starter-security' ","date":"2020-01-04","objectID":"/security/:2:1","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"security ì„¤ì • @Configuration @EnableWebSecurity @AllArgsConstructor public class securityConfig extends WebSecurityConfigurerAdapter { private UserService userService; @Bean public PasswordEncoder passwordEncoder() { return new BCryptPasswordEncoder(); } @Override public void configure(WebSecurity web) throws Exception { web.ignoring().antMatchers(\"/css/\\*\\*\", \"/js/\\*\\*\", \"/img/\\*\\*\", \"/lib/\\*\\*\"); super.configure(web); } @Override protected void configure(HttpSecurity http) throws Exception { http.authorizeRequests() .antMatchers(\"/user/myinfo/**\").hasRole(\"USER\") .antMatchers(\"/admin/**\").hasRole(\"ADMIN\") .antMatchers(\"/**\").permitAll(); http.csrf().disable(); http.formLogin() .loginPage(\"/user/login\") .failureUrl(\"/login-error\") .defaultSuccessUrl(\"/user/login/result\", true) .usernameParameter(\"username\") .passwordParameter(\"password\"); http.logout() .logoutRequestMatcher(new AntPathRequestMatcher(\"/user/logout\")) .logoutSuccessUrl(\"/user/logout/result\") .invalidateHttpSession(true); http.exceptionHandling().accessDeniedPage(\"/user/denied\"); } @Override public void configure(AuthenticationManagerBuilder auth) throws Exception { auth.userDetailsService(userService).passwordEncoder(passwordEncoder()); } // ë§Œì•½ defaultë¡œ ìœ ì €ë¥¼ ì„¤ì •í•˜ê³  ì‹¶ë‹¤ë©´ // // @Override // protected void configure(AuthenticationManagerBuilder auth) throws Exception { // auth.inMemoryAuthentication() // .withUser(\"user\") // .password(passwordEncoder().encode(\"1234\")) // .roles(\"USER\"); // } } @EnableWebSecurity @Configuration í´ë˜ìŠ¤ì— @EnableWebSecurity ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ì—¬ spring securityí´ë˜ìŠ¤ë¼ê³  ëª…ì‹œí•´ì¤€ë‹¤. passwordEncoder() BCryptPasswordEncodeëŠ” spring securityì—ì„œ ì œê³µí•˜ëŠ” ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ê°ì²´ì´ë‹¤. Serviceì—ì„œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•”í˜¸í™” í•  ìˆ˜ ìˆë„ë¡ Beanìœ¼ë¡œ ë“±ë¡í•œë‹¤. ë‹¤ìŒìœ¼ë¡œ Configure() ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”© í•˜ì—¬ securityì„¤ì €ì„ í•´ì¤€ë‹¤. configure(WebSecurity web) WebSecurityëŠ” FilterChainProxyë¥¼ ìƒì„±í•˜ëŠ” í•„í„°ì´ë‹¤. web.ignoring().antMatchers(\"/css/\", â€œ/js/â€, â€œ/img/â€, â€œ/lib/\"); ì™€ ê°™ì´ ì‚¬ìš©í•˜ê³  í•´ë‹¹ ê²½ë¡œì˜ íŒŒì¼ë“¤ì€ spring securityê°€ ë¬´ì‹œí•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•œë‹¤. configure(HttpSecurity http) HttpSecurityë¥¼ í†µí•´ HTTPìš”ì²­ì— ëŒ€í•œ ì›¹ ê¸°ë°˜ ë³´ì•ˆ ì„¤ì •ì„ í•  ìˆ˜ ìˆë‹¤. authorizeRequests() HttpServletRequestì— ë”°ë¼ ì ‘ê·¼ì„ ì œí•œí•œë‹¤. antMatchers() ë©”ì„œë“œë¡œ íŠ¹ì • ê²½ë¡œë¥¼ ì§€ì •í•˜ê³  permitAll(), hasRole() ë©”ì„œë“œë¡œ ì—­í• ì— ë”°ë¥¸ ì ‘ê·¼ ì„¤ì •ì„ ì¡ì•„ì¤€ë‹¤. formlogin() formê¸°ë°˜ìœ¼ë¡œ ì¸ì¦í•˜ë„ë¡ í•´ì¤€ë‹¤. ë¡œê·¸ì¸ ì •ë³´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ HttpSessionì„ ì´ìš©í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ spring securityì—ì„œ ì œê³µë˜ëŠ” login formì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë° /loginìœ¼ë¡œ ì ‘ê·¼í•˜ë©´ ëœë‹¤. .loginPage(\"/user/loginâ€) ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ëŠ” formë§ê³  ì»¤ìŠ¤í…€ formì„ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´ loginPage() ë©”ì„œë“œë¥¼ ì´ìš©í•œë‹¤. ì´ ë•Œ ì»¤ìŠ¤í…€ ë¡œê·¸ì¸ formì˜ action ê²½ë¡œì™€ loginPage()ì˜ íŒŒë¼ë¯¸í„° ê²½ë¡œê°€ ì¼ì¹˜í•´ì•¼ ì¸ì¦ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. logout() ë¡œê·¸ì•„ì›ƒì„ ì§€ì›í•˜ëŠ” ë©”ì„œë“œ. ê¸°ë³¸ì ìœ¼ë¡œ /logoutì— ì ‘ê·¼í•˜ë©´ HTTP ì„¸ì…˜ì„ ì œê±°í•œë‹¤. .logoutRequestMatcher(new AntPathRequestMatcher(\"/user/logout\")) ê¸°ë³¸ /logoutì´ ì•„ë‹Œ ë‹¤ë¥¸ URLë¡œ ì»¤ìŠ¤í…€í•œë‹¤. .invalidateHttpSession(true); HTTP ì„¸ì…˜ì„ ì´ˆê¸°í™” í•œë‹¤. configure(AuthenticationManagerBuilder auth) spring security ì—ì„œ ëª¨ë“  ì¸ì¦ì€ AuthenticationManagerë¥¼ í†µí•´ ì´ë¤„ì§€ë©° AuthenticationManagerë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” AuthenticationManagerBuilderë¥¼ ì‚¬ìš©í•œë‹¤. ì¸ì¦ì„ ìœ„í•´ì„œ UserDetaulServiceë¥¼ í†µí•´ í•„ìš”í•œ ì •ë³´ë“¤ì„ ê°€ì ¸ì˜¨ë‹¤. service í´ë˜ìŠ¤ì—ì„œëŠ” UserDetailsService ì¸íŠ¸í¼ì—ì‹œë¥¼ implementsí•˜ì—¬, loadUserByUsername() ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ë©´ëœë‹¤. ","date":"2020-01-04","objectID":"/security/:2:2","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["java","spring"],"content":"ì‹¤ìŠµ ì˜ˆì œ UserController @Controller @AllArgsConstructor public class UserController { private UserService userService; @GetMapping(value = \"/index\") public String home() { return \"/index\"; } // íšŒì›ê°€ì… í˜ì´ì§€ @GetMapping(\"/user/signup\") public String dispSignup() { return \"/signup\"; } // íšŒì›ê°€ì… ì²˜ë¦¬ @PostMapping(\"/user/signup\") public String execSignup(UserDto memberDto) { userService.joinUser(memberDto); return \"redirect:/user/login\"; } // ë¡œê·¸ì¸ í˜ì´ì§€ @GetMapping(\"/user/login\") public String dispLogin() { return \"/login\"; } // ë¡œê·¸ì¸ ê²°ê³¼ í˜ì´ì§€ @GetMapping(\"/user/login/result\") public String dispLoginResult() { return \"/loginSuccess\"; } // ë¡œê·¸ì•„ì›ƒ ê²°ê³¼ í˜ì´ì§€ @GetMapping(\"/user/logout/result\") public String dispLogout() { return \"/logout\"; } // ì ‘ê·¼ ê±°ë¶€ í˜ì´ì§€ @GetMapping(\"/user/denied\") public String dispDenied() { return \"/denied\"; } // ë‚´ ì •ë³´ í˜ì´ì§€ @GetMapping(\"/user/info\") public String dispMyInfo() { return \"/myinfo\"; } // ì–´ë“œë¯¼ í˜ì´ì§€ @GetMapping(\"/admin\") public String dispAdmin() { return \"/admin\"; } } UserService @Service @AllArgsConstructor public class UserService implements UserDetailsService { private UserRepository userRepository; @Transactional public UserEntity joinUser(UserDto userDto) { BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder(); userDto.setPassword(passwordEncoder.encode(userDto.getPassword())); return userRepository.save(userDto.toEntity()); } @Override public UserDetails loadUserByUsername(String userEmail) throws UsernameNotFoundException { Optional\u003cUserEntity\u003e userEntityWrapper = userRepository.findByEmail(userEmail); UserEntity userEntity = userEntityWrapper.get(); List\u003cGrantedAuthority\u003e authorities = new ArrayList\u003c\u003e(); if((\"admin@example.com\").equals(userEmail)) { authorities.add(new SimpleGrantedAuthority(Role.ADMIN.getValue())); } else { authorities.add(new SimpleGrantedAuthority(Role.USER.getValue())); } return new User(userEntity.getEmail(), userEntity.getPassword(), authorities); } } UserEntity @NoArgsConstructor(access = AccessLevel.PROTECTED) @Getter @Entity public class UserEntity extends BaseTimeEntity { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id; @Column(length = 20, nullable = false) private String email; @Column(length = 100, nullable = false) private String password; @Builder public UserEntity(Long id, String email, String password) { this.id = id; this.email = email; this.password = password; } } UserRepository public interface UserRepository extends JpaRepository\u003cUserEntity, Long\u003e { Optional\u003cUserEntity\u003e findByEmail(String userEmail); } Role @AllArgsConstructor @Getter public enum Role { ADMIN(\"ROLE_ADMIN\"), USER(\"ROLE_USER\"); private String value; } UserDto @Getter @Setter @ToString @NoArgsConstructor public class UserDto { private Long id; private String email; private String password; private LocalDateTime createdDate; private LocalDateTime modifiedDate; public UserEntity toEntity(){ return UserEntity.builder() .id(id) .email(email) .password(password) .build(); } @Builder public UserDto(Long id, String email, String password) { this.id = id; this.email = email; this.password = password; } } ì°¸ê³  https://springbootdev.com/2017/08/23/spring-security-authentication-architecture/#more-54 https://sjh836.tistory.com/165 https://victorydntmd.tistory.com/328 ","date":"2020-01-04","objectID":"/security/:3:0","tags":["java","spring"],"title":"Spring Security","uri":"/security/"},{"categories":["aws"],"content":"Route53ì€ AWSì—ì„œ ì œê³µí•˜ëŠ” DNSì„œë¹„ìŠ¤ ì´ë‹¤. DNSëŠ” domain name(www.example.com) ì„ ipì£¼ì†Œë¡œ ë°”ê¿” ì£¼ëŠ” ì¼ì¢…ì˜ dictionary ì„œë¹„ìŠ¤ ì´ë‹¤. DNSë™ì‘ê³¼ì •ì€ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•˜ê¸° ìœ„í•´ IPë¥¼ ì°¾ì•„ê°€ëŠ” ê³¼ì •ì´ë‹¤. ì´ëŸ¬í•œ mapping ì •ë³´ë¥¼ ì €ì¥í•´ ë†“ëŠ” íŒŒì¼ì„ DNS Zone fileì´ë¼ê³  í•œë‹¤. ","date":"2019-12-26","objectID":"/route53/:0:0","tags":["cloud","aws"],"title":"Amazon Route53 DNS Service","uri":"/route53/"},{"categories":["aws"],"content":"ë ˆì½”ë“œ DNSì„œë²„ì— ì €ì¥í•´ë†“ì€ íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ì£¼ì†Œë¥¼ ë³€í™˜í•˜ëŠ”ë°, ì—¬ê¸°ì„œ ì •ì˜ë˜ëŠ” ë ˆì½”ë“œë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. A(Address Mapping records) ë„ë©”ì¸ì„ IPë¡œ Mapping ë ˆì½”ë“œ AëŠ” ì£¼ì–´ì§„ í˜¸ìŠ¤íŠ¸ì— ëŒ€í•œ IPì£¼ì†Œ (IPv4)ë¥¼ ì•Œë ¤ì¤€ë‹¤. AAAA(IP Version 6 Address records) ë ˆì½”ë“œ AAAA(quad-A)ëŠ” ì£¼ì–´ì§„ í˜¸ìŠ¤íŠ¸ì— ëŒ€í•´ IPv6ì£¼ì†Œë¥¼ ì•Œë ¤ì¤€ë‹¤. ê²°êµ­ Aë ˆì½”ë“œì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‘ë™. ì°¨ì´ëŠ” IPv6ì´ë‹¤. CNAME(Canonical Name) ë„ë©”ì¸ëª…ì„ ë‹¤ë¥¸ ë„ë©”ì¸ê³¼ Mappingí• ë•Œ ì‚¬ìš© (aliasì™€ ë¹„ìŠ·) ì¦‰, ë„ë©”ì¸ ì´ë¦„ì˜ ë³„ì¹­ì„ ë§Œë“œëŠ”ë° ì‚¬ìš©. ê²½ìš°ì— ë”°ë¼ CNAME ë ˆì½”ë“œë¥¼ ì œê±°í•˜ê³  Aë ˆì½”ë“œë¡œ ëŒ€ì²´í•˜ë©´ ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤ê³ í•œë‹¤..(ì•„ì§ ì˜ ëª¨ë¥´ê² ë„¤ìš”) HINFO(Host Information) HINFO ë ˆì½”ë“œëŠ” í˜¸ìŠ¤íŠ¸ì— ëŒ€í•œ ì¼ë°˜ ì •ë³´ë¥¼ ì–»ëŠ”ë° ì‚¬ìš©. CPU ë° OSìœ í˜•ì„ ì•Œë ¤ì¤€ë‹¤. ë”°ë¼ì„œ ë‘ í˜¸ìŠ¤íŠ¸ê°€ í†µì‹ í•˜ê¸°ë¥¼ ì›í•  ë•Œ OSíŠ¹ì • í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì„ ì œê³µí•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë³´ì•ˆ ë•Œë¬¸ì— ê³µìš© ì„œë²„ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ISDN(Integrated Services Digital Network) ISDNì£¼ì†Œë¥¼ ì•Œë ¤ì¤€ë‹¤. ISDNì£¼ì†ŒëŠ” êµ­ê°€ì½”ë“œ, êµ­ê°€ ë³„ ëŒ€ìƒì½”ë“œ, ISDN ê°€ì…ì ë²ˆí˜¸ ë° ì„ íƒì ìœ¼ë¡œ ISDN í•˜ìœ„ ì£¼ì†Œë¡œ êµ¬ì„±ëœ ì „í™” ë²ˆí˜¸ ì´ë‹¤. MX(Mail exchanger) DNSë„ë©”ì¸ ì´ë¦„ì— ëŒ€í•œ ë©”ì¼ êµí™˜ ì„œë²„ë¥¼ ì•Œë ¤ì¤€ë‹¤. ì´ ì •ë³´ëŠ” SMTPê°€ ì „ì ë©”ì¼ì„ ì ì ˆí•œ í˜¸ìŠ¤íŠ¸ë¡œ ë¼ìš°íŒ…í•˜ëŠ” ë° ì‚¬ìš©í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ DNS ë„ë©”ì¸ì— ëŒ€í•´ ë‘˜ ì´ìƒì˜ ë©”ì¼ êµí™˜ ì„œë²„ê°€ ìˆìœ¼ë©° ê° ë„ë©”ì¸ì— ìš°ì„  ìˆœìœ„ê°€ ì„¤ì • ëœë‹¤. NS(Name Server) DNSì„œë²„ê°€ ì°¸ì¡°í•˜ëŠ” ë‹¤ë¥¸ DNSì„œë²„ì´ë‹¤. DNS ì„œë²„ ìì‹ ì—ì„œ domain nameì— ëŒ€í•œ ì£¼ì†Œë¥¼ ì•Œì•„ ë‚´ì§€ ëª»í• ë•Œ, ì´ NSë ˆì½”ë“œì— ì •ì˜ë„ë‹ˆ ì„œë²„ë¡œ ê°€ì„œ ì£¼ì†Œë¥¼ ì•Œì•„ ì˜¨ë‹¤. PTR(Reverse-lookup Pointer records) ì •ë°©í–¥ DNSí™•ì¸ (A, AAAA)ë ˆì½”ë“œì™€ ë‹¬ë¦¬ PTRë ˆì½”ë“œëŠ” IPì£¼ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë„ë©”ì¸ ì´ë¦„ì„ ì°¾ëŠ”ë° ì‚¬ìš©ëœë‹¤. SOA(Start of Authority) ê¸°ë³¸ ì´ë¦„ ì„œë²„, ë„ë©”ì¸ ê´€ë¦¬ìì˜ ì „ì ë©”ì¼, ë„ë©”ì¸ ì¼ë ¨ ë²ˆí˜¸ ë° ì˜ì—­ ìƒˆë¡œ ê³ ì¹¨ê³¼ ê´€ë ¨ëœ ì—¬ëŸ¬ íƒ€ì´ë¨¸ë¥¼ í¬í•¨í•˜ì—¬ DNS ì˜ì—­ì— ëŒ€í•œ í•µì‹¬ ì •ë³´ë¥¼ ì§€ì •. TXT(Text) í˜•ì‹ì´ ì§€ì •ë˜ì§€ ì•Šì€ ì„ì˜ì˜ í…ìŠ¤íŠ¸ ë¬¸ìì—´ì„ ì €ì¥í•  ìˆ˜ ìˆë‹¤. ","date":"2019-12-26","objectID":"/route53/:1:0","tags":["cloud","aws"],"title":"Amazon Route53 DNS Service","uri":"/route53/"},{"categories":["aws"],"content":"ìºì‹± DNS ì„œë²„ì˜ íŠ¹ì„±ì¤‘ì— ì¤‘ìš”í•œ íŠ¹ì„±ì€ ìºì‹±ì´ë‹¤. ë³´í†µ DNSì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì‚¬ìš©í•˜ëŠ” ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ì— ìˆëŠ” DNSë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ì´ DNS ì„œë²„ë“¤ì€ look upì„ ìš”ì²­í•œ ëª©ì  ì„œë¹„ìŠ¤ ì„œë²„ì— ëŒ€í•œ ip ì£¼ì†Œë¥¼ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•  ë•Œ ì‘ë‹µì„ ë¹ ë¥´ê²Œ í•˜ê¸° ìœ„í•´ ìì²´ì ìœ¼ë¡œ ìºì‹± í•˜ê³  ìˆë‹¤. ì˜ˆë¥¼ë“¤ì–´ì„œ www.example.com ìœ¼ë¡œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ê°€ ìˆë‹¤ê³  í•˜ë©´ ì´ ê²ƒì„ ìš´ì˜í•˜ê³  ìˆëŠ” íšŒì‚¬ì˜ DNSì„œë²„ì— ì£¼ì†Œê°€ ì •ì˜ë˜ì–´ ìˆì„ ê²ƒì´ë‹¤. ë§Œì•½ ë‚˜ì˜ ìŠ¤ë§ˆíŠ¸ í°ìœ¼ë¡œ ì´ www.example.com ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´, ë‚´ê°€ ì“°ëŠ” í†µì‹ ì‚¬ì˜ DNSì„œë²„ë¥¼ ì´ìš©í•´ ì£¼ì†Œë¥¼ look upí•  ê²ƒì´ê³ , ì´ DNSì„œë²„ëŠ” ìœ„ì˜ www.example.com ì„ ìš´ì˜í•˜ê³  ìˆëŠ” íšŒì‚¬ì˜ DNSì„œë²„ì— ì£¼ì†Œë¥¼ ë¬¼ì–´ë³´ê³  ë‹¤ìŒ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´ ìºì‹œë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤. ì´ ìºì‹œê°€ ì—…ë°ì´íŠ¸ ë˜ëŠ” ì‹œê°„ì´ TTLì´ë‹¤. ","date":"2019-12-26","objectID":"/route53/:2:0","tags":["cloud","aws"],"title":"Amazon Route53 DNS Service","uri":"/route53/"},{"categories":["aws"],"content":"aws route53 route53ì—ì„œ ë„¤ì„ì„œë²„ ë“±ë¡í•˜ëŠ” ê²ƒì„ ì•Œì•„ë³´ì. route53ì‚¬ì´íŠ¸ì—ì„œ Create Hosted Zoneì„ ëˆŒëŸ¬ì„œ ìƒì„±í•˜ë©´ 4ê°œì˜ NSë ˆì½”ë”ê°€ ìƒì„±ëœë‹¤. ì˜ˆë¥¼ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±ëœë‹¤. ì´ë¥¼ ë„ë©”ì¸ ë“±ë¡ ëŒ€í–‰ ê¸°ê´€ ì‚¬ì´íŠ¸ì— ê°€ì„œ route53ì—ì„œ ì§€ì •ëœ NSì •ë³´ë¥¼ ì…ë ¥í•œë‹¤. ns-1.awsdns-50.com ns-6.awsdns-20.net ns-3.awsdns-30.co.uk ns-8.awsdns-33.org route53ì€ 2ê°€ì§€ host zoneì´ ìˆë‹¤. Public Host zone ì¼ë°˜ ë„¤ì„ì„œë²„ë¡œ ë™ì‘ Private Host zone AWSë‚´ì—ì„œë§Œ ë™ì‘ route53ì€ ALIASê°€ ìˆë‹¤ ë„ë©”ì¸ì— ë³„ì¹­ì„ ì¤„ ìˆ˜ ìˆì–´ì„œ ë§Œì•½ example.com ë„ë©”ì¸ì— ALIAS Targetì„ wwwë¡œ ì¤˜ì„œ www.example.com ê³¼ ê°™ì€ IPë¥¼ ì‘ë‹µì£¼ê²Œ ê°€ëŠ¥í•˜ë‹¤. Route ê¸°ëŠ¥ route53ì€ DNS + ëª¨ë‹ˆí„°ë§ + L4 + GSLBê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. Route53ì€ íŠ¹ì • í¬íŠ¸ì— ëŒ€í•´ ëª¨ë‹ˆí„°ë§ì´ ê°€ëŠ¥í•˜ë‹¤. L4ê¸°ëŠ¥, Failoverê¸°ëŠ¥ì´ ìˆë‹¤. GSLBì€ Global Server Load Balancingìœ¼ë¡œ ì§€ì—­ì— ìƒê´€ì—†ì´ ë¶€í•˜ë¥¼ ë¶„ì‚°í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ì°¸ê³  https://win100.tistory.com/360 https://bcho.tistory.com/795 https://brunch.co.kr/@topasvga/49 ","date":"2019-12-26","objectID":"/route53/:3:0","tags":["cloud","aws"],"title":"Amazon Route53 DNS Service","uri":"/route53/"},{"categories":["java","spring"],"content":"ì•„ì§ Spring \u0026 MyBatisë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•˜ì§€ë§Œ ì´ì   ìƒì‚°ì„±ì´ ì¢‹ì€ JPAë¥¼ ë§ì´ ì“´ë‹¤ê³  í•˜ë‹ˆ í•´ë³´ì. ","date":"2019-12-17","objectID":"/jpa/:0:0","tags":["java","spring","jpa"],"title":"Spring Data JPA","uri":"/jpa/"},{"categories":["java","spring"],"content":"Entity @NoArgsConstructor @Getter @Entity public class Students extends BaseTimeEntity { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Long id; private String studentId; private String password; private String name; private String birthDay; private String email; private String phone; @Builder public Students(String studentId, String password, String name, String birthDay, String email, String phone){ this.studentId = studentId; this.password = password; this.name = name; this.birthDay = birthDay; this.email = email; this.phone = phone; } public void updateStudent(UpdateStudentReq dto) { this.password = dto.getPassword(); this.birthDay = dto.getBirthDay(); this.phone = dto.getPhone(); this.email = dto.getEmail(); } } ì—¬ê¸°ì„œ Student í´ë˜ìŠ¤ëŠ” ì‹¤ì œ DBì˜ í…Œì´ë¸”ê³¼ Mappingë  í´ë˜ìŠ¤ì´ê³  Entity í´ë˜ìŠ¤ë¼ê³  í•œë‹¤. @Entity í…Œì´ë¸”ê³¼ ì—°ê²°ë  í´ë˜ìŠ¤ì´ë‹¤. _ìœ¼ë¡œ ì´ë¦„ì„ ë§¤ì¹­í•œë‹¤. (ex. JaejinTest -\u003e Jaejin_Test) @Id í•´ë‹¹ í…Œì´ë¸”ì˜ PKí•„ë“œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. @GeneratedValue PKì˜ ìƒì„± ê·œì¹™ defaultëŠ” AUTOì´ê³  auto_incrementì™€ ê°™ì´ ìë™ ì¦ê°€í•˜ëŠ” ì •ìˆ˜ ê°’ì´ ëœë‹¤. spring2.xë²„ì „ ë¶€í„°ëŠ” ì¡°ì‹¬ ! ì°¸ê³  blog @Column í…Œì´ë¸”ì˜ ì»¬ëŸ¼ êµ³ì´ ì‚¬ìš©ì•ˆí•´ë„ ëª¨ë‘ ì»¬ëŸ¼ì´ ëœë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ëª¨ë‘ ê·¸ëƒ¥ ì¨ë„ ì»¬ëŸ¼ìœ¼ë¡œ ì¸ì‹í•œë‹¤. private String studentId; private String password; private String name; ê¸°ë³¸ê°’ ì™¸ì— ì¶”ê°€ê°€ í•„ìš”í•œ ì˜µì…˜ì´ ìˆìœ¼ë©´ ì‚¬ìš©í•œë‹¤. JPAëŠ” lombok ë¼ì´ë¸ŒëŸ¬ë¦¬í•˜ê³  ê°™ì´ ì‚¬ìš©í•˜ë‹ˆ ì•Œì•„ë‘ë„ë¡í•˜ì. lombokì€ ë‹¨ìˆœíˆ ì˜ì¡´ì„± ì¶”ê°€ ë¿ë§Œì•„ë‹ˆë¼ IDEì— ë§ê²Œ ì…‹íŒ…ì´ í•„ìš”í•˜ë‹¤. ","date":"2019-12-17","objectID":"/jpa/:1:0","tags":["java","spring","jpa"],"title":"Spring Data JPA","uri":"/jpa/"},{"categories":["java","spring"],"content":"Repository ì´ì œ Entityë¥¼ Repositoryì™€ ì—°ê²° ì‹œì¼œ ë³´ì. @Repository public interface StudentsRepository extends JpaRepository\u003cStudents, Long\u003e { } JpaRepositoryë¥¼ ìƒì† í•˜ê³  ìˆëŠ”ë° ì´ë ‡ê²Œ ë˜ë©´ CRUDë¥¼ ë”°ë¡œ ì‘ì„± í•  í•„ìš”ì—†ì´ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. private final StudentsRepository studentsRepository; public Students create(StudentsDto.RegistStudentReq dto) { return studentsRepository.save(dto.toEntity()); } ì´ë ‡ê²Œ JpaRepositoryë¥¼ ìƒì†ë°›ì€ Repositoryê°ì²´ë¥¼ ì´ìš©í•´ì„œ save ë©”ì†Œë“œë¥¼ ë°”ë¡œ í˜¸ì¶œ í•  ìˆ˜ ìˆë‹¤. ","date":"2019-12-17","objectID":"/jpa/:2:0","tags":["java","spring","jpa"],"title":"Spring Data JPA","uri":"/jpa/"},{"categories":["java","spring"],"content":"Queries CRUDëŠ” ëŒ€ì¶© ì•Œê²ƒ ê°™ì€ë° ë‚´ê°€ ì›í•˜ëŠ” Queryë¥¼ ì‘ì„±í•˜ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? @Repository public interface StudentsRepository extends JpaRepository\u003cStudents, Long\u003e { List\u003cStudent\u003e findByEmailAddressAndName(String emailAddress, String name); } ì´ë ‡ê²Œ í•œ ì¶”ê°€ í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ Queryë¡œ ì¸ì‹í•œë‹¤. select s from Students s where s.emailAddress = ?1 and s.name = ?2 ë” ë§ì€ Sampleì„ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ JPA ë¬¸ì„œ Table 2.2. Supported keywords inside method names ë¥¼ í™•ì¸í•˜ì. ë¬¼ë¡  @Queryë¡œ ì§ì ‘ Queryë¥¼ ì‘ì„±í•  ìˆ˜ë„ ìˆë‹¤. @Repository public interface StudentsRepository extends JpaRepository\u003cStudents, Long\u003e { @Query(\"select s from Students s where s.emailAddress = ?1 and s.name = ?2\") List\u003cStudent\u003e findByEmailAddressAndName(String emailAddress, String name); } ì°¸ê³ ë¡œ Updateë¥¼ í•´ì•¼í•˜ëŠ” Queryì—ëŠ” @Modifyingì„ ì¶”ê°€í•´ì•¼í•œë‹¤. @Modifying @Query(\"UPDATE Posts p SET p.author = :author, p.content = :content, p.title = :title, p.modifiedDate = :modifiedDate WHERE p.id = :id\") void editPost(@Param(\"author\") String author, @Param(\"content\") String content, @Param(\"title\") String title, @Param(\"modifiedDate\") LocalDateTime modifiedDate, @Param(\"id\") Long id); ì°¸ê³  - https://jojoldu.tistory.com/295 ","date":"2019-12-17","objectID":"/jpa/:3:0","tags":["java","spring","jpa"],"title":"Spring Data JPA","uri":"/jpa/"},{"categories":["blockchain"],"content":"Hyperledger Fabricì— ëŒ€í•´ ì•Œì•„ ë³´ì•˜ë”°. ì´ì œ ì§ì ‘ ê°œë°œ í™˜ê²½ì€ ì˜¬ë ¤ë³´ì. ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:0:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"ê°œë°œì„ ìœ„í•œ í™˜ê²½ docker go virtualBox ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:1:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"Docker VMí™˜ê²½ ìƒì„± ë¬¼ë¡  defaultí™˜ê²½ì„ ì‚¬ìš©í•´ë„ ì¢‹ì§€ë§Œ ë‚˜ì¤‘ì— ì—¬ëŸ¬ê°œì˜ nodeë¥¼ ì˜¬ë ¤ë³´ê¸° ìœ„í•´ì„œ ë¯¸ë¦¬ ë¶„ë¦¬ë¥¼ í•˜ë„ë¡ í•˜ì. $ docker-machine create --driver virtualbox blockchain ë‹¤ìŒìœ¼ë¡œ ìƒì„±ëœ VMì˜ í™˜ê²½ë³€ìˆ˜ë¥¼ í™•ì¸í•˜ì $ docker-machine env blockchain ì´ í™˜ê²½ì„ ê·¸ëŒ€ë¡œ ì ìš© ì‹œí‚¤ì $ eval $(docker-machine env blockchain) ì˜ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ psë‚˜ images ëª…ë ¹ì„ ë‚ ë ¤ë³´ì. $ docker ps or $ docker images docker machineì„ ë§Œë“¤ê¸° ì „ê³¼ ê²°ê³¼ê°€ ë‹¤ë¥´ë‹¤ë©´ ì„±ê³µì´ë‹¤. ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:2:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"Hyperledger Fabric Docker imageë°›ê¸° docker pull hyperledger/fabric-baseimage:x86_64-0.2.2 docker pull hyperledger/fabric-membersrvc:x86_64-0.6.1-preview docker pull hyperledger/fabric-peer:x86_64-0.6.1-preview baseimageì˜ ê²½ìš° TAGë¥¼ latestë¡œ í•´ì•¼í•œë‹¤. docker tag hyperledger/fabric-baseimage:x86_64-0.2.2 hyperledger/fabric-baseimgae:latest docker images ì´ì œ imageë“¤ì„ ë°›ì•˜ìœ¼ë‹ˆ docker-compose íŒŒì¼ì„ í•˜ë‚˜ ì‘ì„±í•˜ì. membersrvc:image:hyperledger/fabric-membersrvc:x86_64-0.6.1-previewports:- \"7054:7054\"command:membersrvcvp0:image:hyperledger/fabric-peer:x86_64-0.6.1-previewports:- \"7050:7050\"- \"7051:7051\"- \"7053:7053\"environment:- CORE_PEER_ADDRESSAUTODETECT=true- CORE_LOGGING_LEVEL=DEBUG- CORE_PEER_ID=vp0- CORE_PEER_PKI_ECA_PADDR=membersrvc:7054- CORE_PEER_PKI_TCA_PADDR=membersrvc:7054- CORE_PEER_PKI_TLSCA_PADDR=membersrvc:7054- CORE_SECURITY_ENABLED=true- CORE_SECURITY_ENROLLID=test_vp0- CORE_SECURITY_ENROLLSECRET=MwYpmSRjupbTlinks:- membersrvccommand:sh -c \"sleep 5; peer node start --peer-chaincodedev\" $ docker-compose up ì—ëŸ¬ ì—†ì´ ì •ìƒ ì‘ë™í•˜ë©´ Blockchain serverê°€ ì‹¤í–‰ëœ ê²ƒì´ë‹¤. ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:3:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"Fabric ì†ŒìŠ¤ ì¤€ë¹„ chaincodeëŠ” goë¡œ ë˜ì–´ìˆëŠ” exampleì„ ì´ìš©í•˜ì. $ mkdir -p $GOPATH/src/github.com/hyperledger $ cd $GOPATH/src/github.com/hyperledger $ git clone https://github.com/hyperledger/fabric.git $ cd fabric $ git checkout v0.6.1-preview ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:4:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"chaincode ë¹Œë“œ ë° ì‹¤í–‰ ì†ŒìŠ¤ë¥¼ ë°›ì•˜ìœ¼ë©´ ë¹Œë“œë¥¼ í•œë‹¤. $ cd $GOPATH/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 $ go build buildë˜ì—ˆìœ¼ë©´ chaincode_example02ë¼ëŠ” ì‹¤í–‰íŒŒì¼ì´ ìƒì„±ë˜ì–´ ìˆì„ ê²ƒì´ë‹¤. ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:5:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"ê°œë°œëª¨ë“œ vs ìš´ì˜ëª¨ë“œ ê°œë°œëª¨ë“œì—ì„œëŠ” chaincodeê°€ blockchain ëŸ°íƒ€ì„ê³¼ ë³„ë„ì˜ í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰ëœë‹¤. ìš´ì˜ëª¨ë“œì—ì„œëŠ” chaincodeë¥¼ deployí•˜ë©´ blockchain networkì— ìˆëŠ” ëª¨ë“  peerë“¤ì—ê²Œ ë³µì œê°€ ë˜ê³  ëª¨ë“  peerë“¤ì´ ë™ì¼í•œ chaincodeë¡œ ë™ì‘í•œë‹¤. ê°œë°œëª¨ë“œëŠ” ë‹¨ì¼ peerì— chaincodeê°€ ë¶™ì–´ì„œ ë™ì‘í•œë‹¤. ì´ì œ ì‹¤ì œë¡œ ë¸”ë¡ì²´ì¸ ëŸ°íƒ€ì„ì— chaincodeë¥¼ ì‹¤í–‰í•˜ì. ì´ì „ì— ìƒì„±í–ˆë˜ docker-compose.yamlíŒŒì¼ì„ ì‹¤í–‰í•œë‹¤. $ docker-compose up -d chaincode ì‹¤í–‰ ì „ docker VMì˜ IPë¥¼ í™•ì¸í•œë‹¤. docker-machine ls URLì— tcp://192.168.99.100:2376 ì´ë¼ê³  (ì•„ë§ˆ ë‹¤ë¥¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤) ë‚˜ì˜¬ í…ë° ì´ë¥¼ CORE_PEER_ADDRESSì— ë„£ê³  ì‹¤í–‰ì‹œí‚¤ë©´ëœë‹¤. $ cd $GOPATH/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 $ CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=192.168.99.100:7051 ./chaincode_example02 ìš”ëŸ°ì‹ìœ¼ë¡œ. ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:5:1","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"í…ŒìŠ¤íŠ¸ REST APIë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ í•´ë³´ì. ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:6:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ ë¨¼ì € ì‚¬ìš©ì ë“±ë¡ ë° ë¡œê·¸ì¸ì„ í•´ë³´ì. ID, PWëŠ” ì‚¬ì „ì— ì •ì˜ ë˜ì–´ ìˆì–´ì„œ ë™ì¼ í•˜ê²Œ í…ŒìŠ¤íŠ¸ í•œë‹¤. POST /registrar { \"enrollId\": \"admin\", \"enrollSecret\": \"Xurw3yU9zI0l\" } responseë¡œ { \"OK\": \"Login successful for user 'admin'.\" } ì´ë¼ê³  ì‘ë‹µì´ ì˜¤ë©´ ì„±ê³µí•œ ê²ƒì´ë‹¤. ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:6:1","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"chaincode deploy POST /chaincode { \"jsonrpc\": \"2.0\", \"method\": \"deploy\", \"params\": { \"type\": 1, \"chaincodeID\":{ \"name\": \"mycc\" }, \"ctorMsg\": { \"args\":[\"init\", \"a\", \"100\", \"b\", \"200\"] }, \"secureContext\": \"admin\" }, \"id\": 1 } ì´ì— ëŒ€í•œ responseëŠ” { \"jsonrpc\": \"2.0\", \"result\": { \"status\": \"OK\", message\": \"mycc\" }, \"id\": 1 } ì´ë ‡ê²Œ ëŒì•„ì˜¤ë©´ ì„±ê³µì ì´ë‹¤. ë§Œì•½ ê°œë°œ ëª¨ë“œì—ì„œ chaincodeë¥¼ ìˆ˜ì •í–ˆì„ì‹œ ì½”ë“œ ë¹Œë“œ -\u003e chaincode ì‹¤í–‰ -\u003e ë¡œê·¸ì¸ APIí˜¸ì¶œ -\u003e chaincode deploy í˜¸ì¶œ ë‹¨ê³„ë¡œ ì§„í–‰í•´ì•¼ ê¸°ë³¸ í™˜ê²½ ì¤€ë¹„ê°€ ëœë‹¤. ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:6:2","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"Invoke POST /chaincode { \"jsonrpc\": \"2.0\", \"method\": \"invoke\", \"params\": { \"type\": 1, \"chaincodeID\":{ \"name\":\"mycc\" }, \"ctorMsg\": { \"args\":[\"invoke\", \"a\", \"b\", \"10\"] }, \"secureContext\": \"admin\" }, \"id\": 3 } response { \"jsonrpc\": \"2.0\", \"result\": { \"status\": \"OK\", \"message\": \"~~~~\" }, \"id\": 3 } ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:6:3","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"Query invokeê°€ ì •ìƒì ìœ¼ë¡œ í˜¸ì¶œ ë˜ì—ˆë‹¤ë©´ Queryë¡œ ê°’ì„ í™•ì¸í•˜ì. POST /chaincode { \"jsonrpc\": \"2.0\", \"method\": \"query\", \"params\": { \"type\": 1, \"chaincodeID\":{ \"name\":\"mycc\" }, \"ctorMsg\": { \"args\":[\"query\", \"a\"] }, \"secureContext\": \"admin\" }, \"id\": 5 } response { \"jsonrpc\": \"2.0\", \"result\": { \"status\": \"OK\", \"message\": \"~~~\" }, \"id\": 3 } ì°¸ê³  - IBM Developer Blog ","date":"2019-12-16","objectID":"/hyperledger-fabric2/:6:4","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric ê°œë°œ í™˜ê²½ êµ¬ì„± ë° chaincode ë°°í¬","uri":"/hyperledger-fabric2/"},{"categories":["blockchain"],"content":"Hyperledger Fabricì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤. ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:0:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"Hyperledger í•˜ìœ„ í”„ë¡œì íŠ¸ Hyperledgerì—ëŠ” ì—¬ëŸ¬ í•˜ìœ„ í”„ë¡œì íŠ¸ê°€ ìˆë‹¤. ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:1:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"Blockchain Explorer Blockchain ExplorerëŠ” Blockchain ëŸ°í‹°ì•”ì— ëŒ€í•œ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ì›¹ ê¸°ë°˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” í”„ë¡œì íŠ¸ì´ë‹¤. ICONì—ì„œ Tracker ì²˜ëŸ¼ Block, Tx ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê±°ë‚˜, Chaincode ë° ì›ì¥ì˜ ì •ë³´ë“¤ì„ ëª¨ë‹ˆí„°ë§ í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³  ìˆë‹¤. ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:1:1","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"Fabric Fabricì€ Blockchain ê¸°ìˆ ì„ êµ¬í˜„í•œ í”„ë¡œì íŠ¸ì´ë‹¤. ì¦‰ ì—”ì§„ì„ ë§Œë“œëŠ” í”„ë¡œì íŠ¸. Chaincodeë¼ê³  ë¶€ë¥´ëŠ” SmartContract ì½”ë“œë¥¼ í†µí•´ ì ìš© ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:1:2","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"Iroha IrahaëŠ” ì‹œìŠ¤í…œì— ë¶„ì‚°ì›ì¥ì˜ ê¸°ëŠ¥ì„ ì‰½ê²Œ í†µí•©í•˜ê³ ì í•˜ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ ê°œë°œ ë˜ê³  ìˆëŠ” í”„ë¡œì íŠ¸ ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:1:3","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"Sawtooth Lake ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:1:4","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"Hyperledger Fabric ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:2:0","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"ìš©ì–´ Transactor : transactionì„ ì¼ìœ¼í‚¤ëŠ” Entity Transaction : Tx Ledger : Txì™€ í˜„ì¬ ìƒíƒœë¥¼ í¬í•¨í•˜ëŠ” ì¼ë ¨ì˜ ì•”í˜¸ í•™ì ìœ¼ë¡œ ë§í¬ ëœ Block. ì´ì „ ê±°ë˜ì˜ ë°ì´í„° ì™¸ì— ì›ì¥ì—ëŠ” í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ChainCodeì˜ ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤. World state : Txì— ì˜í•´ì„œ Chaincodeê°€ í˜¸ì¶œë  ë•Œ ìƒíƒœ ë° ë°ì´í„° ì €ì¥ì„ ìœ„í•œ Key-value ë°ì´í„°ë² ì´ìŠ¤ Chaincode : ë‹¤ì–‘í•œ Txìœ í˜•ì„ êµ¬í˜„í•œ Blockchainì— ì„ë² ë“œ ë˜ëŠ” ë¡œì§. SmartContractë¼ê³  ë³´ë©´ ë ê±° ê°™ë‹¤. ChaincodeëŠ” Tx ë¥¼ ì¼ìœ¼í‚¤ê³  ìœ íš¨ì„±ì´ í™•ì¸ë˜ë©´ ê³µìœ ì›ì¥ì— ì¶”ê°€í•˜ê³  World stateë¥¼ ìˆ˜ì •í•œë‹¤. Validating peer(VP) : Blockchain networkì—ì„œ ì›ì¥ì„ ê´€ë¦¬ ìœ ì§€í•˜ê¸° ìœ„í•´ Txì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•˜ëŠ” í•©ì˜ í”„ë¡œí† ì½œì„ ì‹¤í–‰í•˜ëŠ” ë…¸ë“œì´ë‹¤. í•©ì˜ì— ì‹¤íŒ¨í•˜ë©´ Blockì—ì„œ ì œê±°ë˜ë¯€ë¡œ ì¥ë¶€ì— ê¸°ë¡ë˜ì§€ ì•ŠëŠ”ë‹¤. Validating peerëŠ” Chaincodeë¥¼ deploy, invoke, queryí•  ê¶Œí•œì„ ê°€ì§„ë‹¤. Non-validating peer(NVP) : Transactorê°€ Validating peerì— ì ‘ì† í•  ìˆ˜ ìˆë„ë¡ í”„ë¡ì‹œ ì—­í• ì„ í•˜ëŠ” ë…¸ë“œ. NVPëŠ” í˜¸ì¶œëœ ìš”ì²­ì„ Validating peerë¡œ ì „ë‹¬í•˜ë©°, ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼, RESTë¥¼ ë‹´ë‹¹í•˜ëŠ” ë…¸ë“œì´ë‹¤. Consensus : Blockchain networkì˜ Tx(deploy, invoke) ìˆœì„œë¥¼ ìœ ì§€í•˜ëŠ” í”„ë¡œí† ì½œ, Validating ë…¸ë“œë“¤ì€ í•©ì˜ í”„ë¡œí† ì½œì„ êµ¬í˜„í•˜ì—¬ Txë¥¼ ìŠ¹ì¸í•˜ê¸° ìœ„í•´ ë™ì‘í•œë‹¤. Permissioned network : ê° ë…¸ë“œëŠ” Blockchain networkì—ì„œ ì ‘ê·¼ ê¶Œí•œì„ ê´€ë¦¬í•´ì•„ í•˜ëŠ” ë…¸ë“œ, ê° ë…¸ë“œëŠ” ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:2:1","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"ì•„í‚¤í…ì³ architecturearchitecture \" architecture Membership Services Blockchain networkì—ì„œ ì¸ì¦ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤. Non-permissioned blockchainì˜ ê²½ìš° ì‚¬ìš©ì ì¸ì¦ì´ í•„ìš”ì—†ê³ , ëª¨ë“  ë…¸ë“œëŠ” ë™ë“±í•˜ê²Œ Tx ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ê³  Blockì— Tx ì •ë³´ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. Membership ServicesëŠ” PKI(Public Key Infrastructure)ì™€ ë¶„ì‚°í™”/í•©ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ non-permissioned Blockchainì—ì„œ permissioned Blockchainìœ¼ë¡œ ë³€í™˜ì‹œí‚¨ë‹¤. Permissioned Blockchainì—ì„œëŠ” Entityê°€ ì¥ê¸°ì ì¸ ì¸ì¦ì„œ(enrollment certificates)ë¥¼ íšë“í•˜ê¸° ìœ„í•´ ë“±ë¡ì ˆì°¨ë¥¼ ê±°ì¹˜ê²Œ ë˜ë©°, Entity ìœ í˜•ì— ë”°ë¼ êµ¬ë³„ë  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ìì˜ ê²½ìš° TCA (Transaction Certifacate authority)ê°€ ì¸ì¦ì„œë¥¼ ë°œê¸‰ í•  ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ ì–»ì€ ì¸ì¦ì„œëŠ” Txë¥¼ ë°œìƒì‹œí‚¬ë•Œ ì¸ì¦ì— ì‚¬ìš©ëœë‹¤. Blockchain Services Blockchain ServicesëŠ” HTTP/2ë¥¼ ê¸°ë°˜ìœ¼ë¡œ P2P í”„ë¡œí† ì½œì„ í†µí•´ ë¶„ì‚°ì›ì¥ì„ ê´€ë¦¬í•œë‹¤. ë°ì´í„° êµ¬ì¡°ëŠ” Hash ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ World stateë¥¼ ë³µì œí•˜ëŠ” ë“± ê´€ë¦¬ í•˜ëŠ”ë° ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬ í•  ìˆ˜ ìˆë„ë¡ ìµœì í™”ë˜ì–´ ìˆë‹¤. í•„ìš”ì— ë”°ë¼ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ í”ŒëŸ¬ê·¸ì¸(PBET,PoW, PoS..)ì„ ì—°ê²°í•˜ê³  êµ¬ì„± í•  ìˆ˜ ìˆë‹¤. Chaincode Services Chaincode ServicesëŠ” Validating nodeì—ì„œ ì•ˆì „í•˜ê³  ê°€ë²¼ìš´ ë°©ë²•ìœ¼ë¡œ Chaincodeê°€ ì‹¤í–‰ë˜ë„ë¡ ë³´ì¥í•œë‹¤. í™˜ê²½ì€ ë³´ì•ˆ OS ë° Chaincode ì–¸ì–´, Go, Java ë° Node.jsë“± ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ì™¸ 4.1. Events Validating peersì™€ chaincodeëŠ” Blockchain networkì—ì„œ Eventë¥¼ ë°œìƒí•  ìˆ˜ ìˆë‹¤. Event ë°œìƒì„ ëŒ€ê¸°í•˜ê³  ìˆëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì— í•„ìš”í•œ ë…¸í‹°ë¥¼ ë³´ë‚¸ë‹¤. ë˜í•œ Web hooksë‚˜ Kafka ë“±ì„ ì´ìš©í•˜ì—¬ Event ìˆ˜ì‹ ë„ ê°€ëŠ¥í•˜ë‹¤. 4.2. Application Programming Interface (API) Fabricì— ëŒ€í•œ ê¸°ë³¸ Interface REST APIì´ë‹¤. API í˜¸ì¶œì„ í†µí•´ ì‚¬ìš©ì ë“±ë¡, Blockchainì— ëŒ€í•œ ì¿¼ë¦¬, Txë°œìƒ ë“¤ì„ í•  ìˆ˜ ìˆë‹¤. íŠ¹íˆ Chaincodeì™€ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•œ APIë¥¼ í†µí•´ Txë¥¼ ê´€ë¦¬ í•  ìˆ˜ ìˆë‹¤. 4.3. Command Line Interface (CLI) REST APIì˜ ì¼ë¶€ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” CLIê¸°ëŠ¥ì„ í†µí•´ Chaincodeì˜ deploy ë° Tx ì²˜ë¦¬ ë“±ì„ ë¹ ë¥´ê²Œ ì§„í–‰í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. CLIëŠ” Goë¡œ ì œì‘ì´ ë˜ì–´ ìˆìœ¼ë©° ë‹¤ì–‘í•œ OSë¥¼ ì§€ì›í•œë‹¤. ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:2:2","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["blockchain"],"content":"í† í´ë¡œì§€ Fabricì„ í†µí•œ Blockchain networkëŠ” í•˜ë‚˜ì˜ ë©¤ë²„ì‰½ ì„œë¹„ìŠ¤ì™€ ë‹¤ìˆ˜ì˜ Validating peerì™€ non-validating peer ë“¤ë¡œ ì´ë£¨ì–´ ì§ˆ ìˆ˜ ìˆë‹¤. ì´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ í•˜ë‚˜ ë˜ëŠ” ë‹¤ìˆ˜ì˜ ì²´ì¸ì„ ìš´ì˜ í•  ìˆ˜ ìˆë‹¤. Single Validating Peers ê¸°ëŠ¥ì ìœ¼ë¡œ non-validating peerëŠ” validating peerì˜ ì„œë¸Œì…‹ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ëª¨ë“  non-validating peerì˜ ê¸°ëŠ¥ì€ validating peerë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ê·¸ë˜ì„œ ê°€ì¥ ê°„ë‹¨í•œ Blockchainì˜ networkëŠ” í•˜ë‚˜ì˜ validating peerë¡œ êµ¬ì„±ëœ Blockchain networkì´ë‹¤. Multiple Validating Peers ìš´ì˜í™˜ê²½ì´ê±°ë‚˜ ê°œë°œ í™˜ê²½ì¼ ê²½ìš° ë‹¤ì–‘í•œ validating peerì™€ non-validating peerë¥¼ ì´ìš©í•˜ì—¬ Blockchain networkë¥¼ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ êµ¬ì„±ì—ì„œ non-validating peerëŠ” Event ì²˜ë¦¬ ë° REST API ì„œë¹„ìŠ¤ ê´€ë¦¬ë“±ì˜ ì—­í• ì„ í•˜ê²Œ ë˜ëŠ” ë…¸ë“œì´ë‹¤. multipleValidatingPeermultipleValidatingPeer \" multipleValidatingPeer Validating peersë“¤ì€ Blockchain network ìƒì—ì„œ ì¼ì–´ë‚˜ëŠ” ëª¨ë“  Event, Txë“±ì˜ ë°ì´í„°ë¥¼ ê³µìœ í•˜ê²Œ ëœë‹¤. Multichain Blockchain networkëŠ” validating peerì™€ non-validating peerë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ë‹¤ì–‘í•œ ëª©ì ì— ë”°ë¼ì„œ ì´ì™€ ê°™ì€ ì¡°í•©ìœ¼ë¡œ ë‹¤ì–‘í•œ Blockchainì„ êµ¬ì„± í•  ìˆ˜ ìˆë‹¤. ì°¸ê³  - IBM Developer Blog ","date":"2019-12-15","objectID":"/hyperledger-fabric1/:2:3","tags":["blockchain","hyperledger"],"title":"Hyperledger Fabric","uri":"/hyperledger-fabric1/"},{"categories":["java","spring"],"content":"Spring MVCë¥¼ ì´ìš©í•´ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³¸ë‹¤. Spring bootë¥¼ ê³µë¶€í•˜ê¸°ì „ ë¹„êµ?ë¥¼ í•˜ê¸° ìœ„í•´ì„œ ì‚´ì§ ë³´ì. Springì„ ê²°êµ­ì—” í•˜ê²Œ ë˜ì—ˆë‹¤. Spring bootë¥¼ ë§ì´ ì‚¬ìš©í•˜ì§€ë§Œ MVCì˜ ë‚´ìš©ì€ ì•Œì•„ì•¼ í•˜ë¯€ë¡œ ì‚´í´ë´…ì‹œë‹¤. ","date":"2019-12-11","objectID":"/springmvcbasic/:0:0","tags":["java","spring"],"title":"Spring MVC basic","uri":"/springmvcbasic/"},{"categories":["java","spring"],"content":"Spring MVCì˜ êµ¬ì„± ë° íë¦„ ë‹¤ë¥¸ MVCê¸°ë°˜ì˜ í”„ë ˆì„ ì›Œí¬ì™€ ë§ˆì°¬ê°€ì§€ë¡œ Spring MVCë„ Controllerë¥¼ ì‚¬ìš©í•˜ì—¬ Clientì˜ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤. ì´ Controllerì˜ ì—­í• ì„ í•˜ëŠ” ê²ƒì´ DispatcherServletì´ë‹¤. êµ¬ì„±ìš”ì†Œ ì„¤ëª… DespatcherServlet Clientì˜ ìš”ì²­ì„ ë°›ìŒ Controllerì—ê²Œ Clientì˜ ìš”ì²­ì„ ì „ë‹¬í•˜ê³  Contollerì˜ returnê°’ì„ ë°›ì•„ Viewì— ì „ë‹¬ HandlerMapping Clientì˜ ìš”ì²­ URLì„ ì–´ë–¤ Controllerê°€ ì²˜ë¦¬í• ì§€ ê²°ì • Controller Clientì˜ ìš”ì²­ ì²˜ë¦¬, ê²°ê³¼ë¥¼ DispatcherServletì— ì•Œë ¤ì¤Œ ViewResolver Commanderì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„ Viewë¥¼ ê²°ì • View Commanderì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„ ì‘ë‹µì„ ìƒì„± íë¦„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. Clientì˜ ìš”ì²­ì´ DispatcherServletì— ì „ë‹¬ DispatcherServletì€ HandlerMappingì„ ì‚¬ìš©í•´ Clientì˜ ìš”ì²­ì´ ì „ë‹¬ë  Controller ê°ì²´ ê²€ìƒ‰ DispatcherServletì€ Contoller ê°ì²´ì˜ handleRequest() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ Clientì˜ ìš”ì²­ ì²˜ë¦¬ Contoller.handleRequest() ë©”ì†Œë“œëŠ” ModelAndView ê°ì²´ return DispatcherServletì€ ViewResolverë¡œ ë¶€í„° ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„ View ê²€ìƒ‰ ViewëŠ” Clientì— ì „ì†¡í•  ì‘ë‹µ ìƒì„±. ","date":"2019-12-11","objectID":"/springmvcbasic/:1:0","tags":["java","spring"],"title":"Spring MVC basic","uri":"/springmvcbasic/"},{"categories":["java","spring"],"content":"Spring MVC ì›¹ ê°œë°œ Clientì˜ ìš”ì²­ì„ ë°›ì„ DispatcherServletì„ web.xml íŒŒì¼ì— ì„¤ì •. ìš”ì²­ URLê³¼ Controllerì˜ ë§¤í•‘ ë°©ì‹ ì„¤ì •. Controllerì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì–´ë–¤ Viewë¡œ ë³´ì—¬ì¤„ì§€ ê²°ì •í•˜ëŠ” ViewResolverì„¤ì • Controllerë¥¼ ì‘ì„± View ì½”ë“œ ì‘ì„± ","date":"2019-12-11","objectID":"/springmvcbasic/:2:0","tags":["java","spring"],"title":"Spring MVC basic","uri":"/springmvcbasic/"},{"categories":["java","spring"],"content":"DispatcherServlet ì„¤ì • ë° Spring context ì„¤ì • Spring MVCë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ web.xml íŒŒì¼ì— DispatcherServletì„ ì„¤ì • í•´ì¤˜ì•¼í•œë‹¤. DispatcherServletì€ Servlet í´ë˜ìŠ¤ë¡œì„œ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•´ì£¼ë©´ ëœë‹¹. \u003c?xml version=\"1.0\" ?\u003e \u003cweb-app version=\"2.4\" xmlns=\"http://java.sun.com/xml/ns/j2ee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"\u003e \u003cservlet\u003e \u003cservlet-name\u003eexample\u003c/servlet-name\u003e \u003cservlet-class\u003eorg.springframework.web.servlet.DispatcherServlet\u003c/servlet-class\u003e \u003cload-on-startup\u003e1\u003c/load-on-startup\u003e \u003c/servlet\u003e \u003cservlet-mapping\u003e \u003cservlet-name\u003eexample\u003c/servlet-name\u003e \u003curl-pattern\u003e*.do\u003c/url-pattern\u003e \u003c/servlet-mapping\u003e \u003c/web-app\u003e ìœ„ì˜ ì„¤ì •ì€ *.doë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ DispatcherServletì´ ì²˜ë¦¬í•˜ë„ë¡ í•˜ê³  ìˆë‹¤. ìœ„ì˜ ê²½ìš° \u003cservlet-name\u003eexample\u003c/servlet-name\u003e ë¡œì„œ ì´ë¦„ì´ example ì´ë¯€ë¡œ ì‚¬ìš©ë˜ëŠ” Springì„¤ì • íŒŒì¼ì€ WEB-INF/example-servlet.xml ì´ë‹¤. ë§Œì•½ ë‹¤ë¥¸ ì´ë¦„ì˜ íŒŒì¼ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ \u003cinit-param\u003eì„ ì¶”ê°€ í•´ì£¼ë©´ ëœë‹¤. \u003cservlet\u003e \u003cservlet-name\u003eexample\u003c/servlet-name\u003e \u003cservlet-class\u003eorg.springframework.web.servlet.DispatcherServlet\u003c/servlet-class\u003e \u003cinit-param\u003e \u003cparam-name\u003econtextConfigLocation\u003c/param-name\u003e \u003cparam-value\u003e /WEB-INF/example1.xml, /WEB-INF/example2.xml \u003c/param-value\u003e \u003c/init-param\u003e \u003cload-on-startup\u003e3\u003c/load-on-startup\u003e \u003c/servlet\u003e ì—¬ê¸°ì„œ ë§Œì•½ ë™ì¼í•œ ì´ë¦„ì˜ Beanì„ ì§€ì •í–ˆë‹¤ë©´ ë’¤ì— ìœ„ì¹˜í•œ ì„¤ì • íŒŒì¼ì— ëª…ì‹œëœ Beanì´ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§„ë‹¤. ","date":"2019-12-11","objectID":"/springmvcbasic/:2:1","tags":["java","spring"],"title":"Spring MVC basic","uri":"/springmvcbasic/"},{"categories":["java","spring"],"content":"HandlerMapping ì„¤ì • í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ Spingì˜ DispatcherServletì´ ì²˜ë¦¬ í•˜ë„ë¡ ì„¤ì •í–ˆë‹¤ë©´ ë‹¤ìŒì€ HandlerMappingì„ ì‚¬ìš©í• ì§€ì˜ ì—¬ë¶€ì´ë‹¤. HandlerMappingì€ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì–´ë–¤ Commenderê°€ ìˆ˜í–‰í•  ì§€ì˜ ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤. êµ¬í˜„ì²´ ì„¤ëª… BeanNameUrlHandlerMapping ìš”ì²­ URIì™€ ë™ì¼í•œ ì´ë¦„ì„ ê°€ì§„ Controller Beanì„ Mapping SimpleUrlHandlerMapping ê²½ë¡œ Mapping ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ URIì™€ Controller Beanì„ Mapping BeanNameUrlHandlerMapping BeanNameUrlHandlerMappingì€ ìš”ì²­ URIì™€ ë™ì¼í•œ ì´ë¦„ì„ ê°–ëŠ” Controller Beanìœ¼ë¡œ í•˜ì—¬ê¸ˆ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤. HandelrMapipng Beanì„ ë”°ë¡œ ìƒì„±í•˜ì§€ ì•Šì€ ê²½ìš° DispatcherServletì€ ê¸°ë³¸ì ìœ¼ë¡œ HandlerMappingì˜ êµ¬í˜„ì²´ë¡œ BeanNameUrlHandlerMappingì„ ì‚¬ìš©í•œë‹¤. SimpleUrlHandlerMapping SimpleUrlHandlerMappingì€ Ant ìŠ¤íƒ€ì¼ì˜ Mapping ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ Controllerì— ë§¤ì¹­í•œë‹¤. ? - í•œê¸€ìì— ë§¤ì¹­ * - 0ê°œ ì´ìƒì˜ ê¸€ìì— ë§¤ì¹­ ** - 0ê°œ ì´ìƒì˜ ë””ë ‰í† ë¦¬ì— ë§¤ì¹­ ","date":"2019-12-11","objectID":"/springmvcbasic/:2:2","tags":["java","spring"],"title":"Spring MVC basic","uri":"/springmvcbasic/"},{"categories":["java","spring"],"content":"ViewResolver ì„¤ì • HandlerMappingì„ í–ˆë‹¤ë©´ ì´ì œ ViewResolverë¥¼ ì„¤ì •í•œë‹¤. internalResourceViewResolver - JSPë¥¼ ì‚¬ìš©í•˜ì—¬ View ìƒì„± VelocityViewResolver - Velocity í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•˜ì—¬ View ìƒì„± internalResourceViewResolver ë‹¤ìŒê³¼ ê°™ì´ ë‘ ê°œì˜ í”„ë¡œí¼í‹°ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤. prefix - Controllerê°€ ë¦¬í„´í•œ ë·° ì´ë¦„ ì•ì— ë¶™ì„ ì ‘ë‘ì–´ suffix - Controllerê°€ ë¦¬í„´í•œ ë·° ì´ë¦„ ë’¤ì— ë¶™ì„ í™•ì¥ì \u003cproperty name=\"prefix\" value=\"/view/\" /\u003e \u003cproperty name=\"suffix\" value=\".jsp\" /\u003e ExampleControllerê°€ exampleì„ returní–ˆë‹¤ê³  í•˜ë©´ ViewëŠ” /view/example.jspê°€ ëœë‹¤. VelocityViewResolver Velocity í…œí”Œë¦¿ì„ ì‚¬ìš©í•œë‹¤. ","date":"2019-12-11","objectID":"/springmvcbasic/:2:3","tags":["java","spring"],"title":"Spring MVC basic","uri":"/springmvcbasic/"},{"categories":["java","spring"],"content":"Controller êµ¬í˜„ Controllerë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì‘ã„´ Controllerì¸í„°í˜ì´ìŠ¤ë¥¼ implementsí•˜ëŠ” ê²ƒì´ì§€ë§Œ ëª‡ê°€ì§€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ìˆëŠ” í´ë˜ìŠ¤ë§Œ ìƒì† ë°›ì•„ì„œ êµ¬í˜„í•˜ëŠ”ê²Œ ì¼ë°˜ì ì´ë‹¤. Controller interface org.springframework.web.servlet.mvc.Controller public interface Controller { ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception } Controllerë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ handleRequest() ë©”ì†Œë“œì— ë§ê²Œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ë‹¤. ","date":"2019-12-11","objectID":"/springmvcbasic/:2:4","tags":["java","spring"],"title":"Spring MVC basic","uri":"/springmvcbasic/"},{"categories":["java","spring"],"content":"Viewì˜ êµ¬í˜„ Viewì—ì„œëŠ” ModelAndView ê°ì²´ì— ì €ì¥í•œ ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ModelAndViewì— ë°ì´í„°ë¥¼ ì €ì¥í–ˆë‹¤ê³  ë³´ì. protected ModelAndView handle(HttpServletRequest request, HttpServletResponse response, Object command, BindException errors) throws Exception { Example example = (Example) examples; ModelAndView mv = new ModelAndView(\"hello\"); mv.addObject(\"hello\", example); return mv; } ì´ ê²½ìš° JSPì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. example: ${example.hello} \u003c% Example cmd = (Example) request.getAttribute(\"hello\"); %\u003e ë­ ì›Œë‚™ ì˜ˆì „ ë°©ì‹ì´ë¼ ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬ ì“¸ë•Œ ì´ëŸ°ì‹ìœ¼ë¡œ í–ˆë˜ ê²ƒìœ¼ë¡œ ê¸°ì–µí•˜ëŠ”ë°â€¦ Springë„ ì—…ë°ì´íŠ¸ ë˜ë©´ì„œ ë§ì€ ê²ƒì´ ë°”ë€Œì—ˆìœ¼ë¯€ë¡œ ì²œì²œíˆ ì—…ë°ì´íŠ¸ í•´ì•¼ê² ë‹¤. ","date":"2019-12-11","objectID":"/springmvcbasic/:2:5","tags":["java","spring"],"title":"Spring MVC basic","uri":"/springmvcbasic/"},{"categories":["java","spring"],"content":"ì´ì „ê¸€ì—ì„œ ì ê¹ ë³´ì•˜ë˜ ê²ƒì„ ì „ì²´ì ìœ¼ë¡œ ë´ë³´ì. Spring MVCSpring MVC \" Spring MVC ì¶œì²˜ : https://lazymankook.tistory.com/69 ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:0:0","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"DispatcherServletë“±ë¡ Dispatcher Servletì´ í´ë¼ì´ì–¸íŠ¸ì˜ ëª¨ë“  ìš”ì²­ì„ ë°›ëŠ”ë‹¤. DispatcherServletì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì–´ë”˜ê°€ì— ê°ì²´ë¡œ ë“±ë¡ë˜ì–´ ìˆì„ ê²ƒì´ë‹¤. ìš”ì¦˜ì—” ì‚¬ìš©ì•ˆí•˜ëŠ” web.xmlíŒŒì¼ì— ì •ë³´ë“¤ì„ ì ì–´ì„œ ì‚¬ìš©í–ˆì—ˆë‹¤. ì—¬ê¸°ì— DispatcherServletì„ urlíŒ¨í„´ê³¼ í•¨ê»˜ ì‘ì„±í•˜ì—¬ DispatcherServletì€ FontControllerì˜ ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì— ëª¨ë“  urlì„ DispatcherServletì„ ê±°ì¹˜ë„ë¡ ì„¤ì • í•´ë†“ì„ ê²ƒì´ë‹¤. Servlet 3.0 ì´ìƒ ë¶€í„° WebApplicationInitializerêµ¬í˜„ ë˜ëŠ” AbstractAnnotationConfigDispatcherServletInitializer ìƒì†ìœ¼ë¡œ web.xmlì—ì„œ í•˜ë˜ ì„¤ì •ì„ java configë¡œì¨ ì½”ë“œë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. java configë¥¼ í†µí•´ ì„¤ì •í•´ classpathë‚´ì— ë‘ë©´, SpringServletContainerInitializerê°€ ì„œë¸”ë¦¿ì„ ì´ˆê¸°í™” í•  ë•Œ ê°ì§€í•œë‹¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:1:0","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"DispatcherServlet ì´ˆê¸°í™” DispatcherServletì´ ìƒì„± í›„ ì´ˆê¸°í™” ë ë•Œ, initStrategies(ApplicationContext context) ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•´ DeispatcherServletì— ê´€ë ¨ëœ Beanë“¤ì„ ì´ˆê¸°í™”í•œë‹¤. initStrategiesinitStrategies \" initStrategies ì´ˆê¸°í™”ì‹œ Beanì´ ì¡´ì¬í•˜ëŠ”ì§€ ì°¾ê³  ì—†ìœ¼ë©´ default ì„¤ì •ì— ë”°ë¼ Beanì„ ìƒì„±í•˜ê±°ë‚˜ ì•„ë¬´ ì‘ì—…ì„ ì•ˆ ì‹œí‚¬ ìˆ˜ë„ ìˆë‹¤. ì´ì œ DispatcherServletì´ ê°€ì§€ëŠ” ì „ëµ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³´ì. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:0","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"MultipartResolver multipart íŒŒì¼ ì—…ë¡œë“œ ìš”ì²­ì— ëŒ€í•´ í•´ì„ í•˜ì—¬ ë³€í™˜í•˜ëŠ” ì „ëµ ì¸í„°í˜ì´ìŠ¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:1","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"LocaleResolver ì›¹ ê¸°ë°˜ì˜ locale ê²°ì • ì „ëµ ì¸í„°í˜ì´ìŠ¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:2","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"ThemeResolver ì›¹ ê¸°ë°˜ì˜ Theme ê²°ì • ì „ëµ ì¸í„°í˜ì´ìŠ¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:3","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"HandlerMapping Requestì™€ í•¸ë“¤ëŸ¬ ê°ì²´ë¥¼ Mappingì„ ì •ì˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ @RequestMappingì„ ì´ìš©í•œ í•¸ë“¤ëŸ¬ Mapping ì „ëµì´ë‹¤. defaultë¡œ ì„ ì–¸ë˜ëŠ” Beanì€ BeanNameUrlHandlerMapping, DefaultAnnotationHandlerMapping ì´ë‹¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:4","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"HandlerAdapter Spring MVCì˜ Service Provider Interface. Controllerì˜ êµ¬í˜„ ì „ëµ ì¸í„°í˜ì´ìŠ¤ ì´ë‹¤. HandlerMappingì´ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì£¼ë©´, HandlerAdapterê°€ í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ í•¸ë“¤ëŸ¬ì— ì „ë‹¬í•˜ê¸° ìœ„í•œ Adapterë¼ê³  ë³´ë©´ ë¨. HandlerAdapter ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³´ë©´ modelAndViewë¥¼ ë¦¬í„´í•˜ëŠ” handleì´ë¼ëŠ” ë©”ì†Œë“œê°€ ìˆë‹¤. ModelAndViewModelAndView \" ModelAndView Springì˜ Controller ì¢…ë¥˜ëŠ” 4ê°€ì§€ê°€ ìˆë‹¤. Servlet, Controller, HttpRequestHandler, @Controller ì–´ë…¸í…Œì´ì…˜. ê° Controllerë¥¼ DispatcherServletì— ì—°ê²°ì‹œì¼œì£¼ëŠ” Adapterê°€ í•˜ë‚˜ì”© ìˆì–´ì•¼ í•˜ë¯€ë¡œ handlerAdapterë„ 4ê°œê°€ ìˆì–´ì•¼í•œë‹¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:5","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"HandlerExceptionResolver Handler Mappingì´ë‚˜ Controller ì‹¤í–‰ ë„ì¤‘ ë°œìƒí•œ ì˜ˆì™¸ë¥¼ ë‹¤ë£¨ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ë‹¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:6","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"RequestToViewNameTranslator Controllerì—ì„œ Viewë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ì„ë•Œ, Requestë¥¼ ì°¸ê³ í•˜ì—¬ ë‚´ë¶€ì ìœ¼ë¡œ View ì´ë¦„ì„ ìƒì„±í•´ì¤€ë‹¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:7","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"ViewResolver Controllerì—ì„œ Requestë¥¼ ì²˜ë¦¬í•˜ê³  ìƒì„±í•˜ëŠ” ê²°ê³¼ë¬¼ì— ëŒ€í•œ View ì²˜ë¦¬ ì „ëµ ì¸í„°í˜ì´ìŠ¤. Controllerê°€ return \"index.jsp\"; ì™€ ê°™ì´ ì´ë¦„ë§Œ ë‚¨ê²¨ì¤˜ë„ ViewResolverê°€ ModelAndViewê°ì²´ë¡œ ë³€ê²½í•´ì„œ ëŒë ¤ì¤€ë‹¤. prefixì™€ suffixë¥¼ ì¢‹ë°”í•˜ëŠ” ë¡œì§ë„ ì´ ì•ˆì— í¬í•¨ë˜ì–´ ìˆë‹¤. ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:8","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["java","spring"],"content":"FlashmapManager FlashMapê°ì²´ë¥¼ retrieve \u0026 save í•˜ëŠ” ì „ëµ ì¸í„°í˜ì´ìŠ¤ ì´ë‹¤. ìœ„ì˜ ëª¨ë“  ì „ëµ ì¸í„°í˜ì´ìŠ¤ì˜ ì²˜ë¦¬ ê³¼ì •ì€ Beanì— ì´ë¤„ì§„ë‹¤. ë˜í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ í•„ìš”í•œ ë¶€ë¶„ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ Spring Beanìœ¼ë¡œ ë“±ë¡í•˜ë©´ ëœë‹¤. ë“±ë¡í•˜ë©´ DispatcherServletì´ ì´ˆê¸°í™” ë  ë•Œ Beanì´ ì£¼ì…ëœë‹¤. Default Beanì€ @EnableMvcë¥¼ ì‚¬ìš©í•  ë•Œ ìƒì„±ëœë‹¤. default Bean ì„¤ì •ì€ spring-mvc í”„ë¡œì íŠ¸ë‚´ DispatcherServlet.propertiesì— ì„ ì–¸ë˜ì–´ ìˆë‹¤. ìš”ì²­ì„ ë°›ì•˜ì„ ë•Œ ìˆœì„œëŒ€ë¡œ ë³´ë©´ Handler Mapping DispatcherServletì´ ìš”ì²­ì„ ë°›ìœ¼ë©´ ì²˜ìŒ ê±°ì¹˜ëŠ” ê³³ì¸ë° ìš”ì²­ë°›ì€ URLì— í•´ë‹¹í•˜ëŠ” Controllerë¥¼ ì°¾ì•„ì¤€ë‹¤. HandlerMappingì„ ë”°ë¡œ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ RequestMappingHandler(@RequestMapping)ì™€ SimpleUrlHandlerMapping(URI ê²½ë¡œ íŒ¨í„´)ì´ ê¸°ë³¸ êµ¬í˜„ìœ¼ë¡œ ëœë‹¤. Handler Adapter HandlerMappingìœ¼ë¡œ ê²°ì •ëœ Controllerì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œ í•˜ëŠ” ì—­í• ì„ í•œë‹¤. DispatcherServletì´ Handlerê°€ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆëŠ”ì§€ ì‹ ê²½ ì“°ì§€ ì•Šê²Œ í•˜ê¸° ìœ„í•´ì„œë‹¤. Controller, Service, Repository DBì˜ Data Accessë¥¼ í†µí•´ ë‚˜ì˜¨ ë°ì´í„°ë¥¼ Modelì— ì €ì¥í•˜ê³  Viewë¥¼ ì •í•˜ì—¬ View Resolverì— ì „ë‹¬í•œë‹¤. View Resolver ì–´ë–¤ ì¢…ë¥˜ì˜ viewë¥¼ ì‚¬ìš©í• ì§€ ì„ íƒí•œë‹¤. ì„ íƒëœ viewëŠ” ë°ì´í„°ë¥¼ ì´ìš©í•´ í˜ì´ì§€ë¥¼ ì™„ì„±í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬í•œë‹¤. ì°¸ê³  https://lazymankook.tistory.com/69 ","date":"2019-12-11","objectID":"/springmvcdispatcherservlet/:2:9","tags":["java","spring"],"title":"Spring MVCì™€ DespatcherServlet","uri":"/springmvcdispatcherservlet/"},{"categories":["algorithm"],"content":"python3ì—ì„œ Linked Listì— ëŒ€í•œ ì—¬ëŸ¬ ì—°ì‚°ë“¤ì„ ì •ë¦¬ í•´ë†“ì. ì•ˆí•˜ë©´ ìê¾¸ ê¹Œë¨¹ì–´ì„œ.. ","date":"2019-11-21","objectID":"/linkedlist/:0:0","tags":["algorithm"],"title":"Python3ì—ì„œ Linked Listì— ê´€í•œ ì—¬ëŸ¬ ì—°ì‚°ë“¤","uri":"/linkedlist/"},{"categories":["algorithm"],"content":"Linked List ì ˆë°˜ êµ¬í•˜ê¸° class ListNode: def __init__(self, x): self.val = x self.next = None class LinkedList: def halfOfLinkedList(self, head: ListNode) -\u003e ListNode: fast = slow = head # slow is half of head while fast and fast.next: fast = fast.next.next slow = slow.next return slow ì˜ˆì‹œ head ListNode{val: 1, next: ListNode{val: 2, next: ListNode{val: 2, next: ListNode{val: 1, next: None}}}} slow ListNode{val: 2, next: ListNode{val: 1, next: None}} ","date":"2019-11-21","objectID":"/linkedlist/:1:0","tags":["algorithm"],"title":"Python3ì—ì„œ Linked Listì— ê´€í•œ ì—¬ëŸ¬ ì—°ì‚°ë“¤","uri":"/linkedlist/"},{"categories":["algorithm"],"content":"Linked List ì—­ìˆœ class ListNode: def __init__(self, x): self.val = x self.next = None class LinkedList: def ReverseOfLinkedList(self, head: ListNode) -\u003e ListNode: node = None while head: nxt = head.next head.next = node node = head head = nxt return node ì˜ˆì‹œ head ListNode{val: 2, next: ListNode{val: 1, next: None}} node ListNode{val: 1, next: ListNode{val: 2, next: None}} ","date":"2019-11-21","objectID":"/linkedlist/:2:0","tags":["algorithm"],"title":"Python3ì—ì„œ Linked Listì— ê´€í•œ ì—¬ëŸ¬ ì—°ì‚°ë“¤","uri":"/linkedlist/"},{"categories":["algorithm"],"content":"Class Memory ê³µìœ  class ListNode: def __init__(self, x): self.val = x self.next = None class Solution: def mergeTwoLists(self, l1: ListNode, l2: ListNode) -\u003e ListNode: dummy = cur = ListNode(0) print(id(dummy)) # 140375281581984 print(id(cur)) # 140375281581984 # ì£¼ì†Œê°’ ë™ì¼ ë”°ë¼ì„œ dummyë³€ìˆ˜ì— ëŒ€í•´ì„œ ì—°ì‚°ì„ ì•ˆí•´ë„ ë°ì´í„°ê°€ ë“¤ì–´ê°€ ìˆëŠ” ê±¸ ë³¼ ìˆ˜ ìˆìŒ. while l1 and l2: if l1.val \u003c l2.val: cur.next = ListNode(l1.val) # cur.next = l1 l1 = l1.next else: cur.next = ListNode(l2.val) # cur.next = l2 l2 = l2.next cur = cur.next # ë‚¨ì€ê±° ì •ë¦¬ cur.next = l1 or l2 return dummy.next ","date":"2019-11-21","objectID":"/linkedlist/:3:0","tags":["algorithm"],"title":"Python3ì—ì„œ Linked Listì— ê´€í•œ ì—¬ëŸ¬ ì—°ì‚°ë“¤","uri":"/linkedlist/"},{"categories":["os"],"content":"Application memory êµ¬ì¡°ì˜ Heapê³¼ Stackì„ ì‚´í´ë³´ì","date":"2019-11-20","objectID":"/memory/","tags":["os","memory"],"title":"ë©”ëª¨ë¦¬ ì˜ì—­ Heap, Stack ì‚´í´ë³´ê¸°","uri":"/memory/"},{"categories":["os"],"content":"Application memory êµ¬ì¡°ì˜ Heapê³¼ Stackì„ ì‚´í´ë³´ì. memory ì´ì „ê¸€ì—ì„œ Process/Threadë¥¼ ì–˜ê¸°í• ë•Œ Memoryì— ëŒ€í•œ ì–¸ê¸‰ì„ ì ê¹ í–ˆë‹¤. ì—¬ê¸°ì„œ ì‚¬ìš©í•˜ëŠ” MemoryëŠ” Virtual Memoryë¼ê³ .. ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤ì œì˜ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ìš©ëŸ‰ ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— í˜ì´ì§• ê¸°ë²•ê³¼ ê°€ìƒë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤. í”íˆ ì½”ë“œì—ì„œ ì¶œë ¥í•˜ëŠ” ì£¼ì†Œê°’ë“¤ì€ ê°€ìƒì£¼ì†Œì´ë‹¤. ","date":"2019-11-20","objectID":"/memory/:0:0","tags":["os","memory"],"title":"ë©”ëª¨ë¦¬ ì˜ì—­ Heap, Stack ì‚´í´ë³´ê¸°","uri":"/memory/"},{"categories":["os"],"content":"1 í˜ì´ì§•ê¸°ë²• ê³„ì‚°ê¸°ì˜ GUIê°€ ìˆë‹¤ê³ í•˜ì. +, -, *, % ë“±ì˜ ì—°ì‚°ì„ í• ë•Œ ì´ëŠ” í˜ì´ì§• íŒŒì¼ì— ì €ì¥ëœë‹¤. í˜ì´ì§• íŒŒì¼ì— ì•„ì§ ë™ì‘í•˜ì§€ ì•Šì€ ì£¼ì†Œë¥¼ ì €ì¥ ì‹œì¼œì„œ ì ì‹œ ê°€ì§€ê³  ìˆëŠ”ê²ƒ.. ì´ì™€ê°™ì´ í˜ì´ì§• íŒŒì¼ì„ ê°€ì§€ê³  ìˆê¸°ì— ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ë” ì ê²Œ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ","date":"2019-11-20","objectID":"/memory/:1:0","tags":["os","memory"],"title":"ë©”ëª¨ë¦¬ ì˜ì—­ Heap, Stack ì‚´í´ë³´ê¸°","uri":"/memory/"},{"categories":["os"],"content":"2 ê°€ìƒë©”ëª¨ë¦¬ í”„ë¡œê·¸ë¨ì„ ë™ì‘í•˜ë©´ ê°€ìƒ ë©”ëª¨ë¦¬ ê³µê°„ì´ ìƒì„±ëœë‹¤. ê·¸ ë©”ëª¨ë¦¬ ê³µê°„ì€ ìƒìœ„, í•˜ìœ„ ë©”ëª¨ë¦¬ë¡œ ë‚˜ëˆ ì§„ë‹¤. ","date":"2019-11-20","objectID":"/memory/:2:0","tags":["os","memory"],"title":"ë©”ëª¨ë¦¬ ì˜ì—­ Heap, Stack ì‚´í´ë³´ê¸°","uri":"/memory/"},{"categories":["os"],"content":"2.2 ìƒìœ„ ë©”ëª¨ë¦¬ Stackì˜ ë©”ëª¨ë¦¬ ê³µê°„ì´ í• ë‹¹ëœë‹¤. ì§€ì—­ë³€ìˆ˜, ë¦¬í„´ê°’ë“±ì„ ì €ì¥.. ê°’ì´ ì‹¸ë‹¤. ì´ìœ ëŠ” í• ë‹¹ê³¼ í•´ì œëŠ” CPU ëª…ë ¹ì–´ 2ê°œë¡œ ëë‚œë‹¤ê³  í•œë‹¤. (í• ë‹¹, í•´ì œ) ì½”ë“œë¡œ ì˜ˆë¥¼ ë“¤ë©´ í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ë©´ í•¨ìˆ˜ì— ìˆë˜ ëª¨ë“  ë³€ìˆ˜ê°€ Stackì—ì„œ Popëœë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤. í•¨ìˆ˜ê°€ ì‚¬ë¼ì§€ë©´ ì™¸ë¶€ì—ì„œ ì°¸ì¡° ëª»í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì—¬ê¸°ì„œ í•™ë¶€ì‹œì ˆì— ê·¸ë ‡ê²Œ ë§ì´ ë“¤ì€ Stack Overflow, Underflowë“±ì´ ì¼ì–´ë‚˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. ","date":"2019-11-20","objectID":"/memory/:2:1","tags":["os","memory"],"title":"ë©”ëª¨ë¦¬ ì˜ì—­ Heap, Stack ì‚´í´ë³´ê¸°","uri":"/memory/"},{"categories":["os"],"content":"2.3 í•˜ìœ„ ë©”ëª¨ë¦¬ Heapì´ ìƒì„±ëœë‹¤. í”„ë¡œê·¸ë¨ì´ ë™ì‘í•  ë•Œ í•„ìš”í•œ ë°ì´í„° ì •ë³´ë¥¼ ì„ì‹œë¡œ ì €ì¥. heapí• ë‹¹ì€ ë¹„ì‹¸ë‹¤. Cì—ì„œ ë³´ë©´ malloc(), free()ë“±ìœ¼ë¡œ ì¡°ì‘ê°€ëŠ¥. Go, Pythonê°™ì€ ì–¸ì–´ë“¤ì€ ìë™ìœ¼ë¡œ GCê°€ ì‘ë™í•˜ê¸° ë•Œë¬¸ì— ê°œë°œìê°€ ì‹ ê²½ ì•ˆì¨ë„ ë˜ëŠ” ê²½ìš°ë„ ìˆë‹¤. í•˜ì§€ë§Œ ì½”ë“œë¥¼ ì‘ì„±í• ë•Œ ì‹ ê²½ì¨ì•¼í•˜ëŠ” ë¶€ë¶„ì´ ìˆì„ ìˆ˜ë„ ìˆëŠ”ë° Goë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ë©´ 2.3.1 Goì—ì„œ heap Goì—ì„œ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ëŒ€ë¶€ë¶„ heapì— í• ë‹¹ ëœë‹¤ê³  í•œë‹¤. ê°€ëŠ¥í•œ ì•ˆì“°ëŠ”ê²Œ ì¢‹ê² ì§€..? í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ê°’ì„ ë³µì‚¬í•˜ëŠ” ê²ƒì´ memoryë¥¼ ì‘ê²Œì¨ CPU ìºì‹œ ì ì¤‘ë¥ ì´ ì˜¤ë¥¸ë‹¤ê³ í•œë‹¤. ë˜í•œ í¬ì¸í„°ë¥¼ í¬í•¨í•˜ì§€ ì•ŠëŠ” ë©”ëª¨ë¦¬ ì˜ì—­ì€ GCê°€ ìƒëµí•  ìˆ˜ ìˆë‹¤. ë°˜ëŒ€ë¡œ í¬ì¸í„°ê°€ ìˆìœ¼ë©´ GCê°€ ìŠ¤ìº” í•  í•„ìš”ê°€ ìˆë‹¤. ì´ë ‡ê²Œ GCê°€ ëŒë©´ ë©”ëª¨ë¦¬ ìƒì— í©ì–´ì§„ ì˜ì—­ì„ ê³„ì† íƒìƒ‰í•˜ê¸° ë•Œë¬¸ì— ë¬´ê±°ì›Œ ì§€ê¸° ë•Œë¬¸ì— ê°œë°œìëŠ” ì¡°ê¸ˆì´ë¼ë„ ê°€ë³ê²Œ ê°œë°œí•˜ê¸° ìœ„í•´ì„œëŠ” ì•Œì•„ì•¼ í•˜ëŠ” ê°œë…ì´ë‹¤. ","date":"2019-11-20","objectID":"/memory/:2:2","tags":["os","memory"],"title":"ë©”ëª¨ë¦¬ ì˜ì—­ Heap, Stack ì‚´í´ë³´ê¸°","uri":"/memory/"},{"categories":["os"],"content":"ê°‘ìê¸° ì»´í“¨í„° êµ¬ì¡°ì— ëŒ€í•´ì„œ ì •ë¦¬í•´ë³´ê³  ì‹¶ì–´ì„œ ë¨¸ë¦¬ì†ì— ìˆëŠ”ê²ƒì„ ë”í•´ ë„ì ì—¬ë³¸ë‹¤.","date":"2019-11-06","objectID":"/computerstructure/","tags":["os","linux","socket"],"title":"Computer structure and socket","uri":"/computerstructure/"},{"categories":["os"],"content":"ê°‘ìê¸° ì»´í“¨í„° êµ¬ì¡°ì— ëŒ€í•´ì„œ ì •ë¦¬í•´ë³´ê³  ì‹¶ì–´ì„œ ë¨¸ë¦¬ì†ì— ìˆëŠ”ê²ƒì„ ë”í•´ ë„ì ì—¬ë³¸ë‹¤. ëŒ€í•™êµì—ì„œ ì „ê³µê³¼ëª©ìœ¼ë¡œ ì»´í“¨í„° êµ¬ì¡°ë¥¼ ë°°ì› ì§€ë§Œ ìƒê°ì´ ë‚˜ì§€ ì•Šê³  ë­˜ë°°ì› ëŠ”ì§€ ê¸°ì–µì„ ëª»í•œë‹¤â€¦ ê·¸ë‚˜ë§ˆ ë‚¨ì•„ìˆëŠ”ê²ƒì„ ì •ë¦¬í•˜ë ¤ê³ í•œë‹¤. ã…œã…œ.. ì»´í“¨í„°ëŠ” ê°€ì¥ í¬ê²Œ H/W, S/Wë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆê³  ì´ë¥¼ ì¢€ë” ìì„¸íˆ ë‚˜ëˆ ì„œ ë³´ì ","date":"2019-11-06","objectID":"/computerstructure/:0:0","tags":["os","linux","socket"],"title":"Computer structure and socket","uri":"/computerstructure/"},{"categories":["os"],"content":"H/W ë§ê·¸ëŒ€ë¡œ í•˜ë“œì›¨ì–´ ë¬¼ë¦¬ì ì¸ ì»´í“¨í„° ìì›ì„ ë§í•œë‹¤. CPU, GPU, RAMë“±ë“± ë³¸ì²´ì— ê¼½í˜€ìˆëŠ”ê²ƒë“¤.. ","date":"2019-11-06","objectID":"/computerstructure/:1:0","tags":["os","linux","socket"],"title":"Computer structure and socket","uri":"/computerstructure/"},{"categories":["os"],"content":"S/W ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë¬¼ë¦¬ì  ë°˜ëŒ€ë¡œ ë…¼ë¦¬ì (Logical)í•˜ë‹¤ ë¼ê³  ë§ì´ ë¶ˆë¦¬ê³  ì´ëŠ” ITìª½ì—ì„œ Virtualê³¼ ë¹„ìŠ·í•œ ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤. ë” ì‘ê²Œ ë‚˜ëˆ ë³´ì ","date":"2019-11-06","objectID":"/computerstructure/:2:0","tags":["os","linux","socket"],"title":"Computer structure and socket","uri":"/computerstructure/"},{"categories":["os"],"content":"Kernel ì»¤ë„ì€ ìš´ì˜ì²´ì œì˜ í•µì‹¬ ë¶€ë¶„ìœ¼ë¡œì„œ, ìš´ì˜ì²´ì œì˜ ë‹¤ë¥¸ ë¶€ë¶„ ë° ì‘ìš© í”„ë¡œê·¸ë¨ ìˆ˜í–‰ì— í•„ìš”í•œ ì—¬ëŸ¬ê°€ì§€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ë¼ê³  ìœ„í‚¤ë°±ê³¼ì— ë‚˜ì™€ìˆë‹¤. ê°„ë‹¨íˆ ë§í•˜ë©´ ì´ ì»¤ë„ ì˜ì—­ì—ì„œ í”íˆ í•˜ë“œì›¨ì–´ ì¥ì¹˜ì— í•„ìš”í•œ Driverê°€ ìˆì–´ì•¼ í•˜ê³ , ê·¸ì— ë”°ë¥¸ êµ¬ì„±ìš”ì†Œê°€ í¬í•¨ëœë‹¤ê³  ë³´ë©´ ë  ê²ƒ ê°™ë‹¤. ì˜ˆë¥¼ë“¤ì–´ Diskë¼ëŠ” ë¬¼ë¦¬ì ì¸ ì €ì¥ê³µê°„ì„ ê°€ì§€ê³ ìˆê³  ì´ì— ë”°ë¥¸ Driverê°€ ìˆê³  ì´ DriverëŠ” File System(NTFS) êµ¬ì„±ìš”ì†Œì™€ ì—°ê²° ë˜ê³ , File Systemì€ ìš°ë¦¬ê°€ í”íˆ ì“°ëŠ” Fileê³¼ ì—°ê²°ë˜ì–´ ì²˜ë¦¬ê°€ ëœë‹¤. ìš°ë¦¬ê°€ ì»´í“¨í„°ë¡œ íŒŒì¼ì„ ì˜®ê¸°ê³  ì‚­ì œí•˜ëŠ”ë“±ì˜ í–‰ë™ì„ ì·¨í–ˆì„ë•Œ ë‚´ë¶€ì ìœ¼ë¡œëŠ” File -\u003e File System -\u003e Driver -\u003e Disk ë˜ëŠ” SSDë“± ì´ë ‡ê²Œ ì´ë¤„ì§€ëŠ” ê²ƒì´ë‹¹ File systemë¶€í„° Diskê¹Œì§€ì˜ í–‰ë™ì„ ì»¤ë„ ì˜ì—­ì—ì„œ ë‹¤ë£¬ë‹¤. ìŒ.. ë‹¤ë¥¸ ì˜ˆë¥¼ í•˜ë‚˜ë” ë“¤ì–´ë³´ì. ì œëª©ì— socketì„ ë„£ì–´ì„œ ì ê¹ ë‹¤ë¤„ë³´ë©´ ìš°ë¦¬ê°€ í”íˆ ì“°ëŠ” Socketë„ ê²°êµ­ ìœ„ì—ì„œ ë§í•œ Fileì„ ì´ìš©í•œë‹¤. ì´ê²Œ ë¬´ìŠ¨? ì†Œë¦¬ì§•í•˜ê³  ì²˜ìŒì—” ìƒê°í–ˆë‹¤. ê·¸ ì´ìœ ëŠ” ìœ ë‹‰ìŠ¤ì˜ ë¦¬ì†ŒìŠ¤ êµ¬ì„±ì€ íŒŒì¼ë¡œ ì´ë¤„ì ¸ìˆë‹¤. íŒŒì¼, í•˜ë“œì›¨ì–´, íŒŒì´í”„, ì†Œì¼“ë“±ë“± ë°‘ì˜ ì‚¬ì§„ì„ ë³´ë©´ í•˜ë“œì›¨ì–´ë“¤ì´ fileë¡œ ì €ì¥ë˜ì–´ ìˆëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. HwfileHwfile \" Hwfile ë‹¤ì‹œ Socketìœ¼ë¡œ ëŒì•„ì™€ì„œ ì»¤ë„ ì˜ì—­ì—ì„œ ë­˜í•˜ëŠ”ì§€ ë³´ë©´, Socket(file) -\u003e Protocol(TCP/IP) -\u003e Driver -\u003e NIC ì´ë ‡ê²Œ ë ë“¯ í•˜ë‹¤. NICëŠ” í•˜ë“œì›¨ì–´ë¡œ ëœì¹´ë“œì´ë‹¤. TMIë¡œ NIC -\u003e L2 -\u003e R -\u003e internetì´ ë˜ê² ì§€ìš”? Kernel ì˜ì—­ì—ì„œ í•˜ëŠ” ì¼ì€ ìœ„ì˜ ì˜ˆì‹œë“¤ë¡œ ì•Œ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ë°±ì‹  í”„ë¡œê·¸ë¨ì„ ì ê¹ ë³´ë©´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì§ì‘ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì€ë° ì•„ê¹Œ ìœ„ì—ì„œ File -\u003e êµ¬ì„±ìš”ì†Œ -\u003e Driverì´ë ‡ê²Œ í˜ëŸ¬ê°„ë‹¤ê³  ì–˜ê¸°ë¥¼ ë§ì´ í–ˆë‹¤. ê·¸ ì¤‘ê°„ì— Filterë¼ëŠ” ê²ƒì´ ì¡´ì¬í•˜ëŠ”ë° ì´ FilterëŠ” êµ¬ì„±ìš”ì„œ ì•/ë’¤ ì¯¤ ì˜¬ ìˆ˜ ìˆë‹¤. ì´ Filterë¥¼ ë°±ì‹  ì—…ì²´ì—ì„œ ì œê³µ í•´ì£¼ë©´ Filteringì´ ë˜ê² ê±°ë‹ˆ ì‹¶ë‹¤. ë¬¼ë¡  Filterë¥¼ ì´ìš©í•˜ë‹¤ ë³´ë‹ˆ ì†ë„ëŠ” ëŠë ¤ ì§ˆ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ","date":"2019-11-06","objectID":"/computerstructure/:2:1","tags":["os","linux","socket"],"title":"Computer structure and socket","uri":"/computerstructure/"},{"categories":["os"],"content":"User Userì˜ì—­ì€ ì•„ê¹Œ ë§ì´ ì–¸ê¸‰í•œ Fileì´ ì†í•œë‹¤. ë˜í•œ ë°±ì‹  ì–˜ê¸°í• ë•Œ anti virusê°€ ì†í•  ìˆ˜ ìˆê³  ì´ anti virusëŠ” ì•„ê¹Œ Filterì™€ ì£¼ê±°ë‹ˆ ë°›ê±°ë‹ˆ í•  ê²ƒì´ë‹¤. ","date":"2019-11-06","objectID":"/computerstructure/:2:2","tags":["os","linux","socket"],"title":"Computer structure and socket","uri":"/computerstructure/"},{"categories":["os"],"content":"Process/Thread ê°€ì¥ ë§ì´ ì ‘í•œ Processì™€ Threadì´ë‹¤. ì´ ë‘˜ì„ ê°„ë‹¨íˆ ë¹„êµí•´ë³´ë©´ Processì•ˆì— Threadê°€ ìˆê³  ThreadëŠ” í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì—¬ëŸ¬ íë¦„ì˜ ë‹¨ìœ„ë¼ê³  êµ¬ê¸€ì— ê²€ìƒ‰í•˜ë©´ ë§ì´ ë‚˜ì˜¬ ê²ƒì´ë‹¤. ì—„ì²­ ê°„ë‹¨íˆ ì˜ˆì‹œë¥¼ ë“¤ë©´ ì§‘(house)ê°€ Process ê·¸ ì•ˆì˜ êµ¬ì„±ì› ì—„ë§ˆ, ì•„ë¹  ë“±ì´ Threadë¼ê³  ìƒê°í•˜ë©´ ë  ê²ƒ ê°™ë‹¤. Processë¼ë¦¬ëŠ” ë…ë¦½ëœ Memoryë¥¼ ê°€ì ¸ì„œ ì„œë¡œ ë°ì´í„° ê³µìœ ê°€ ì•ˆëœë‹¤. ë¬¼ë¡  ThreadëŠ” Process ë‚´ì—ì„œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— Processë‚´ì˜ Threadë¼ë¦¬ëŠ” ê°™ì€ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì´ìš©í•œë‹¤. ë”°ë¼ì„œ ë™ê¸°í™”ê°€ ì¤‘ìš” í•˜ë‹¤ ! ì‹¤ìƒí™œì˜ ì˜ˆë¥¼ ë“¤ì–´ë³´ë©´ ì§‘(process)ì— ë‚´ê°€(thread) í™”ì¥ì‹¤ì„ ì‚¬ìš©í•˜ê³  ìˆì„ë•Œ ë¬¸ì„ ì ê·¸ê³  ì´ìš©í•˜ê²Œ ë˜ë©´ ë‹¤ë¥¸ ê°€ì¡±êµ¬ì„±ì›(thread)ëŠ” í™”ì¥ì‹¤ì„ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤. ë§Œì•½, ë¬¸ì„ ì•ˆì ê·¸ê³  ì‚¬ìš©í•˜ë‹¤ê°€ í°ì¼ì„ ë³´ëŠ” ì¤‘ì— ë¬¸ì„ ì—´ì–´ë²„ë¦°ë‹¤ë˜ì§€ ê·¸ëŸ¬ë©´ ì•ˆë˜ëŠ” ê²ƒ ì²˜ëŸ¼ ì´í•´ í•˜ë©´ ë  ê²ƒ ê°™ë‹¤. ì—¬ê¸°ì„œ í™”ì¥ì‹¤ ë¬¸ì„ ì ê·¸ëŠ” í–‰ìœ„ëŠ” Lockì„ ê±°ëŠ” í–‰ìœ„ì´ê³  ì´ëŠ” mutexë¥¼ ì´ìš©í•´ Lock, UnLockì„ í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤ê³  ë³´ë©´ ë  ë“¯ í•˜ë‹¤. ì—¬ê¸°ì„œ ë§í•œ MemoryëŠ” ì•„ ~~ ê¹Œ ë§í•œ S/WëŠ” Virtual == Logical ì„ ì ê¹ ì¸ìš©í•˜ìë©´ Processì— í• ë‹¹ëœ MemoryëŠ” virtual memoryì´ë‹¤. ","date":"2019-11-06","objectID":"/computerstructure/:2:3","tags":["os","linux","socket"],"title":"Computer structure and socket","uri":"/computerstructure/"},{"categories":["os","linux"],"content":"linuxì—ì„œ containerê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì•Œì•„ë³´ì.","date":"2019-10-27","objectID":"/namespace/","tags":["os","linux","namespace"],"title":"Introduction to Linux Namespaces","uri":"/namespace/"},{"categories":["os","linux"],"content":"linuxì—ì„œ containerê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì•Œì•„ë³´ì. namespaceëŠ” k8sì—ì„œ ë¨¼ì € ë§ì´ ì ‘í•´ë´¤ëŠ”ë°, ê°ê° ë³„ê°œì˜ ë…ë¦½ëœ ê³µê°„ì¸ ê²ƒì²˜ëŸ¼ í™˜ê²½ì„ ì œê³µí•˜ëŠ” ê°€ìƒí™” ê¸°ìˆ ì´ë‹¤. containerê¸°ìˆ ì´ ì´ë¥¼ í†µí•´ ë§Œë“¤ì–´ ì¡Œë‹¤. Linux namespaceëŠ” 6ê°€ì§€ ì¢…ë¥˜ê°€ ìˆë‹¤. UTS IPC PID NS (FS) NET USER ","date":"2019-10-27","objectID":"/namespace/:0:0","tags":["os","linux","namespace"],"title":"Introduction to Linux Namespaces","uri":"/namespace/"},{"categories":["os","linux"],"content":"UTS ë…ë¦½ì ì¸ Hostnameí• ë‹¹ í˜„ì¬ hostnameì€ ë‹¤ìŒê³¼ ê°™ì´ ì•Œ ìˆ˜ ìˆë‹¤. uname -n unshareë¡œ namespaceë¥¼ ë§Œë“œëŠ”ë° -uë¥¼ ì£¼ë©´ UTSê°€ ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ì™€ ê³µìœ ê°€ ì•ˆëœ ìƒíƒœë¡œ ìƒì„±ëœë‹¤. unshare -u /bin/bash ","date":"2019-10-27","objectID":"/namespace/:1:0","tags":["os","linux","namespace"],"title":"Introduction to Linux Namespaces","uri":"/namespace/"},{"categories":["os","linux"],"content":"IPC inter process communication IPCëŠ” í”„ë¡œì„¸ìŠ¤ê°„ ì„œë¡œ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” ê²½ë¡œë¥¼ ëœ»í•œë‹¤. IPCëŠ” Signal, Socket, pipe, semaphore, file locking, mutexë“±ì´ ìˆë‹¤. ë˜í•œ í”„ë¡œì„¸ìŠ¤ê°„ ë°ì´í„° êµí™˜ ë° í”„ë¡œì„¸ìŠ¤ì™€ ì“°ë ˆë“œê°„ì˜ ì‘ì—…ì„ ë™ê¸°í™” í•˜ëŠ”ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ","date":"2019-10-27","objectID":"/namespace/:2:0","tags":["os","linux","namespace"],"title":"Introduction to Linux Namespaces","uri":"/namespace/"},{"categories":["os","linux"],"content":"PID Linuxì—ì„œ ì‹¤í–‰ë˜ëŠ” ëª¨ë“  processë“¤ì€ ê°ê°ì— ê³ ìœ í•œ PIDê°€ ë¶€ì—¬ëœë‹¤. kernelì—ì„œëŠ” ì´ processë“¤ì„ Tree í˜•íƒœë¡œ ê´€ë¦¬í•œë‹¤. pstreepstree \" pstree ìµœìƒìœ„ processëŠ” init processë¼ í•˜ê³  PIDë¥¼ â€œ1\"ì„ ê°€ì§„ë‹¤. PID namespaceì—ì„œ ê°€ì§€ëŠ” íŠ¹ì§•ì´ ì´ PID 1í”„ë¡œì„¸ìŠ¤ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì¶”ê°€ í• ë‹¹í•´ ì£¼ëŠ” ê²ƒì´ë‹¤. PIDë¥¼ 1ë°›ì•˜ë‹¤ê³  í•´ì„œ init processê°€ ë˜ëŠ”ê±´ ì•„ë‹ˆê³  init processì™€ ë¹„ìŠ·í•˜ê²Œ ìˆ˜í–‰ëœë‹¤. ì´ëŠ” OSì—ì„œ systemd í”„ë¡œì„¸ìŠ¤ ë¿ë§Œ ì•„ë‹ˆë¼ PID ì¶©ëŒì—†ì´ ì‹¤í–‰ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤. ","date":"2019-10-27","objectID":"/namespace/:3:0","tags":["os","linux","namespace"],"title":"Introduction to Linux Namespaces","uri":"/namespace/"},{"categories":["os","linux"],"content":"NS (FS) process Treeì˜ PID 1í”„ë¡œì„¸ìŠ¤ë¥¼ ë¶„ê¸° ì‹œì¼œë„ FSëŠ” ê·¸ëŒ€ë¡œ ê³µìœ í•˜ê³  ìˆì„ê²ƒì´ë‹¤. ì´ìœ ëŠ” /procë¥¼ ì•„ì§ ê³µìœ í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤. ìƒˆë¡œìš´ í´ë”ë¥¼ ë§Œë“¤ê³  /procí´ë”ë¥¼ mountì‹œì¼œì£¼ë©´ ë…ë¦½ì ìœ¼ë¡œ FSë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ","date":"2019-10-27","objectID":"/namespace/:4:0","tags":["os","linux","namespace"],"title":"Introduction to Linux Namespaces","uri":"/namespace/"},{"categories":["os","linux"],"content":"NET namespaceê°„ Network ì¶©ëŒ ë°©ì§€í•œë‹¤. $ ip link list ëª…ë ¹ì–´ë¡œ í˜„ì¬ ì„œë²„ì˜ interface ì •ë³´ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. $ ip netns add {namespace} ìƒˆë¡œìš´ namespaceë¥¼ ìƒì„±í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ í™•ì¸ í•  ìˆ˜ìˆë‹¤. $ ip netns ë…ë¦½ëœ namespaceê°„ ë‚´ë¶€ í†µì‹ ë„ ê°€ëŠ¥í•œë° ìì„¸í•œê±´ ë‹¤ìŒ ê¸€ì—ì„œ ì‘ì„±í•œë‹¤. ","date":"2019-10-27","objectID":"/namespace/:5:0","tags":["os","linux","namespace"],"title":"Introduction to Linux Namespaces","uri":"/namespace/"},{"categories":["os","linux"],"content":"USER í”„ë¡œì„¸ìŠ¤ê°€ namespace ë‚´ë¶€ì™€ default namespaceê°„ì— ê°ê¸° ë‹¤ë¥¸ ì‚¬ìš©ì ë° ê·¸ë£¹ IDë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê²Œí•œë‹¤. ","date":"2019-10-27","objectID":"/namespace/:6:0","tags":["os","linux","namespace"],"title":"Introduction to Linux Namespaces","uri":"/namespace/"},{"categories":["grpc"],"content":"ì´ì „ê¸€ì—ì„œ ì‘ì„± í•œ go serverë¥¼ ê°€ì§€ê³  python ì—ì„œ clientë¡œ ì ‘ì†í•´ë³´ì. ","date":"2019-09-09","objectID":"/grpc2/:0:0","tags":["grpc"],"title":"Building microservices in Go and Python using gRPC","uri":"/grpc2/"},{"categories":["grpc"],"content":"ì½”ë“œ ","date":"2019-09-09","objectID":"/grpc2/:1:0","tags":["grpc"],"title":"Building microservices in Go and Python using gRPC","uri":"/grpc2/"},{"categories":["grpc"],"content":"server ì´ì „ê¸€ì—ì„œ ì‘ì„±í•œ go server ê·¸ëŒ€ë¡œ ì´ìš©í•œë‹¤. https://github.com/jaejin1/gRPC/blob/master/go/server/main.go ","date":"2019-09-09","objectID":"/grpc2/:1:1","tags":["grpc"],"title":"Building microservices in Go and Python using gRPC","uri":"/grpc2/"},{"categories":["grpc"],"content":"client clientì´ê¸° ë•Œë¬¸ì— ê°„ë‹¨í•˜ê²Œ pythonìœ¼ë¡œ ì‘ì„±í•´ë³´ì. ë¨¼ì € proto fileì„ python ì½”ë“œë¡œ ë³€í™˜ í•œë‹¤. ë¬¼ë¡  ì „ì— ì‚¬ìš©í•œ proto fileì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤. $ python -m grpc_tools.protoc -I./ --python_out=. --grpc_python_out=. ./hi.proto proto fileì„ compileí•˜ê²Œ ë˜ë©´ hi_pb2_grpc.py, hi_pb2.py 2ê°œì˜ íŒŒì¼ì´ ìƒì„±ëœë‹¤. ì´ 2íŒŒì¼ì„ ë‹¤ìŒ ì‘ì„±í•  pythonì½”ë“œì— import ì‹œí‚¨ ë’¤ ì‚¬ìš©í•œë‹¤. main.py \"\"\"The Python implementation of the gRPC route guide client.\"\"\" from __future__ import print_function import random import logging import grpc import hi_pb2 import hi_pb2_grpc def run(): with grpc.insecure_channel('localhost:50051') as channel: stub = hi_pb2_grpc.HiStub(channel) ## JaejinHi response = stub.JaejinHi(hi_pb2.HiRequest(name='test test test test !!')) print(\"Greeter client received: \" + response.message) if __name__ == '__main__': logging.basicConfig() run() ","date":"2019-09-09","objectID":"/grpc2/:1:2","tags":["grpc"],"title":"Building microservices in Go and Python using gRPC","uri":"/grpc2/"},{"categories":["grpc"],"content":"ì‹¤í–‰ ë¨¼ì € Serverë¥¼ ì‹¤í–‰í•œë‹¤. $ go run main.go 2019/09/08 22:51:48 grpc server start at port :50051 pythonìœ¼ë¡œ ì‘ì„±í•œ clientë¥¼ ì‹¤í–‰í•´ë³´ì. $ python main.py Greeter client received: Hi jaejin test ë‹¤ì‹œ serverë¥¼ í™•ì¸í•˜ë©´ ë°ì´í„°ê°€ ì˜¨ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. $ go run main.go 2019/09/08 22:51:48 grpc server start at port :50051 2019/09/08 22:52:22 Received: Hi jaejin test test test test !! 2019/09/08 22:52:22 Send back to client: Hi jaejin test ","date":"2019-09-09","objectID":"/grpc2/:2:0","tags":["grpc"],"title":"Building microservices in Go and Python using gRPC","uri":"/grpc2/"},{"categories":["grpc"],"content":"gRPCëŠ” ì›ê²½ì˜ Clientê°€ Server ë‹¨ì˜ í•¨ìˆ˜ë¥¼ ë¡œì»¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë“¯ ë¶€ë¥¼ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì´ë•Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ë°›ëŠ”ë°ëŠ” protocol buffersë¥¼ ì‚¬ìš©í•˜ê³  HTTP/2 ê¸°ë°˜ì˜ Streamingì„ ì§€ì›í•˜ë©° REST ëŒ€ë¹„ ë¹ ë¥¸ ì„±ëŠ¥ì„ ì§€ì›í•œë‹¤. gRPCì˜ íŠ¹ì§• ì¤‘ í•˜ë‚˜ëŠ” Java, Ruby, Node, Python, Goë“± ê³¼ ê°™ì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì§€ì›í•˜ê³  MSA (ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ì•„í‚¤í…ì³)ì™€ ì¡°í•©ì´ ë§¤ë ¥ì ì´ë‹¤. ","date":"2019-09-08","objectID":"/grpc1/:0:0","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"Google protocol buffers êµ¬ê¸€ì—ì„œ ê°œë°œí•˜ê³  ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê³µê°œí•œ ì§ë ¬í™” ë°ì´í„° êµ¬ì¡°ì´ë‹¤. ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ê³  ì§ë ¬í™” ì†ë„ê°€ ë¹ ë¥´ê³  íŒŒì¼ì˜ í¬ê¸°ê°€ ì‘ë‹¤ê³  í•œë‹¤. ","date":"2019-09-08","objectID":"/grpc1/:1:0","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"ì‚¬ìš©í•˜ê¸° protocol buffersëŠ” proto fileì´ë¼ëŠ” í˜•íƒœë¡œ ì •ì˜í•˜ëŠ”ë°, protocol buffersëŠ” í•œê°€ì§€ ì–¸ì–´ê°€ ì•„ë‹Œ ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— íŠ¹ì •ì–¸ì–´ì— ì¢…ì†ì„±ì´ ì—†ëŠ” í˜•íƒœë¡œ ë°ì´í„° íƒ€ì…ì„ ì •ì˜í•˜ëŠ”ë° ì´ íŒŒì¼ì´ proto fileì´ë‹¤. proto fileì„ ì»´íŒŒì¼ í•˜ë©´ ê° ì–¸ì–´ì— ë§ê²Œ í´ë˜ìŠ¤ íŒŒì¼ì„ ìƒì„±í•´ì¤€ë‹¤. ì˜ˆì‹œëŠ” ë°‘ì˜ ì˜ˆì œì—ì„œ ì‚´í´ë³´ì. ","date":"2019-09-08","objectID":"/grpc1/:1:1","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"ì„¤ì¹˜ golang 1.6 ì´ìƒ install gRPC $ go get -u google.golang.org/grpc install Protocol Buffers v3 install protoc plugin for go $ go get -u github.com/golang/protobuf/protoc-gen-go $ export PATH=$PATH:$GOPATH/bin ","date":"2019-09-08","objectID":"/grpc1/:2:0","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"Smaple ","date":"2019-09-08","objectID":"/grpc1/:3:0","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"ì°¸ê³  ì‚¬ì´íŠ¸ https://grpc.io/docs/quickstart/go/ https://jusths.tistory.com/127 ","date":"2019-09-08","objectID":"/grpc1/:3:1","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"sample code https://github.com/jaejin1/gRPC/tree/master/go ","date":"2019-09-08","objectID":"/grpc1/:3:2","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"proto file hi.proto syntax = \"proto3\";package higrpc;service Hi { rpc SayHi (HiRequest) returns (HiReply) {} rpc CountHi (HiRequest) returns (HiReply) {} rpc JaejinHi (HiRequest) returns (HiReply) {}}message HiRequest { string name = 1;}message HiReply { string message = 1;} compile hi.proto $ protoc hi.proto --go_out=plugins=grpc:. compileì„ í•˜ê²Œ ë˜ë©´ hi.pb.go íŒŒì¼ì´ ìƒì„±ë  ê²ƒì´ë‹¤. ì´ íŒŒì¼ì„ server, client ì—ì„œ import ì‹œí‚¨ë‹¤. ","date":"2019-09-08","objectID":"/grpc1/:3:3","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"Server package main import ( \"context\" \"log\" \"net\" \"strconv\" pb \"github.com/jaejin1/grpc/pb\" \"google.golang.org/grpc\" ) const ( port = \":50051\" ) type server struct{} func (s *server) SayHi(ctx context.Context, in *pb.HiRequest) (*pb.HiReply, error) { log.Printf(\"Received: %v\", in.Name) replyMsg := \"Hi \" + in.Name log.Printf(\"Send back to client: %s\", replyMsg) return \u0026pb.HiReply{Message: replyMsg}, nil } func (s *server) CountHi(ctx context.Context, in *pb.HiRequest) (*pb.HiReply, error) { log.Printf(\"Received: %v, length: %d\", in.Name, len(in.Name)) replyMsg := \"Count \" + in.Name + \" length: \" + strconv.Itoa(len(in.Name)) log.Printf(\"Send back to client: %s\", replyMsg) return \u0026pb.HiReply{Message: replyMsg}, nil } func (s *server) JaejinHi(ctx context.Context, in *pb.HiRequest) (*pb.HiReply, error) { log.Printf(\"Received: Hi jaejin %v\", in.Name) replyMsg := \"Hi jaejin test\" log.Printf(\"Send back to client: %s\", replyMsg) return \u0026pb.HiReply{Message: replyMsg}, nil } func main() { log.Printf(\"grpc server start at port %s\", port) l, err := net.Listen(\"tcp\", port) if err != nil { log.Fatalf(\"failed to listen: %v\", err) } s := grpc.NewServer() pb.RegisterHiServer(s, \u0026server{}) if err := s.Serve(l); err != nil { log.Fatalf(\"fail to serve: %v\", err) } } ","date":"2019-09-08","objectID":"/grpc1/:3:4","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"client package main import ( \"context\" \"flag\" \"log\" \"time\" pb \"github.com/jaejin1/grpc/pb\" \"google.golang.org/grpc\" ) const ( serverAddr = \"localhost:50051\" defaultName = \"world\" ) func main() { conn, err := grpc.Dial(serverAddr, grpc.WithInsecure()) if err != nil { log.Fatalf(\"did not connect: %v\", err) } defer conn.Close() c := pb.NewHiClient(conn) name := defaultName flag.Parse() if flag.NArg() \u003e 0 { name = flag.Arg(0) } ctx, cancel := context.WithTimeout(context.Background(), time.Second) defer cancel() r, err := c.SayHi(ctx, \u0026pb.HiRequest{Name: name}) if err != nil { log.Fatalf(\"could not greet: %v\", err) } log.Printf(\"Greeting from the Server: %s\", r.Message) r, err = c.CountHi(ctx, \u0026pb.HiRequest{Name: name}) if err != nil { log.Fatalf(\"could not count: %v\", err) } log.Printf(\"Count from the Server: %s\", r.Message) r, err = c.JaejinHi(ctx, \u0026pb.HiRequest{Name: name}) if err != nil { log.Fatalf(\"Error !!: %v\", err) } log.Printf(\"Hi jaejin: %s\", r.Message) } ","date":"2019-09-08","objectID":"/grpc1/:3:5","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"Test ","date":"2019-09-08","objectID":"/grpc1/:4:0","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"server ì‹¤í–‰ $ go run server/main.go 2019/09/08 15:06:17 grpc server start at port :50051 ","date":"2019-09-08","objectID":"/grpc1/:4:1","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"client ì‹¤í–‰ $ go run client/main.go 2019/09/08 15:06:44 Greeting from the Server: Hi world 2019/09/08 15:06:44 Count from the Server: Count world length: 5 2019/09/08 15:06:44 Hi jaejin: Hi jaejin test ","date":"2019-09-08","objectID":"/grpc1/:4:2","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["grpc"],"content":"server í™•ì¸ $ go run server/main.go 2019/09/08 15:06:17 grpc server start at port :50051 2019/09/08 15:06:44 Received: world 2019/09/08 15:06:44 Send back to client: Hi world 2019/09/08 15:06:44 Received: world, length: 5 2019/09/08 15:06:44 Send back to client: Count world length: 5 2019/09/08 15:06:44 Received: Hi jaejin world 2019/09/08 15:06:44 Send back to client: Hi jaejin test ë‹¤ìŒì€ gRPCë¥¼ ê°€ì§€ê³  MSA íŠ¹ì„±ì„ ì‚´ë ¤ë³´ê¸° ìœ„í•´ go serverë¥¼ ë„ì›Œë†“ê³  python clientë¡œ ì ‘ì†ì„ í•´ë³´ë ¤ê³  í•œë‹¤. ","date":"2019-09-08","objectID":"/grpc1/:4:3","tags":["grpc"],"title":"Introduction to gRPC","uri":"/grpc1/"},{"categories":["graphql"],"content":"ì„œë²„ë¦¬ìŠ¤ GraphQLì›Œí¬ìƒµ ë‚´ìš©ì„ ì°¸ì¡°í–ˆìŠµë‹ˆë‹¤. ì•ì˜ ê¸€ì€ ê°œë…ë§Œ ë‹¤ë¤˜ë‹¤ë©´ ì´ë²ˆ ê¸€ì—ì„œëŠ” ì‹¤ì§ˆì ìœ¼ë¡œ ì‚¬ìš©ì„ í•¨ì— ìˆì–´ í•„ìš”í•œ ë‚´ìš©ë“¤ì„ ë‹¤ë£¬ë‹¤. ","date":"2019-09-07","objectID":"/graphql2/:0:0","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"ì†Œê°œ GraphQLì€ í˜ì´ìŠ¤ë¶ì—ì„œ ë§Œë“  ì–´í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì–´ ì¿¼ë¦¬ ì–¸ì–´ì´ë‹¤. ê¸°ì¡´ì˜ ì›¹ í˜¹ì€ ëª¨ë°”ì¼ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ APIë¥¼ êµ¬í˜„ í•  ë•ŒëŠ” ë³´í†µ REST APIë¥¼ ì‚¬ìš©í•œë‹¤. ê¸°ì¡´ì˜ REST APIë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê¸°ëŠ¥ì´ í•„ìš”í• ë•Œë§ˆë‹¤ ê·¸ë•Œ ê·¸ë•Œ í•„ìš”í•œ APIë¥¼ ë§Œë“¤ì–´ ì¤˜ì•¼ í–ˆë‹¤. ì˜ˆë¥¼ë“¤ì–´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— Accountë¼ëŠ” ëª¨ë¸ì´ ìˆê³ , /accountsë¼ëŠ” endpointê°€ ìˆë”°ê³  í•˜ë©´ GET /accounts GET /accounts/{id} â€¦ { \"account\": { \"id\": \"1\", \"email\": \"jaejin@gmail.com\", \"friends\": [ \"2\", \"3\" ], \"first_name\": \"Jaejin\", \"last_name\": \"Lee\" } } ì´ë ‡ê²Œ ê°€ì ¸ì˜¬í…ë° ë§Œì¼ friendsëª©ë¡ì„ ê°€ì ¸ì˜¤ë ¤ë©´ ë˜ ë‹¤ë¥¸ APIë¥¼ ë§Œë“¤ì–´ì•¼ í•  ê²ƒì´ë‹¤. GET /accounts/1/?include_friend=username or GET /include_friend/1 ì´ë ‡ê²Œ ê³„ì† APIë¥¼ ë§Œë“¤ë‹¤ ë³´ë©´ ìˆ˜ ë§ì€ endpointê°€ ìƒê¸¸ ê²ƒì´ë‹¤. ","date":"2019-09-07","objectID":"/graphql2/:1:0","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"ì¿¼ë¦¬ query { account(id: \"1\") { username email firstName lastName friends { firstName username } } } ","date":"2019-09-07","objectID":"/graphql2/:1:1","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"ê²°ê³¼ { \"data\": { \"account\": { \"username\": \"velopert\", \"email\": \"public.velopert@gmail.com\", \"firstName\": \"Minjun\", \"lastName\": \"Kim\", \"friends\": [ { \"firstName\": \"Jayna\", \"username\": \"jn4kim\" }, { \"firstName\": \"Abet\", \"username\": \"abet\" } ] } } } GraphQLì€ ë‹¤ìŒê³¼ ê°™ì´ queryë¡œ ë§Œë“¤ì–´ ì„œë²„ì— ì „ë‹¬í•˜ë©´ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ","date":"2019-09-07","objectID":"/graphql2/:1:2","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"ë¬¸ì œ? GraphQLì€ REST APIì˜ ìƒˆë¡œìš´ ê´€ì ì˜ ìŠ¤í™ì´ë‹¤. ë”°ë¼ì„œ ì–´ëŠ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ë“  GraphQLì˜ ìŠ¤í™ì— ë§ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤. javascript go python â€¦ ê¸°ì¡´ RESTë¡œ êµ¬í˜„ëœ APIëŠ” GET /accounts, POST /accounts, DELETE /accounts/:accountsIDë“± ê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê°œë°œì´ ëœë‹¤. ì´ êµ¬ì¡°ë¥¼ GraphQLë¡œ ë°”ê¿€ ìˆ˜ ìˆì§€ë§Œ GraphQLì€ ë‹¨ì¼ endpointë¥¼ ê¶Œì¥í•œë‹¤. ë”°ë¼ì„œ ëª¨ë“  ìš”ì²­ì„ /graghqlì—ì„œ ì²˜ë¦¬ í•´ì•¼í•œë‹¤. ì™œëƒí•˜ë©´ GraphQLì€ urlì´ ì•„ë‹ˆë¼ Queryë¥¼ í†µí•´ í‘œí˜„í•˜ê¸° ë•Œë¬¸ì—. ê¸°ì¡´ REST APIì™€ ê°™ì´ ì‚¬ìš©í•˜ë ¤ë©´ ê¸°ì¡´ REST APIë“¤ì€ ë†”ë‘ê³  ìƒˆë¡œìš´ endpoint /graphqlì„ ì‘ì„±í•˜ë©´ ëœë‹¤. ","date":"2019-09-07","objectID":"/graphql2/:2:0","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"Content-Type: â€œapplication/graphqlâ€ GraphQLì€ ê¸°ë³¸ì ìœ¼ë¡œ Content-Type: \"application/json\"ì„ ì‚¬ìš©í•œë‹¤. ë¬¼ë¡  Content-Type: \"application/graphql\"ë„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ ë‘ ìš”ì²­ì€ ì°¨ì´ì ì´ ìˆë‹¤. Content-Type: \"application/json\" request bodyëŠ” ë‹¤ìŒ í˜•ì‹ì„ ë”°ë¼ì•¼í•œë‹¤. { \"query\": \"...\", \"operationName\": \"...\", \"variables\": { \"myVariable\": \"someValue\", ... } } Content-Type: \"application/graphql\" Queryìš”ì²­ì„ ìœ„í•´ ì¶•ì•½í˜• bodyë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. Content-Type: â€œapplication/jsonâ€ ì˜ queryí•„ë“œ ë‚´ë¶€ì— ìˆëŠ” ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. { account(id: \"1\") { id email ... } } ì´ëŸ¬í•œ í˜•ì‹ ì°¨ì´ ë•Œë¬¸ì— Content-Type: \"application/graphql\" ì„ ì‚¬ìš©í•˜ê¸° ë³´ë‹¤ëŠ” Content-Type: \"application/json\"ë¡œ í†µì¼ í•˜ì—¬ ì‚¬ìš© í•  ê²ƒì´ë‹¤. ","date":"2019-09-07","objectID":"/graphql2/:2:1","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"Example goë¡œ ê°„ë‹¨í•œ GraphQL ì„œë²„ë¥¼ ë§Œë“¤ì–´ë³´ì. ","date":"2019-09-07","objectID":"/graphql2/:3:0","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"Code main.go package main import ( \"encoding/json\" \"fmt\" \"io/ioutil\" \"net/http\" \"github.com/graphql-go/graphql\" ) type user struct { ID string `json:\"id\"` Name string `json:\"name\"` } var data map[string]user /* Create User object type with fields \"id\" and \"name\" by using GraphQLObjectTypeConfig: - Name: name of object type - Fields: a map of fields by using GraphQLFields Setup type of field use GraphQLFieldConfig */ var userType = graphql.NewObject( graphql.ObjectConfig{ Name: \"User\", Fields: graphql.Fields{ \"id\": \u0026graphql.Field{ Type: graphql.String, }, \"name\": \u0026graphql.Field{ Type: graphql.String, }, }, }, ) /* Create Query object type with fields \"user\" has type [userType] by using GraphQLObjectTypeConfig: - Name: name of object type - Fields: a map of fields by using GraphQLFields Setup type of field use GraphQLFieldConfig to define: - Type: type of field - Args: arguments to query with current field - Resolve: function to query data using params from [Args] and return value with current type */ var queryType = graphql.NewObject( graphql.ObjectConfig{ Name: \"Query\", Fields: graphql.Fields{ \"user\": \u0026graphql.Field{ Type: userType, Args: graphql.FieldConfigArgument{ \"id\": \u0026graphql.ArgumentConfig{ Type: graphql.String, }, }, Resolve: func(p graphql.ResolveParams) (interface{}, error) { idQuery, isOK := p.Args[\"id\"].(string) if isOK { return data[idQuery], nil } return nil, nil }, }, }, }) var schema, _ = graphql.NewSchema( graphql.SchemaConfig{ Query: queryType, }, ) func executeQuery(query string, schema graphql.Schema) *graphql.Result { result := graphql.Do(graphql.Params{ Schema: schema, RequestString: query, }) if len(result.Errors) \u003e 0 { fmt.Printf(\"wrong result, unexpected errors: %v\", result.Errors) } return result } func main() { _ = importJSONDataFromFile(\"data.json\", \u0026data) http.HandleFunc(\"/graphql\", func(w http.ResponseWriter, r *http.Request) { result := executeQuery(r.URL.Query().Get(\"query\"), schema) json.NewEncoder(w).Encode(result) }) fmt.Println(\"Now server is running on port 8080\") fmt.Println(\"Test with Get : curl -g 'http://localhost:8080/graphql?query={user(id:\\\"1\\\"){name}}'\") http.ListenAndServe(\":8080\", nil) } //Helper function to import json from file to map func importJSONDataFromFile(fileName string, result interface{}) (isOK bool) { isOK = true content, err := ioutil.ReadFile(fileName) if err != nil { fmt.Print(\"Error:\", err) isOK = false } err = json.Unmarshal(content, result) if err != nil { isOK = false fmt.Print(\"Error:\", err) } return } data.json { \"1\": { \"id\": \"1\", \"name\": \"Dan\" }, \"2\": { \"id\": \"2\", \"name\": \"Lee\" }, \"3\": { \"id\": \"3\", \"name\": \"Nick\" } } ","date":"2019-09-07","objectID":"/graphql2/:3:1","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"Run $ go run main.go Now server is running on port 8080 Test with Get : curl -g 'http://localhost:8080/graphql?query={user(id:\"1\"){name}}' $ curl -g 'http://localhost:8080/graphql?query={user(id:\"1\"){name}}' {\"data\":{\"user\":{\"name\":\"Dan\"}}} ","date":"2019-09-07","objectID":"/graphql2/:3:2","tags":["graphql"],"title":"Explore GraphQL2","uri":"/graphql2/"},{"categories":["graphql"],"content":"ì„œë²„ë¦¬ìŠ¤ GraphQLì›Œí¬ìƒµ ë‚´ìš©ì„ ì°¸ì¡°í–ˆìŠµë‹ˆë‹¤. tonyfromundefined/serverless-graphql-workshop ","date":"2019-09-04","objectID":"/graphql1/:0:0","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"GraphQLì´ë€? GraphQLì€ API ì„¤ê³„ì™€ ìš”ì²­ì„ êµ¬ì¡°í™”í•˜ëŠ” ì¼ë ¨ì˜ ì•½ì†ì´ë‹¤. GraphQLì„ í†µí•´ ìš°ë¦¬ëŠ” ë°ì´í„°ì— ê¸°ë°˜í•´ APIë¥¼ ë””ìì¸ í•  ìˆ˜ ìˆê³ , í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” ì •í•´ì§„ ì¿¼ë¦¬ ì–¸ì–´ë¥¼ í†µí•´ APIë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì— í•„ìš”í•œ ìì›ë§Œ ìš”ì²­. í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ê°€ ê°€ì§„ ë§ì€ ìì›ì„ ë‹¨ í•œ ë²ˆì˜ ìš”ì²­ìœ¼ë¡œ ê°€ì ¸ ì˜¬ ìˆ˜ ìˆë‹¤. íƒ€ì… ì‹œìŠ¤í…œì„ í†µí•´ ê°œë°œ ìƒì‚°ì„±ì„ ë¹„ì•½ì ìœ¼ë¡œ í–¥ìƒ ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì œê³µë˜ëŠ” ê¸°ë³¸ ê°œë°œì ë„êµ¬ë¥¼ í†µí•´ APIë¥¼ ì‰½ê²Œ ë¬¸ì„œí™”í•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤. ë²„ì „ ê´€ë¦¬ ì—†ì´ APIë¥¼ ì ì§„ì ìœ¼ë¡œ ì§„í™” ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ","date":"2019-09-04","objectID":"/graphql1/:1:0","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"GraphQL íƒ€ì… ì‹œìŠ¤í…œê³¼ ì¿¼ë¦¬, ë®¤í…Œì´ì…˜ íƒ€ì… ê¸°ë³¸ íƒ€ì…ì€ ë‹¤ìŒ 5ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤. Int: ë¶€í˜¸ê°€ ìˆëŠ” 32ë¹„íŠ¸ ì •ìˆ˜. Float: ë¶€í˜¸ê°€ ìˆëŠ” ë¶€ë™ì†Œìˆ˜ì  ê°’. String : UTF-8 ë¬¸ìì—´. Boolean : true ë˜ëŠ” false ID : ID ìŠ¤ì¹¼ë¼ íƒ€ì…ì€ ê°ì²´ë¥¼ ë‹¤ì‹œ ìš”ì²­í•˜ê±°ë‚˜ ìºì‹œì˜ í‚¤ë¡œì¨ ìì£¼ ì‚¬ìš©ë˜ëŠ” ê³ ìœ  ì‹ë³„ìë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ID íƒ€ì…ì€ Stringê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì§ë ¬í™”ë˜ì§€ë§Œ, IDë¡œ ì •ì˜í•˜ëŠ” ê²ƒì€ ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì˜ë„ê°€ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì‚´í´ë³´ê¸° User ì™€ Post ë¼ëŠ” íƒ€ì…ì„ ìŠ¤í‚¤ë§ˆì— ì„ ì–¸ type User { id: ID! username: String! posts: [Post!]! } type Post { id: ID! title: String! content: String! author: User! } ì°¸ê³ : ! ëŠ” ë°ì´í„° ê°’ì— null ì´ í¬í•¨ ë  ìˆ˜ ì—†ìŒì„ ë‚˜íƒ€ë‚¸ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ! ëŠ” ëª¨ë‘ ë¶™ì—¬ì¤€ë‹¤ê³  ìƒê°í•˜ì. API ì„¤ê³„ ë‹¨ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ APIì— í•„ìš”í•œ íƒ€ì…ë“¤ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ì´ì œ í•´ë‹¹ íƒ€ì…ì„ ê°€ì§€ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•´ë³´ì. ","date":"2019-09-04","objectID":"/graphql1/:2:0","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"ì¿¼ë¦¬ì™€ ë®¤í…Œì´ì…˜ ì¿¼ë¦¬ì™€ ë®¤í…Œì´ì…˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤. ì¿¼ë¦¬ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‚¬ìš© ID ì†ì„±ì„ í†µí•´ Client ë‚´ë¶€ì—ì„œ Cacheë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ë®¤í…Œì´ì…˜ì€ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ”ë° ì‚¬ìš©. ìƒì„± ìˆ˜ì • ì‚­ì œ ë“±ë“±.. ì´ ë‘ê°€ì§€ íƒ€ì…ì„ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ , ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ Query , Mutation íƒ€ì… ë‚´ì— ì†ì„±ë“¤ì„ ì„ ì–¸í•˜ì. ì‚´í´ë³´ê¸° type User { id: ID! username: String! posts: [Post!]! } type Post { id: ID! title: String! content: String! author: User! } type Query { user(id: ID!): User! post(id: ID!): Post! } type Mutation { createUser(username: String!): User! updateUser(id: ID!, username: String): User! deleteUser(id: ID!): User! createPost(title: String!, content: String!, authorId: String!): Post! updatePost(id: ID!, title: String, content: String): Post! deletePost(id: ID!): Post! } ë‹¤ìŒê³¼ ê°™ì´ Query ì™€ Mutation ì— ì†ì„± ê°’ìœ¼ë¡œ í•„ìš”í•œ ì¿¼ë¦¬, ë®¤í…Œì´ì…˜ ë“¤ì„ ë§Œë“¤ì—ˆë‹¤. ","date":"2019-09-04","objectID":"/graphql1/:2:1","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"ë¦¬ì¡¸ë²„ ì´ë ‡ê²Œ ì„ ì–¸í•œ GraphQL ìŠ¤í‚¤ë§ˆë¥¼ ì–´ë–»ê²Œ êµ¬ë™ ì‹œí‚¬ê¹Œ? ë°”ë¡œ ë¦¬ì¡¸ë²„ê°€ ê·¸ ì—­í• ì„ í•´ì¤€ë‹¤. ë¦¬ì¡¸ë²„ëŠ” íƒ€ì… ë‚´ ì†ì„±ê³¼ 1:1ë¡œ ì¼ì¹˜ì‹œì¼œ êµ¬í˜„ì´ í•„ìš”í•œë‹¤. ë¦¬ì¡¸ë²„ëŠ” parent , args ë¥¼ ê¸°ë³¸ argumentë¡œ í•˜ëŠ” í•¨ìˆ˜ì˜ í˜•íƒœì´ë‹¤. parent ëŠ” ìƒìœ„ ë¦¬ì¡¸ë²„ì—ì„œ return í•œ ê°’ì„ ë‚˜íƒ€ë‚¸ë‹¤. args ëŠ” ì¿¼ë¦¬ë¬¸ ë‚´ì—ì„œ ë„£ì–´ì¤€ ë§¤ê°œë³€ìˆ˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. context ëŠ” ìš”ì²­ í•˜ë‚˜ë¥¼ íƒ€ê³  ê³µìœ ë˜ëŠ” ì „ì—­ ìƒíƒœì´ë‹¤. ( ë¡œê·¸ì¸ ì„¸ì…˜ ì •ë³´ë“± ì €ì¥ ) ì‚´í´ë³´ê¸° const User = { id: (parent, args, context) =\u003e { return parent.id }, username: (parent, args, context) =\u003e { return parent.username }, posts: (parent, args, context) =\u003e { /* parent.idë¥¼ í†µí•´ DBì—ì„œ Postë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ */ return posts }, } const Post = { id: (parent, args, context) =\u003e { return parent.id }, title: (parent, args, context) =\u003e { return parent.title }, content: (parent, args, context) =\u003e { return parent.content }, author: (parent, args, context) =\u003e { /* parent.authorIdë¥¼ í†µí•´ DBì—ì„œ í•´ë‹¹ Userë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ */ return user }, } const Query = { user: (parent, args, context) =\u003e { /* args.idë¥¼ í†µí•´ DBì—ì„œ í•´ë‹¹ Userë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ */ return user }, post: (parent, args, context) =\u003e { /* args.idë¥¼ í†µí•´ DBì—ì„œ í•´ë‹¹ Postë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤ */ return post }, } const Mutation = { createUser: (parent, args, context) =\u003e { /* ìƒˆ ìœ ì €ë¥¼ ìƒì„±í•´ì„œ DBì— ì‚½ì…í•©ë‹ˆë‹¤ */ return user }, updateUser: (parent, args, context) =\u003e { /* args.idë¥¼ í†µí•´ DBì—ì„œ ê¸°ì¡´ ìœ ì €ë¥¼ ë¶ˆëŸ¬ì™€ ê°’ì„ ìˆ˜ì • í•œ ë’¤ DBì— ì‚½ì…í•©ë‹ˆë‹¤ */ return user }, deleteUser: (parent, args, context) =\u003e { /* args.idë¥¼ í†µí•´ DBì—ì„œ ê¸°ì¡´ ìœ ì €ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤ */ return user }, createPost: (parent, args, context) =\u003e { /* ìƒˆ ê²Œì‹œë¬¼ì„ ìƒì„±í•´ì„œ DBì— ì‚½ì…í•©ë‹ˆë‹¤ */ return post }, updatePost: (parent, args, context) =\u003e { /* args.idë¥¼ í†µí•´ DBì—ì„œ ê¸°ì¡´ ê²Œì‹œë¬¼ì„ ë¶ˆëŸ¬ì™€ ê°’ì„ ìˆ˜ì • í•œ ë’¤ DBì— ì‚½ì…í•©ë‹ˆë‹¤ */ return post }, deletePost: (parent, args, context) =\u003e { /* args.idë¥¼ í†µí•´ DBì—ì„œ ê¸°ì¡´ ê²Œì‹œë¬¼ì„ ì‚­ì œí•©ë‹ˆë‹¤ */ return post }, } ","date":"2019-09-04","objectID":"/graphql1/:2:2","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"ìš”ì²­ í´ë¼ì´ì–¸íŠ¸ê°€ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ë²•ìœ¼ë¡œ ì„œë²„ì— ìš”ì²­ì„ ë‚ ë¦¬ë©´ query { user(id: \"ea9f5eac-1449-5f03-a1c9-6521622de815\") { id username } } ì´ ìš”ì²­ì— ì‘ë‹µí•˜ê¸° ìœ„í•´ ì„œë²„ì—ì„œ Query.user ë¦¬ì¡¸ë²„ í•¨ìˆ˜ ì‹¤í–‰ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ Userë¥¼ ê°€ì ¸ì™€ì„œ í•´ë‹¹ ê°’ì„ ë¦¬ì¡¸ë²„ í•¨ìˆ˜ ë‚´ì—ì„œ return return ê°’ì„ [User.id](http://user.id) , User.username ë¦¬ì¡¸ë²„ì— parent argumentë¡œ ì „ë‹¬ [User.id](http://user.id) ë¦¬ì¡¸ë²„ í•¨ìˆ˜ëŠ” parent argumentë¥¼ ì‚¬ìš©í•´, id ê°’ì„ return User.username ë¦¬ì¡¸ë²„ í•¨ìˆ˜ëŠ” parent argumentë¥¼ ì‚¬ìš©í•´, usernameê°’ì„ return ìˆœìœ¼ë¡œ ë¦¬ì¡¸ë²„ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤. ê·¸ í›„ ê²°ê³¼ë¥¼ ì¢…í•©í•´ ë‹¤ìŒê³¼ ê°™ì´ JSONìœ¼ë¡œ ì‘ë‹µ í•´ì¤€ë‹¤. { \"user\": { \"id\": \"ea9f5eac-1449-5f03-a1c9-6521622de815\", \"username\": \"tonyfromundefined\" } } ì´ëŸ° ê°œë°œ ë°©ì‹ì„ GraphQLì—ì„œ Schema-First (SDL-First) ê°œë°œ ë°©ì‹ì´ë¼ê³  í•œë‹¤. ì´ëŸ° ë°©ì‹ì€ ì²˜ìŒ GraphQLêµ¬í˜„ì²´ê°€ ë“±ì¥í–ˆì„ ë•Œ ë§ì´ ì‚¬ìš©ë˜ì—ˆë‹¤. í•˜ì§€ë§Œ Schema-First ê°œë°œ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ì€ í•œê³„ì ì´ ìˆë‹¤. ìŠ¤í‚¤ë§ˆ ì •ì˜ì™€ ë¦¬ì¡¸ë²„ ê°„ì˜ ë¶ˆì¼ì¹˜ ë¬¸ì œ GraphQL ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬ ë¬¸ì œ ìŠ¤í‚¤ë§ˆ ì •ì˜ì˜ ì¤‘ë³µ (ì½”ë“œ ì¬ì‚¬ìš© ë¬¸ì œ) IDE ì§€ì› ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ë‚®ì€ ê°œë°œ ê²½í—˜ Schema ì‘ì„± ë¬¸ì œ ë”°ë¼ì„œ ì´ëŸ¬í•œ í•œê³„ì ì„ íš¨ê³¼ì ìœ¼ë¡œ í•´ê²° í•˜ê¸° ìœ„í•´ Code-First ê°œë°œ ë°©ì‹ì´ ë“±ì¥í–ˆë‹¤. ","date":"2019-09-04","objectID":"/graphql1/:2:3","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"Nexusë¡œ ì‹œì‘í•˜ëŠ” Code-First GraphQL ê°œë°œ ì•ì—ì„œ ë§í•œ Code-First ê°œë°œ ë°©ë²•ì— ëŒ€í•œ êµ¬í˜„ì²´ë¡œ Nexusë¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Prismaì—ì„œ ë‚´ë†“ì•˜ë‹¤. Node.js TypeScript Webpack Nexus ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì‹¤ì œ GraphQL í”„ë¡œì íŠ¸ë¥¼ ì‚´í´ë³´ì. í´ë” êµ¬ì¡° https://github.com/jaejin1/serverless-graphql / .env.development , .env.production í™˜ê²½ ë³€ìˆ˜ ì„¤ì •íŒŒì¼ package.json , yarn.lock í˜„ì¬ í”„ë¡œì íŠ¸ê°€ ì˜ì¡´í•˜ê³  ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë²„ì „ ì •ë³´ yarn ì„ ì´ìš©í•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜ í•  ìˆ˜ ìˆë‹¤. tsconfig.json TypeScript ê´€ë ¨ ì„¤ì •íŒŒì¼ tslint.json TSLint ê´€ë ¨ ì„¤ì •íŒŒì¼ webpack.config.dev.js ê°œë°œ ëª¨ë“œì˜ Webpack ë¹Œë“œ ì„¤ì • yarn dev ëª…ë ¹ì—ì„œ í•´ë‹¹ ì„¤ì •ìœ¼ë¡œ Webpackì´ ì‘ë™ webpack.config.prod.js Production ëª¨ë“œì˜ Webpack ë¹Œë“œ ì„¤ì • yarn build ëª…ë ¹ì—ì„œ í•´ë‹¹ ì„¤ì •ìœ¼ë¡œ Webpackì´ ì‘ë™. serverless.yml ë°°í¬ë¥¼ ìœ„í•œ Serverless Framework ì„¤ì • /src/resolvers/ index.ts ì—”íŠ¸ë¦¬ íŒŒì¼ Query.ts ì™€ Mutation.ts ê°€ ë‚´ë³´ë‚¸ í•­ëª©ì„ ë‹¤ì‹œ ë‚´ë³´ë‚´ëŠ” ì—­í• ì„ í•œë‹¤. Query.ts ê¸°ë³¸ Query íƒ€ì…ì„ ì„ ì–¸í•œë‹¤. Mutation.ts ê¸°ë³¸ Mutation íƒ€ì…ì„ ì„ ì–¸í•œë‹¤. /src/generated schema.graphql Nexusê°€ ìë™ ìƒì„±í•œ Schemaì´ë‹¤. Nexusê°€ ìë™ ìƒì„±í•œ TypeScript Typingì´ë‹¤. ","date":"2019-09-04","objectID":"/graphql1/:3:0","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"ì‹œì‘í•˜ê¸° /starters/server/ í´ë”ë¡œ ì´ë™ $ cd ./starters/server í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜ # ê¸°ì¡´ì— yarnì´ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´, $ npm i -g yarn # ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜í•˜ê¸° $ yarn ê°œë°œ ì„œë²„ ì‹œì‘ $ yarn dev Nexus ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ëœ Query ì™€ Mutation ì‚´í´ë³´ê¸° Query.ts import { queryType } from 'nexus' export const Query = queryType({ definition(t) { t.string('stage', { resolve: (_parent, _args, _context) =\u003e { return process.env.STAGE as string }, }) }, }) Mutation.ts import { mutationType } from 'nexus' export const Mutation = mutationType({ definition(t) { t.string('ping', { resolve: (_parent, _args, _context) =\u003e { return 'pong' }, }) }, }) ë‹¤ìŒê³¼ ê°™ì´ Nexusë¥¼ í†µí•´ì„œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ Nexusê°€ í•´ë‹¹ ì½”ë“œë¥¼ ì´ìš©í•´ schema.graphql ë¥¼ ìë™ ìƒì„±í•´ì¤€ë‹¤. ë”°ë¼ì„œ Schema-Firstì—ì„œ ì¡´ì¬ í–ˆë˜ ë¬¸ì œì ì¸ ìŠ¤í‚¤ë§ˆ ì •ì˜ì™€ ë¦¬ì¡¸ë²„ ê°„ ë¶ˆì¼ì¹˜ ë¬¸ì œì™€ Schema ì‘ì„±ë¬¸ì œë¥¼ í•´ê²° í•  ìˆ˜ ìˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ Nexusê°€ nexus.ts ì— TypeScript íƒ€ì´í•‘ì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ê¸° ë•Œë¬¸ì— ê°œë°œ í¸ì˜ì„±ì„ ëŠë‚„ìˆ˜ ìˆë‹¤. schema.graphql type Query { stage: String! } type Mutation { ping: String! } ","date":"2019-09-04","objectID":"/graphql1/:3:1","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"GraphQL Playground APIë¥¼ ì‘ì„±í–ˆë‹¤ë©´ í•´ë‹¹ APIê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•´ì•¼í•˜ëŠ”ë° ê°œë°œ ì„œë²„ë¥¼ ë„ì›Œë…¼ ìƒíƒœì—ì„œ [http://localhost:3000/graphql](http://localhost:3000/graphql) ë¡œ ì ‘ì†í•˜ë©´ GraphQL ë¬¸ì„œí™” ë„êµ¬ì¸ GraphQL Playgroundë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. GraphQL Playgroundë¥¼ í†µí•´, GraphQL APIë¥¼ ê²€ìƒ‰í•˜ê³  êµ¬í˜„ëœ APIë¥¼ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤. query { stage } \u003e\u003e\u003e { \"data\": { \"stage\": \"development\" } } mutation { ping } \u003e\u003e\u003e { \"data\": { \"ping\": \"pong\" } } ","date":"2019-09-04","objectID":"/graphql1/:4:0","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["graphql"],"content":"Task íƒ€ì…ê³¼ ì¿¼ë¦¬, ë®¤í…Œì´ì…˜ ë§Œë“¤ê¸° resolvers í´ë”ì— task í´ë”ë¥¼ ìƒì„±í•´ì„œ index.ts ( Task íƒ€ì… ì •ì˜ ë° Query, Mutationì„ ë°›ì•„ì„œ export ) Query.ts ( Query íƒ€ì…ì„ í™•ì¥ ) Mutation.ts ( Mutation íƒ€ì…ì„ í™•ì¥ ) íŒŒì¼ì„ ìƒì„±í•œë‹¤. /src/resolvers/task/index.ts import { objectType } from 'nexus' interface ITask { id: string content: string isDone: boolean } // ê°€ìƒì˜ Database export const TASKS: ITask[] = [] export const Task = objectType({ name: 'Task', definition(t) { t.id('id', { description: 'Task ìƒì„± ì‹œ ìë™ ìƒì„±ë˜ëŠ” Unique ID', }) t.string('content', { description: 'Task ë‚´ìš©', }) t.boolean('isDone', { description: 'Task ì™„ë£Œ ì—¬ë¶€', }) }, }) export * from './Query' export * from './Mutation' /src/resolvers/task/Query.ts import { extendType, idArg } from 'nexus' import { TASKS } from './' export const TaskQueries = extendType({ type: 'Query', definition(t) { t.field('task', { type: 'Task', args: { id: idArg({ required: true, }), }, resolve: (_parent, args) =\u003e { const task = TASKS.find((task) =\u003e task.id === args.id) if (task) { return task } else { throw new Error(`${args.id}ë¥¼ ê°€ì§„ Taskë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`) } }, }) t.list.field('tasks', { type: 'Task', resolve: () =\u003e { return TASKS }, }) }, }) /src/resolvers/task/Mutation.ts import { booleanArg, extendType, idArg, stringArg } from 'nexus' import short from 'short-uuid' import { TASKS } from './' export const TaskMutations = extendType({ type: 'Mutation', definition(t) { t.field('createTask', { type: 'Task', args: { content: stringArg({ required: true, }), }, resolve: (_parent, args) =\u003e { const task = { id: short.generate(), content: args.content, isDone: false, } TASKS.push(task) return task }, }) t.field('updateTask', { type: 'Task', args: { id: idArg({ required: true, }), content: stringArg(), isDone: booleanArg(), }, resolve: async (_parent, args) =\u003e { const taskIndex = TASKS.findIndex((task) =\u003e task.id === args.id) if (taskIndex \u003e -1) { if (args.content) { TASKS[taskIndex].content = args.content } if (args.isDone) { TASKS[taskIndex].isDone = args.isDone } return TASKS[taskIndex] } else { throw new Error(`${args.id}ë¼ëŠ” IDë¥¼ ê°€ì§„ Taskë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`) } }, }) t.field('deleteTask', { type: 'Task', args: { id: idArg({ required: true, }), }, resolve: async (_parent, args) =\u003e { const taskIndex = TASKS.findIndex((task) =\u003e task.id === args.id) if (taskIndex \u003e -1) { const task = TASKS[taskIndex] TASKS.splice(taskIndex, 1) return task } else { throw new Error(`${args.id}ë¼ëŠ” IDë¥¼ ê°€ì§„ Taskë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`) } }, }) }, }) ê¸°ì¡´ schema ì—”íŠ¸ë¦¬ íŒŒì¼ì„ ìˆ˜ì •í•´ Task ì—”íŠ¸ë¦¬ íŒŒì¼ì„ ë‚´ë³´ë‚¸ë‹¤. /src/resolvers/index.ts export * from './Query' export * from './Mutation' export * from './task' ê°œë°œ ì„œë²„ë¥¼ ë„ì›Œ ë†¨ë‹¤ë©´, Nexusê°€ ìë™ìœ¼ë¡œ Schemaë¥¼ ìƒì„±í•œë‹¤. ### This file was autogenerated by GraphQL Nexus ### Do not make changes to this file directly type Mutation { createTask(content: String!): Task! deleteTask(id: ID!): Task! ping: String! updateTask(content: String, id: ID!, isDone: Boolean): Task! } type Query { stage: String! task(id: ID): Task! tasks: [Task!]! } type Task { \"\"\"Task ë‚´ìš©\"\"\" content: String! \"\"\"Task ìƒì„± ì‹œ ìë™ ìƒì„±ë˜ëŠ” Unique ID\"\"\" id: ID! \"\"\"Task ì™„ë£Œ ì—¬ë¶€\"\"\" isDone: Boolean! } GraphQL Playgroundì—ì„œ í…ŒìŠ¤íŠ¸ í•´ë³´ì. mutation { createTask(content: \"Hello, World\") { id } } \u003e\u003e\u003e { \"data\": { \"createTask\": { \"id\": \"3fZAgMTo7Va7B2DHuZRXTN\" } } } query { tasks { id content } } \u003e\u003e\u003e { \"data\": { \"tasks\": [ { \"id\": \"3fZAgMTo7Va7B2DHuZRXTN\", \"content\": \"Hello, World\" } ] } } ","date":"2019-09-04","objectID":"/graphql1/:5:0","tags":["graphql"],"title":"Explore GraphQL","uri":"/graphql1/"},{"categories":["algorithm"],"content":"Leetcode - 146. LRU Cache ","date":"2019-08-17","objectID":"/lrucache/:0:0","tags":["algorithm"],"title":"Leetcode - 146. LRU Cache","uri":"/lrucache/"},{"categories":["algorithm"],"content":"Least Recently Used Cache ","date":"2019-08-17","objectID":"/lrucache/:1:0","tags":["algorithm"],"title":"Leetcode - 146. LRU Cache","uri":"/lrucache/"},{"categories":["algorithm"],"content":"Cache? cacheëŠ” ë°ì´í„°ë‚˜ ê°’ì„ ë¯¸ë¦¬ ë³µì‚¬í•´ ë†“ëŠ” ì„ì‹œ ì¥ì†Œë¥¼ ê°€ë¦¬í‚¨ë‹¤. ì ‘ê·¼ ì‹œê°„ì— ë¹„í•´ ì›ë˜ ë°ì´í„°ë¥¼ ì ‘ê·¼í•˜ëŠ” ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¬ëŠ” ê²½ìš°, ë‹¤ì‹œ ê°’ì„ ê³„ì‚°í•˜ëŠ”ì‹œê°„ì„ ì ˆì•½ í•˜ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•œë‹¤. ìºì‹œì— ë¯¸ë¦¬ ë°ì´í„°ë¥¼ ë³µì‚¬ í•´ë†“ìœ¼ë©´ ë¹ ë¥¸ ì†ë„ë¡œ ë°ì´í„°ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤. ","date":"2019-08-17","objectID":"/lrucache/:1:1","tags":["algorithm"],"title":"Leetcode - 146. LRU Cache","uri":"/lrucache/"},{"categories":["algorithm"],"content":"LRU Cache LRUëŠ” OSì˜ í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ì¤‘ í•˜ë‚˜ì´ë‹¤. ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©í•˜ì§€ ì•Šì€ í˜ì´ì§€ë¥¼ êµì²´í•˜ëŠ” ê¸°ë²•ì´ë‹¤. ","date":"2019-08-17","objectID":"/lrucache/:1:2","tags":["algorithm"],"title":"Leetcode - 146. LRU Cache","uri":"/lrucache/"},{"categories":["algorithm"],"content":"LRU Cache êµ¬í˜„ LRU CacheëŠ” headì— ê°€ê¹Œìš´ ë°ì´í„°ì¼ìˆ˜ë¡ ìµœê·¼ì— ì‚¬ìš©í•œ ë°ì´í„°ì´ë‹¤. tailì€ ê°€ê¹Œìš¸ ìˆ˜ë¡ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©í•˜ì§€ ì•Šì€ ë°ì´í„°ì´ë‹¤. ë˜í•œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì‚½ì…í• ë•Œ ê°€ì¥ ë¨¼ì € ì‚­ì œë˜ë„ë¡ í•œë‹¤. code type LRUCache struct { capacity int cache map[int]*node head, tail *node } type node struct { prev, next *node key, value int } LRUCacheë¥¼ ì •ì˜í•˜ê³  nodeë¥¼ linked listë¡œ ë¬¶ê¸°ìœ„í•´ì„œ nodeë¥¼ ì •ì˜í•œë‹¤. func Constructor(capacity int) LRUCache { return LRUCache{ capacity: capacity, cache: map[int]*node{}, head: nil, tail: nil, } } ì´ˆê¸°í™” ì‹œí‚¤ëŠ” í•¨ìˆ˜ func (this *LRUCache) Get(key int) int { node, ok := this.cache[key] if !ok { return -1 } if this.head != nil \u0026\u0026 node.key == this.head.key { return node.value } if this.tail != nil \u0026\u0026 node.key == this.tail.key { this.pop() this.insert(node) this.cache[node.key] = node return node.value } if node.prev != nil \u0026\u0026 node.next != nil { node.prev.next = node.next node.next.prev = node.prev this.insert(node) } return node.value } Get í•¨ìˆ˜ì´ë‹¤. ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° Cacheì˜ íŠ¹ì„±ìƒ ì‚¬ìš©(Get)í•œ ë°ì´í„°ëŠ” headìª½ì— ì—…ë°ì´íŠ¸ë¥¼ í•´ì£¼ê¸° ìœ„í•´ì„œ popí•˜ê³  insertë¥¼ ë‹¤ì‹œí•´ì£¼ëŠ”ê±¸ ë³¼ ìˆ˜ ìˆë‹¤. func (this *LRUCache) Put(key int, value int) { if this.Get(key) != -1 { this.cache[key].value = value return } n := \u0026node{key: key, value: value} this.cache[key] = n this.insert(n) if len(this.cache) \u003e this.capacity { this.pop() } return } Put í•¨ìˆ˜ì´ë‹¤. ë°ì´í„°ë¥¼ ë„£ëŠ”ë° ì‚¬ìš©í•œë‹¤. cacheí¬ê¸°ë¥¼ ë„˜ì–´ì„œë©´ popìœ¼ë¡œ tailì˜ ë°ì´í„°ë¥¼ ì œê±°í•´ì¤€ë‹¤. func (this *LRUCache) insert(n *node) { if this.tail == nil { this.tail = n this.head = n n.next = this.tail return } this.head.prev = n n.next = this.head this.head = n } insertë¥¼ í•˜ë©´ headë¥¼ ì—…ë°ì´íŠ¸ í•´ì¤€ë‹¤. func (this *LRUCache) pop() { delete(this.cache, this.tail.key) if this.tail.prev == nil { this.tail = nil return } this.tail.prev.next = nil this.tail = this.tail.prev } tailì˜ ë°ì´í„°ë¥¼ êº¼ë‚¸ë‹¤. ","date":"2019-08-17","objectID":"/lrucache/:1:3","tags":["algorithm"],"title":"Leetcode - 146. LRU Cache","uri":"/lrucache/"},{"categories":["go"],"content":" channel := make(chan chan string) goì— ëŒ€í•´ channelì€ ëŒ€ëµ ì•Œê² ì§€ë§Œ chan chan ì´ë€ ë˜ ë¬´ì—‡ì¸ê°€.. chan chanì€ ë‚´ê°€ ì¤€ë¹„ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤„í…Œë‹ˆ, ë‚´ê°€ ë³´ë‚¸ ì±„ë„ì„ í†µí•´ ë³´ë‚´ì¤˜ ë¼ê³  í•œë‹¤. ì´ëŠ” ì–‘ë°˜í–¥ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤. ì´í•´ê°€ ì–´ë ¤ìš°ë‹ˆ ì½”ë“œë¥¼ë³´ì ! package main import ( \"fmt\" \"time\" ) func main() { test := make(chan chan string) go test1(test) go test2(test) time.Sleep(time.Second) } func test1(channel chan chan string) { responsechan := make(chan string) channel \u003c- responsechan response := \u003c-responsechan fmt.Printf(\"Response: %v\\n\", response) } func test2(channel chan chan string) { responsechan := \u003c-channel responsechan \u003c- \"ang !\" } ì•„ã…ì•„ã…â€¦ ì½”ë“œë¥¼ ë³´ëŠ”ê²Œ ë” ì–´ë µë‹¤. ë³´í†µ channelì—ëŠ” typeê³¼ ë§ëŠ” ê°’ì„ ì „ì†¡í•˜ê±°ë‚˜ ë°›ëŠ”ë°, channelì•ˆì— channelì„ ì „ì†¡í•˜ê³  ë°›ëŠ”ë‹¤ê³  ìƒê°í•˜ë©´ ë  ê²ƒ ê°™ë‹¤. ì´ë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ userë³„ë¡œ ì—¬ëŸ¬ê°œì˜ nodeë¥¼ ìƒì„±í•œë‹¤ê³  ê°€ì •í•˜ê³  ê°„ë‹¨í•˜ê²Œ ì‘ì„±í•´ë³´ì. package main import ( \"fmt\" \"time\" ) func main() { User := make(chan chan string) User2 := make(chan chan string) go makenode(User) go input(User, \"user1\") go makenode(User2) go input(User2, \"user2\") go input(User2, \"user2\") time.Sleep(time.Second) } func makenode(user chan chan string) { makechannel := make(chan string) for { select { case user \u003c- makechannel: case channelname := \u003c-makechannel: fmt.Printf(\"channelname: %v\\n\", channelname) } } } func input(user chan chan string, username string) { responsechan := \u003c-user responsechan \u003c- \"data \" + username } User ë³„ë¡œ chan chanì„ ë§Œë“¤ê³ , makenode go ë£¨í‹´ì„ user ë³„ë¡œ ì‹¤í–‰. dataë¥¼ inputí•˜ëŠ” go ë£¨í‹´ ì‹¤í–‰. 2ë²ˆ ì‹¤í–‰í–ˆì„ë•Œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. channelname: data user2 channelname: data user2 channelname: data user1 --- channelname: data user1 channelname: data user2 channelname: data user2 chan chanì„ ë³´ê³  ë°”ë¡œ ì‘ì„±í•œê±°ë¼ íŠ¹ì„±ì— ë§ì§€ ì•Šê³  ì´ìƒí•  ìˆ˜ ìˆê² ì§€ë§Œ ê³„ì† í•´ì„œ ì‚¬ìš©í•˜ë©´ ê´œì°®ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.. goì˜ chan chanì„ ë¹„ë™ê¸° ì²˜ë¦¬ì— ì‚¬ìš©í•´ë„ ì¢‹ê² ë‹¤ëŠ” ìƒê°ì„ ê°€ì§„ë‹¤. ë³´í†µ mqë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ê°„ë‹¨í•˜ê²Œ goëŠ” chan chanì„ ì‚¬ìš©í•´ ë¹„ë™ê¸° ì²˜ë¦¬ì— ì´ìš©í•  ìˆ˜ ìˆë‹¤. ","date":"2019-07-10","objectID":"/chanchan/:0:0","tags":["go","gochannel"],"title":"Golang chanchan","uri":"/chanchan/"},{"categories":["kubernetes"],"content":"K8së¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì‚¬ìš©ìë³„ë¡œ Roleì„ ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.","date":"2019-06-27","objectID":"/serviceaccount/","tags":["kubernetes","serviceaccount"],"title":"Configuring kubectl by using serviceAccount token","uri":"/serviceaccount/"},{"categories":["kubernetes"],"content":"K8së¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì‚¬ìš©ìë³„ë¡œ Roleì„ ì •í•´ì¤„ ìˆ˜ ìˆë‹¤. ServiceAccount ìƒì„± Role ìƒì„± RoleBinding ìƒì„± ServiceAccountì˜ tokenì„ ì–»ì–´ì„œ kubectlì— ì‚¬ìš©í•´ë³´ì. ","date":"2019-06-27","objectID":"/serviceaccount/:0:0","tags":["kubernetes","serviceaccount"],"title":"Configuring kubectl by using serviceAccount token","uri":"/serviceaccount/"},{"categories":["kubernetes"],"content":"ServiceAccount, Role, RoleBinding apiVersion:v1kind:ServiceAccountmetadata:namespace:testname:jaejin---apiVersion:rbac.authorization.k8s.io/v1kind:Rolemetadata:namespace:testname:pod-readerrules:- apiGroups:[\"\"]resources:[\"pods\"]verbs:[\"get\",\"watch\",\"list\"]---apiVersion:rbac.authorization.k8s.io/v1kind:RoleBindingmetadata:name:read-podsnamespace:testsubjects:- kind:ServiceAccountname:jaejinnamespace:testroleRef:kind:Rolename:pod-readerapiGroup:rbac.authorization.k8s.io ìœ„ì˜ ì½”ë“œë¥¼ ë³´ê³  ì„¤ëª…í•˜ë©´, ë¨¼ì € ê³„ì •? ìœ¼ë¡œ ì“°ì¼ ServiceAccountë¥¼ ìƒì„±í•œë‹¤. test namespaceì— jaejinì´ë€ ì´ë¦„ìœ¼ë¡œ ìƒì„±ëœë‹¤. Roleì€ podsì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. RoleBindingì€ ServiceAccountì™€ Roleì„ ì—°ê²°í•œë‹¤. Note ë¬¼ë¡  testë€ namespaceëŠ” ë¯¸ë¦¬ ìƒì„±í–ˆë‹¤. $ kubectl get sa -n test NAME SECRETS AGE default 1 16s jaejin 1 13s jaejin ì´ë€ ServiceAccountê°€ ìƒì„±ë˜ì—ˆë‹¤. Roleê³¼ RoleBindingë„ í™•ì¸í•˜ì. $ kubectl get role -n test NAME AGE pod-reader 51s $ kubectl get rolebinding -n test NAME AGE read-pods 77s ì´ì œ ì´ê²ƒë“¤ì„ ê°€ì§€ê³  tokenì„ ë½‘ì•„ ë‚´ì. $ export serviceaccount=jaejin $ export namespace=test $ export server=$(kubectl config view | grep server | cut -f 2- -d \":\" | tr -d \" \") $ export name=$(kubectl get secret -n $namespace | grep $serviceaccount-token | cut -f -1 -d \" \") $ export ca=$(kubectl get secret/$name -n $namespace -o jsonpath='{.data.ca\\.crt}') $ export token=$(kubectl get secret/$name -n $namespace -o jsonpath='{.data.token}' | base64 -D) ìœ„ì˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ token, ca ë“±ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. kubectlì˜ config íŒŒì¼ì„ ë§Œë“¤ì–´ë³´ì. echo \" apiVersion: v1 kind: Config clusters: - name: default-cluster cluster: certificate-authority-data: ${ca}server: ${server}contexts: - name: default-context context: cluster: default-cluster namespace: ${namespace}user: default-user current-context: default-context users: - name: default-user user: token: ${token}\" \u003e config config íŒŒì¼ì´ ë§Œë“¤ì–´ì§€ê³  ì´ë¥¼ ~/.kube/configì˜ ê²½ë¡œë¡œ ì €ì¥í•œë‹¤. ì´ì œ kubectl ëª…ë ¹ì„ ë‚ ë ¤ë³´ì. test namespaceì˜ podsì˜ ì •ë³´ë§Œ ê°€ì ¸ ì˜¬ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. serviceaccountserviceaccount \" serviceaccount Roleì„ ì´ìš©í•´ ì‚¬ìš©ìë³„ë¡œ ê¶Œí•œì„ ë‹¤ë¥´ê²Œ ì¤„ ìˆ˜ ìˆë‹¤ !! ","date":"2019-06-27","objectID":"/serviceaccount/:1:0","tags":["kubernetes","serviceaccount"],"title":"Configuring kubectl by using serviceAccount token","uri":"/serviceaccount/"},{"categories":["terraform"],"content":"Terraformì„ ê³µë¶€í•˜ë©´ì„œ AWSì˜ VPCë¥¼ ìƒì„±í•´ë³´ê³ , peeringê¹Œì§€ í•´ë³´ì. us-east-1, us-east-2 regionì„ ì—°ê²° í•´ë³´ê³ ì í•œë‹¤. terraform { required_version = \"\u003e= 0.10.3\" } provider \"aws\" { region = \"us-east-1\" } provider \"aws\" { region = \"us-east-2\" alias = \"us-east-2\" } 2ê°œì˜ regionì„ ì´ìš©í•˜ê¸° ìœ„í•´ providerë¥¼ ì •ì˜ í•´ì¤€ë‹¤. resource \"aws_vpc\" \"create_vpc\" { cidr_block = \"10.10.0.0/16\" enable_dns_hostnames = true enable_dns_support = true instance_tenancy = \"default\" tags { Name = \"jaejin test\" } } resource \"aws_vpc\" \"create_vpc_2\" { provider = \"aws.us-east-2\" cidr_block = \"172.10.0.0/16\" enable_dns_hostnames = true enable_dns_support = true instance_tenancy = \"default\" tags { Name = \"jaejin test222\" } } ì—°ê²° ì‹œí‚¬ VPCë¥¼ region ë§ˆë‹¤ ìƒì„±í•œë‹¤. resource \"aws_default_route_table\" \"create_vpc\" { default_route_table_id = \"${aws_vpc.create_vpc.default_route_table_id}\" tags { Name = \"default\" } } resource \"aws_default_route_table\" \"create_vpc_2\" { provider = \"aws.us-east-2\" default_route_table_id = \"${aws_vpc.create_vpc_2.default_route_table_id}\" tags { Name = \"default\" } } ìƒì„±í•œ VPCì˜ ë¼ìš°íŒ… í…Œì´ë¸”ì„ ìƒì„±í•´ì¤€ë‹¤. ì¶”í›„ì— VPCë“¤ì„ ë°”ë¼ë³´ê²Œ ë§Œë“¤ê³ , ì™¸ë¶€ì—ì„œ ssh ì ‘ì†ì„ ìœ„í•´ ì™¸ë¶€ ì ‘ì†ë„ ë°›ê²Œ í•œë‹¤. resource \"aws_subnet\" \"subnet_1\" { vpc_id = \"${aws_vpc.create_vpc.id}\" cidr_block = \"10.10.1.0/24\" map_public_ip_on_launch = true availability_zone = \"${data.aws_availability_zones.available.names[0]}\" tags = { Name = \"public-az-1\" } } resource \"aws_subnet\" \"subnet_2\" { provider = \"aws.us-east-2\" vpc_id = \"${aws_vpc.create_vpc_2.id}\" cidr_block = \"172.10.1.0/24\" map_public_ip_on_launch = true availability_zone = \"${data.aws_availability_zones.available_2.names[0]}\" tags = { Name = \"public-az-2\" } } data \"aws_availability_zones\" \"available\" {} data \"aws_availability_zones\" \"available_2\" { provider = \"aws.us-east-2\" } ë¼ìš°íŒ… í…Œì´ë¸”ì— ë‹¤ë¥¸ regionì˜ VPCë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•´ subnetì„ ìƒì„±í•œë‹¤. subnetì„ ë“±ë¡í• ë•Œ availability zoneì„ ë¶ˆëŸ¬ì™€ì„œ ë“±ë¡ í•˜ë©´ëœë‹¤. listë¡œ ë°›ì•„ì˜¤ê¸° ë•Œë¬¸ì— 0ë²ˆì§¸ ì¸ë±ìŠ¤ë§Œ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •í•´ ë†“ì•˜ë‹¤. ì¦‰ ì—¬ëŸ¬ availability zoneì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤. resource \"aws_internet_gateway\" \"igw_1\" { vpc_id = \"${aws_vpc.create_vpc.id}\" tags { Name = \"internet-gateway\" } } resource \"aws_internet_gateway\" \"igw_2\" { provider = \"aws.us-east-2\" vpc_id = \"${aws_vpc.create_vpc_2.id}\" tags { Name = \"internet-gateway\" } } ì™¸ë¶€ ì ‘ì†ì„ ìœ„í•´ internet gatewayë„ ìƒì„±í•´ì¤€ë‹¤. # vpcë¼ë¦¬ í†µì‹ í•˜ê¸° ìœ„í•´ì„œ ë¼ìš°íŒ… í…Œì´ë¸” ìˆ˜ì • resource \"aws_route\" \"internet_access_vpc\" { route_table_id = \"${aws_vpc.create_vpc.main_route_table_id}\" destination_cidr_block = \"${aws_vpc.create_vpc_2.cidr_block}\" vpc_peering_connection_id = \"${aws_vpc_peering_connection.default.id}\" }## ì™¸ë¶€ì—ì„œ ssh ì ‘ì†í•˜ê¸° ìœ„í•´ì„œ internet gateway ì—°ê²° resource \"aws_route\" \"internet_access\" { route_table_id = \"${aws_vpc.create_vpc.main_route_table_id}\" destination_cidr_block = \"0.0.0.0/0\" gateway_id = \"${aws_internet_gateway.igw_1.id}\" }# vpcë¼ë¦¬ í†µì‹ í•˜ê¸° ìœ„í•´ì„œ ë¼ìš°íŒ… í…Œì´ë¸” ìˆ˜ì • resource \"aws_route\" \"internet_access_vpc_2\" { provider = \"aws.us-east-2\" route_table_id = \"${aws_vpc.create_vpc_2.main_route_table_id}\" destination_cidr_block = \"${aws_vpc.vpc_test.cidr_block}\" vpc_peering_connection_id = \"${aws_vpc_peering_connection.default.id}\" }## ì™¸ë¶€ì—ì„œ ssh ì ‘ì†í•˜ê¸° ìœ„í•´ì„œ internet gateway ì—°ê²° resource \"aws_route\" \"internet_access_2\" { provider = \"aws.us-east-2\" route_table_id = \"${aws_vpc.create_vpc_2.main_route_table_id}\" destination_cidr_block = \"0.0.0.0/0\" gateway_id = \"${aws_internet_gateway.igw_2.id}\" } ë¼ìš°íŒ… í…Œì´ë¸”ì— vpcì˜ cidr_blockì„ ë“±ë¡ í•´ì£¼ê³ , ì™¸ë¶€ ì ‘ì†ì„ ìœ„í•´ 0.0.0.0/0 ë„ ë“±ë¡í•´ì¤€ë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ vpc peeringì„ í•˜ì. resource \"aws_vpc_peering_connection\" \"default\" { peer_owner_id = \"871229912567\" peer_vpc_id = \"${aws_vpc.create_vpc_2.id}\" vpc_id = \"${aws_vpc.vpc_test.id}\" peer_region = \"us-east-2\" auto_accept = false tags = { Side = \"Requester\" } } resource \"aws_vpc_peering_connection_accepter\" \"default\" { provider = \"aws.us-east-2\" vpc_peering_connection_id = \"${aws_vpc_peering_connection.default.id}\" auto_accept = true tags = { Side = \"Accepter\" } } peer_vpc_id ì— ì—°ê²°í•  regionì˜ vpcë¥¼ ë“±ë¡í•´ì£¼ê³  vpc_id ì— í˜„ì¬ regionì˜ vpcë¥¼ ë“±ë¡í•´ì¤€ë‹¤. resourceì— providerë¥¼ ëª…ì‹œ ì•ˆí•´ì¤¬ìœ¼ë¯€ë¡œ default regionì€ us-east-1ë¡œ ì¡í˜€ ìˆìœ¼ë¯€ë¡œ peer_regionì—ëŠ” ì—°ê²° ì‹œí‚¬ us-east-2ë¥¼ ì…ë ¥ í•´ì£¼ì—ˆë‹¤. ì „ì²´ ì½”ë“œ https://github.com/jaejin1/VPC-Peering/blob/master/main.tf ","date":"2019-03-17","objectID":"/terraform1/:0:0","tags":["terraform","aws","devops"],"title":"aws vpc peering using terraform","uri":"/terraform1/"},{"categories":["kubernetes"],"content":"GCP, AWSì™€ ê°™ì€ Cloud í™˜ê²½ì´ ì•„ë‹Œ ë¬¼ë¦¬ ì„œë²„ì— kubernetes cluster êµ¬ì„±í•´ë³´ì.","date":"2019-03-10","objectID":"/kubeadm/","tags":["kubernetes","kubeadm"],"title":"Creating kubernetes clusters using kubeadm","uri":"/kubeadm/"},{"categories":["kubernetes"],"content":"GCP, AWSì™€ ê°™ì€ Cloud í™˜ê²½ì´ ì•„ë‹Œ ë¬¼ë¦¬ ì„œë²„ì— kubernetes cluster êµ¬ì„±í•´ë³´ì. Creating a single master cluster with kubeadm ","date":"2019-03-10","objectID":"/kubeadm/:0:0","tags":["kubernetes","kubeadm"],"title":"Creating kubernetes clusters using kubeadm","uri":"/kubeadm/"},{"categories":["kubernetes"],"content":"Maser node setting $ sudo kubeadm --kubernetes-version=1.13.2 init initì„ ì‹¤í–‰í•˜ë©´ worker node ì—ì„œ master nodeë¡œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” token hash ê°’ì„ ë‚´ì¤€ë‹¤. ì´ê²ƒì„ ì´ìš©í•´ master nodeì— ì ‘ì†í•œë‹¤. ex) kubeadm join \u003cmaster-ip\u003e:\u003cmaster-port\u003e --token \u003ctoken\u003e --discovery-token-ca-cert-hash sha256:\u003chash\u003e Note ë§Œì•½ [ERROR Swap]: running with swap on is not supported. Please disable swap ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´ swapoffë¥¼ í•´ì£¼ë©´ëœë‹¤. $ sudo swapoff -a To make kubectl work for your non-root user, run these commands, which are also part of the kubeadm init output: mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config ","date":"2019-03-10","objectID":"/kubeadm/:1:0","tags":["kubernetes","kubeadm"],"title":"Creating kubernetes clusters using kubeadm","uri":"/kubeadm/"},{"categories":["kubernetes"],"content":"Installing a pod network add-on ë¬¸ì„œì— ë³´ë©´ ì—¬ëŸ¬ê°€ì§€ networkë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤ì´ ì¡´ì¬í•˜ëŠ”ë° Canalì„ ì‚¬ìš©í•˜ì˜€ë‹¤. $ kubectl apply -f https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/canal/rbac.yaml $ kubectl apply -f https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/canal/canal.yaml ì˜ ì‘ë™í•˜ê³  ìˆëŠ”ì§€ podì„ í™•ì¸í•˜ì. $ kubectl get pods -n kube-system NAME READY STATUS RESTARTS AGE canal-vb5fw 0/3 ContainerCreating 0 27s coredns-86c58d9df4-mf68s 0/1 Pending 0 2s coredns-86c58d9df4-zbxnp 0/1 Pending 0 2s etcd-eta 1/1 Running 0 26s kube-apiserver-eta 1/1 Running 0 45s kube-controller-manager-eta 1/1 Running 0 33s kube-proxy-tww4r 1/1 Running 0 82s kube-scheduler-eta 1/1 Running 0 24s Note ë§Œì•½ corednsê°€ failì´ ë‚˜ê±°ë‚˜ errorê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒ ì„¤ì •ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤. $ kubectl -n kube-system edit configmap coredns loop ì‚­ì œ $ kubectl -n kube-system delete pod -l k8s-app=kube-dns ","date":"2019-03-10","objectID":"/kubeadm/:2:0","tags":["kubernetes","kubeadm"],"title":"Creating kubernetes clusters using kubeadm","uri":"/kubeadm/"},{"categories":["kubernetes"],"content":"Joining your nodes ì•„ê¹Œ master nodeì—ì„œ inití•  ë•Œ ë‚˜ì˜¨ token hashê°’ì„ ì´ìš©í•´ì„œ nodeë“¤ì„ join ì‹œì¼œë³´ì. worker nodeì—ì„œëŠ” init í•  í•„ìš”ì—†ì´ ë°”ë¡œ join ëª…ë ¹ì–´ë§Œ ì‹¤í–‰ í•˜ë©´ëœë‹¤. $ kubeadm join \u003cmaster-ip\u003e:\u003cmaster-port\u003e --token \u003ctoken\u003e --discovery-token-ca-cert-hash sha256:\u003chash\u003e masterì—ì„œ í™•ì¸í•´ë³´ë©´, $ kubectl get pods -n kube-system NAME READY STATUS RESTARTS AGE canal-6gg89 3/3 Running 0 24m canal-7dhgw 3/3 Running 0 24m canal-vb5fw 3/3 Running 0 24m coredns-86c58d9df4-mf68s 1/1 Running 0 24m coredns-86c58d9df4-zbxnp 1/1 Running 0 24m etcd-eta 1/1 Running 0 24m kube-apiserver-eta 1/1 Running 0 25m kube-controller-manager-eta 1/1 Running 0 24m kube-proxy-57qh5 1/1 Running 0 24m kube-proxy-tww4r 1/1 Running 0 25m kube-proxy-x6rng 1/1 Running 0 24m kube-scheduler-eta 1/1 Running 0 24m node ê°œìˆ˜ ë§Œí¼ canal, proxyë“±ì´ ì¶”ê°€ ëœê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. $ kubectl get nodes NAME STATUS ROLES AGE VERSION chi Ready \u003cnone\u003e 14m v1.13.2 delta Ready \u003cnone\u003e 14m v1.13.2 eta Ready master 16m v1.13.2 ","date":"2019-03-10","objectID":"/kubeadm/:3:0","tags":["kubernetes","kubeadm"],"title":"Creating kubernetes clusters using kubeadm","uri":"/kubeadm/"},{"categories":["kubernetes"],"content":"pod testí•˜ê¸° ì¡°ëŒ€í˜‘ë‹˜ ë¸”ë¡œê·¸ node.js ì½”ë“œ ì°¸ì¡° Deploymentë¥¼ ì˜¬ë¦¬ê³  apiVersion:extensions/v1beta1kind:Deploymentmetadata:name:jaejin-node-testspec:replicas:3template:metadata:labels:app:myappspec:containers:- name:stupid-serverimage:opiximeo/jaejintest:v1imagePullPolicy:Alwaysports:- containerPort:8080 ì™¸ë¶€ì—ì„œ ì ‘ì†í•˜ê¸° ìœ„í•´ serviceë¥¼ ì˜¬ë¦°ë‹¤. apiVersion:v1kind:Servicemetadata:name:hello-node-svcspec:selector:app:myappports:- port:5920protocol:TCPtargetPort:8080externalIPs:- {your server ip} cloudì—ì„œ serviceì— type: LoadBalancerë¥¼ ì„¤ì •í•´ì£¼ë©´ ìë™ìœ¼ë¡œ ì™¸ë¶€ IPë¥¼ ê°€ì ¸ì˜¤ì§€ë§Œ cloudì—ì„œ ì˜¬ë¦°ê²Œ ì•„ë‹ˆë¼ì„œ ìë™ìœ¼ë¡œ ê°€ì ¸ì˜¤ì§€ëŠ” ëª»í•œë‹¤. ë”°ë¼ì„œ externalIPs ì˜µì…˜ì„ ì¤˜ì„œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” IPë¥¼ ëª…ì‹œí•´ì£¼ë©´ ëœë‹¤. http://{your server ip}:5920 ","date":"2019-03-10","objectID":"/kubeadm/:4:0","tags":["kubernetes","kubeadm"],"title":"Creating kubernetes clusters using kubeadm","uri":"/kubeadm/"},{"categories":["elasticsearch"],"content":"ìš”ë²ˆì—” Elasticsearch / kibanaì— Search Guardë¥¼ ì—°ë™ì‹œì¼œì„œ login ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ì. AWS Cloudformationìœ¼ë¡œ ICON Devnetì„ AWS Marketplaceì— ë“±ë¡í•˜ëŠ” ë„ì¤‘ Elasticsearch / kibanaë¥¼ í¬í•¨í•˜ë ¤ë©´ login ê¸°ëŠ¥ì´ ìˆì–´ì•¼ í•œë‹¤ê³ í•œë‹¤.. ê·¸ì— ëŒ€í•œ ì‘ì—… ì¤‘ ì¼ë¶€ë¥¼ ê¸°ë¡í•˜ë ¤ê³  í•œë‹¤. ì¼ë‹¨ HTTPSë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ì¸ì¦ì„œë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë„ ë˜ê³ , Search Guardì—ì„œ sampleë¡œ ì§€ì›í•´ì£¼ëŠ” ì¸ì¦ì„œê°€ ìˆë‹¤. í›„ìë¥¼ ì„ íƒí–ˆë‹¤. ì „ìì˜ ê²½ìš° ì˜ˆ~~ì „ì— ì‘ì—…í•´ë†“ì€ ê²ƒì´ ìˆëŠ”ë° https://github.com/jaejin1/docker-EKë¥¼ ì°¸ì¡° í•´ë³´ê¸¸ ë°”ë€ë‹¤. ë¨¼ì € docker-compose.yml íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì—ˆë‹¤. version:'3'services:elasticsearch:image:docker.elastic.co/elasticsearch/elasticsearch:6.6.0container_name:elasticsearchvolumes:- /home/ec2-user/elasticsearch/config:/usr/share/elasticsearch/config- /home/ec2-user/elasticsearch/data:/var/data/elasticsearch- /home/ec2-user/elasticsearch/log:/var/log/elasticsearchports:- \"9200:9200\"- \"9300:9300\"environment:ES_JAVA_OPTS:\"-Xmx1024m -Xms1024m\"ulimits:nofile:soft:90000hard:90000networks:- ekkibana:image:docker.elastic.co/kibana/kibana:6.6.0container_name:kibanavolumes:- /home/ec2-user/kibana/config:/usr/share/kibana/configports:- \"5601:5601\"networks:- ekenvironment:NODE_OPTIONS:\"--max-old-space-size=8192\"depends_on:- elasticsearchnetworks:ek:driver:bridge docker-compose.yml íŒŒì¼ì˜ volumesì˜ conf í´ë”ì—ëŠ” elasticsearch.yml íŒŒì¼ê³¼ cloudformationì—ì„œ ì´ìƒí•˜ê²Œ 6.x ë²„ì „ì€ ingest-geoipì´ë¼ëŠ” pluginì´ í•„ìš”í•´ì„œ ê·¸ í´ë”ë“¤ì„ ë„£ì–´ì£¼ì—ˆë‹¤. kibanaì˜ volumesë„ ë§ˆì°¬ê°€ì§€ë¡œ confí´ë”ì—” kibana.yml íŒŒì¼ì´ ì¡´ì¬í•œë‹¤. ë‹¨ìˆœíˆ test ìš©ì´ë¼ë©´ ë”°ë¡œ ì„¤ì •íŒŒì¼ì„ ìƒì„±í•´ë†“ì„ í•„ìš”ëŠ” ì—†ì„ ê²ƒì´ë‹¤. ì´ì œ elasticsearch, kibanaë¥¼ ì‹¤í–‰ì‹œì¼œë³´ì. $ docker-compose up -d ì§€ê¸ˆê¹Œì§€ëŠ” elasticsearch, kibanaë¥¼ ì‹¤í–‰í•œ ê²ƒ ë¿ì´ë‹¤. http://localhost:5601 ë¡œ ì ‘ì†í•´ë³´ë©´ kibanaê°€ ì˜ ëœ° ê²ƒì´ë‹¤. ì´ì œ, Search Guardë¥¼ ì‹¤í–‰ ì‹œì¼œë³´ì. ì´ ê¸€ì—ì„œëŠ” docker-composeë¡œ dockerì—ì„œ ì‹¤í–‰ ì‹œì¼°ê¸° ë•Œë¬¸ì— docker-compose exec ëª…ë ¹ìœ¼ë¡œ ì‹¤í–‰ ì‹œí‚¨ë‹¤. dockerë¥¼ ì“°ì§€ ì•ŠëŠ”ë‹¤ë©´ docker-compose exec -T ~~ ë’¤ ë¶€í„° ì‹¤í–‰í•˜ë©´ ëœë‹¤. elasticsearch $ docker-compose exec -T elasticsearch elasticsearch-plugin install --batch com.floragunn:search-guard-6:6.6.0-24.1 $ docker-compose exec -T elasticsearch bash plugins/search-guard-6/tools/install_demo_configuration.sh -y $ docker-compose restart elasticsearch $ docker-compose exec -T elasticsearch ./sgadmin_demo.sh Search Guard pluginì„ ì„¤ì¹˜í•œë‹¤. ë²„ì „ ì •ë³´ëŠ” https://docs.search-guard.com/latest/search-guard-versions ì„ ì°¸ì¡°í•˜ê¸¸ ë°”ë€ë‹¤. demo_configuration ì„ ì‹¤í–‰í•´ demo ì„¤ì •ì„ í•œë‹¤. ( elasticsearch.yml íŒŒì¼ì— search guard ì„¤ì •ì´ ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤. ) elasticsearch.yml íŒŒì¼ì„ ì ìš©í•˜ê¸° ìœ„í•´ dockerë¥¼ restart í•œë‹¤. sgadmin_demo.sh ë¥¼ ì‹¤í–‰í•´ Search Guardë¥¼ ì‹¤í–‰í•œë‹¤. ì´í›„ ë¶€í„°ëŠ” httpê°€ ì•„ë‹Œ httpsë¡œ ì ‘ì†ì„ í•´ì•¼ í•œë‹¤. kibana $ docker-compose exec -T kibana kibana-plugin install https://repo1.maven.org/maven2/com/floragunn/search-guard-kibana-plugin/6.6.0-18/search-guard-kibana-plugin-6.6.0-18.zip $ docker-compose exec -T kibana bash -c 'echo searchguard.cookie.password: \\\"123567818187654rwrwfsfshdhdhtegdhfzftdhncn\\\" \u003e\u003e /usr/share/kibana/config/kibana.yml' $ docker-compose restart kibana kibana pluginì„ ì„¤ì¹˜í•œë‹¤. ë²„ì „ì€ ìœ„ì˜ elasticsearch ë¶€ë¶„ì„ ì°¸ì¡°í•˜ê¸¸ ë°”ë€ë‹¤. kibana.ymlíŒŒì¼ì— ì„¤ì •ì„ ì¶”ê°€í•œë‹¤. kibana.yml íŒŒì¼ì„ ì ìš©í•˜ê¸° ìœ„í•´ kibanaë¥¼ restart í•œë‹¤. ì—¬ê¸°ê¹Œì§€ ì™„ë£Œ í–ˆë‹¤ë©´, localhost:5601 or {serverIP}:5601 ë¡œ kibanaì— ì ‘ì†í•´ë³´ë©´ loginlogin \" login ë‹¤ìŒê³¼ ê°™ì´ login í™”ë©´ì´ ë‚˜ì˜¬ ê²ƒì´ë‹¤. admin / adminìœ¼ë¡œ ì ‘ì†í•˜ë©´ ëœë‹¤. ID / Password ëŠ” ë”°ë¡œ ê¶Œí•œì„ ì¤„ ìˆ˜ ìˆëŠ”ë° ì—¬ê¸°ì„œ ë‹¤ë£¨ì§€ëŠ” ì•Šê² ë‹¤. IDë§ˆë‹¤ ë³´ì—¬ì£¼ëŠ” logì˜ indexë¥¼ ë‹¬ë¦¬í•  ìˆ˜ ìˆë‹¤. ë³´í†µ Fluentd -\u003e Elasticsearch -\u003e Kibanaë¡œ logë¥¼ ë³´ë‚¼ ê²ƒì¸ë°, ë§Œì•½ Search Guardë¥¼ ì ìš©í–ˆì„ ê²½ìš° Fluentdì˜ ì„¤ì •ë„ ë³€ê²½í•´ì¤˜ì•¼í•œë‹¤. httpê°€ ì•„ë‹Œ httpsë¡œ ë³´ë‚´ì•¼ í•˜ê¸° ë•Œë¬¸ì—.. ë³´í†µ fluentd.conf íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ê³  ìˆì—ˆë‹¤ë©´, \u003cmatch **\u003e # Add your log tag to show in \u003c\u003e. @type copy \u003cstore\u003e # Add your log tag to show in \u003c\u003e. @type file # Leave log file in path. path /fluentd/log/docker_data.log \u003c/store\u003e \u003cstore\u003e @type elasticsearch host {elasticsearch_ip} port 9200 logstash_format true index_name logstash type_name logstash logstash_prefix logstash \u003c/store\u003e \u003c/match\u003e scheme https ssl_verify false user admin password admin ssl_version TLSv1_2 ë¥¼ ì¶”ê°€í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ì•¼í•œë‹¤. ê·¸ëŸ¬ë©´ fluentd ì—ì„œ Elasticsearchë¡œ logë¥¼ ì˜ ë³´ë‚¼ ê²ƒì´ë‹¤. \u003cmatch **\u003e # Add your log tag to show in \u003c\u003e. @type copy \u003cstore\u003e # Add your log tag to show in \u003c\u003e. @type file # Leave log file in path. path /fluentd/log/docker_data.log \u003c/store\u003e \u003cstore\u003e @type elasticsearch host {elasticsearch_ip} port 9200 scheme https ssl_verify false user admin password admin ssl_version TLSv1_2 logstash_format true index_n","date":"2019-02-24","objectID":"/searchguard/:0:0","tags":["elasticsearch","kibana"],"title":"Search guard kibana plugin","uri":"/searchguard/"},{"categories":["ansible"],"content":"Ansibleì„ ê³µë¶€í•˜ë©´ì„œ AWSì˜ VPCë¥¼ ìƒì„±í•´ë³´ê³ , peeringê¹Œì§€ í•´ë³´ì. ","date":"2019-01-24","objectID":"/ansible1/:0:0","tags":["ansible","aws","devops"],"title":"Create aws vpc using ansible","uri":"/ansible1/"},{"categories":["ansible"],"content":"vpc ì„¤ì • ","date":"2019-01-24","objectID":"/ansible1/:1:0","tags":["ansible","aws","devops"],"title":"Create aws vpc using ansible","uri":"/ansible1/"},{"categories":["ansible"],"content":"Ansible playbookìœ¼ë¡œ VPC ìƒì„± ì´ë²ˆ ê¸€ì€ Ansibleì„ ì´ìš©í•´ VPCë¥¼ ìƒì„±í•˜ê³  ìˆ˜ë™ìœ¼ë¡œ VPC peeringì„ í•´ë³´ê³ ì í•œë‹¤. Set up your AWS VPC with Ansible 2.0 ë¨¼ì € playbookì„ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ë§Œë“¤ê²ƒì´ë‹¤. â”œâ”€â”€ playbook.yml â”œâ”€â”€ inventory â”œâ”€â”€ vars.yml â”œâ”€â”€ roles/ â”‚ â”œâ”€â”€ vpc/ â”‚ â”‚ â”œâ”€â”€ tasks/ â”‚ â”‚ â”‚ â”œâ”€â”€ main.yml mainíŒŒì¼ì¸ playbook.yml ì„ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•œë‹¤. - hosts:localroles:- vpc ë‹¤ìŒì€ playbookì„ ì‹¤í–‰í• ë•Œ ì‚¬ìš©í•  inventory fileì´ë‹¤. [local]localhost ansible_connection=local Note [localhost -\u003e localhost]: FAILED! =\u003e {â€œchangedâ€: false, â€œmsgâ€: â€œPython modules \"botocore\" or \"boto3\" are missing, please install bothâ€} ì´ëŸ° ì—ëŸ¬ê°€ ë°œìƒ í• ìˆ˜ë„ ìˆë‹¤. ì´ë•ŒëŠ” inventory fileì„ ë³€ê²½í•´ì¤˜ì•¼í•œë‹¤. [local]localhost[webserver] localhost ë’¤ì— ì¶”ê°€ í•´ì¤˜ì•¼í•œë‹¤. [local]localhost ansible_connection=local ansible_python_interpreter=python3.6[webserver] ë§ˆì§€ë§‰ìœ¼ë¡œ variablesì„ ì •ì˜í•˜ì. ---## AWS Credentialsaws_access_key:\"THISISMYAWSACCESSKEY\"aws_secret_key:\"ThisIsMyAwSSecretKey\"aws_region:\"eu-west-1\"## VPC Informationvpc_name:\"My VPC\"vpc_cidr_block:\"10.0.0.0/16\"## For Security Group Rule#my_ip: \"X.X.X.X\"## Subnetspublic_subnet_1_cidr:\"10.0.0.0/24\"```yamlì´ì œ VPCë¥¼ ë§Œë“¤ íŒŒì¼ì„ ë§Œë“¤ì–´ë³´ì.```yaml---# roles/vpc/tasks/main.yml# First task : creating the VPC.# We are using the variables set in the vars.yml file.# The module gives us back its result,# which contains information about our new VPC. # We register it in the variable my_vpc.- name:Create VPCec2_vpc_net:name:\"{{ vpc_name }}\"cidr_block:\"{{ vpc_cidr_block }}\"region:\"{{ aws_region }}\"aws_access_key:\"{{ aws_access_key }}\"aws_secret_key:\"{{ aws_secret_key }}\"state:\"present\"register:my_vpc# We now use the set_fact module # to save the id of the VPC in a new variable.- name:Set VPC ID in variableset_fact:vpc_id:\"{{ my_vpc.vpc.id }}\"# Creating our only Subnet in the VPC.# A subnet needs to be located in an Availability Zone (or AZ).# Again, we register the results in a variable for later.- name:Create Public Subnetec2_vpc_subnet:state:\"present\"vpc_id:\"{{ vpc_id }}\"cidr:\"{{ public_subnet_1_cidr }}\"az:\"{{ aws_region }}a\"region:\"{{ aws_region }}\"aws_access_key:\"{{ aws_access_key }}\"aws_secret_key:\"{{ aws_secret_key }}\"#map_public: \"yes\" # vpcê°€ instanceë¥¼ ìƒì„±í• ë•Œ ìë™ìœ¼ë¡œ public ipë¥¼ í• ë‹¹í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ ( default: false )resource_tags:Name:\"Public Subnet\"register:my_public_subnet# We save the id of the Public Subnet in a new variable.- name:Set Public Subnet ID in variableset_fact:public_subnet_id:\"{{ my_public_subnet.subnet.id }}\"# Every VPC needs at least one Internet Gateway.# This component allows traffic between the VPC and the outside world.- name:Create Internet Gateway for VPCec2_vpc_igw:vpc_id:\"{{ vpc_id }}\"region:\"{{ aws_region }}\"aws_access_key:\"{{ aws_access_key }}\"aws_secret_key:\"{{ aws_secret_key }}\"state:\"present\"register:my_vpc_igw# We save the id of the Internet Gateway in a new variable.- name:Set Internet Gateway ID in variableset_fact:igw_id:\"{{ my_vpc_igw.gateway_id }}\"# Now we set up a Route Table. # We attach that Route Table to the Public Subnet.# The route we create here defines the default routing # of the table, redirecting requests to the Internet Gateway. # We don't see it here, but the route table will also contain # a route for resources inside the VPC, so that if we need # to reach an internal resource, we don't go to the Internet# Gateway.- name:Set up public subnet route tableec2_vpc_route_table:vpc_id:\"{{ vpc_id }}\"region:\"{{ aws_region }}\"aws_access_key:\"{{ aws_access_key }}\"aws_secret_key:\"{{ aws_secret_key }}\"tags:Name:\"Public\"subnets:- \"{{ public_subnet_id }}\"routes:- dest:\"0.0.0.0/0\"gateway_id:\"{{ igw_id }}\" ì´ì œ ì‹¤í–‰í•´ë³´ì. $ ansible-playbook playbook.yml -i inventory -e @vars.yml PLAY [local] **************************************************************************************** TASK [Gathering Facts] ****************************************************************************** ok: [localhost] TASK [vpc : Create VPC] ***************************************************************************** changed: [localhost] TASK [vpc : Set VPC ID in variable] ***************************************************************** ok: [localho","date":"2019-01-24","objectID":"/ansible1/:1:1","tags":["ansible","aws","devops"],"title":"Create aws vpc using ansible","uri":"/ansible1/"},{"categories":["ansible"],"content":"Peering ansibleansible \" ansible AWS vpcì— ë“¤ì–´ì˜¤ë©´ í”¼ì–´ë§ ì—°ê²° ëª©ë¡ì´ ìˆë‹¤. ìƒì„±ì„ ëˆ„ë¥´ê³  ì„¤ì •ì„ í•´ì¤€ë‹¤. ansibleansible \" ansible í”¼ì–´ë§ ì—°ê²° ì´ë¦„ íƒœê·¸ì—ëŠ” ì´ë¦„ì„ ì¨ì£¼ê³  ë¡œì»¬ VPCëŠ” í˜„ì¬ ì ‘ì†ì¤‘ì¸ ë¦¬ì „ì˜ VPCë¥¼ ì„ íƒí•œë‹¤. í”¼ì–´ë§í•  ë‹¤ë¥¸ VPC ì„ íƒ í•­ëª©ì—ì„œëŠ” ì•„ê¹Œ ë‹¤ë¥¸ ë¦¬ì „ì— ìƒì„±í•œ VPCë¥¼ ì¨ì¤€ë‹¤. ë§Œì•½ ë‹¤ë¥¸ ê³„ì •ì´ë¼ë©´ ë‹¤ë¥¸ ê³„ì •ì„ ì„ íƒ. í˜„ì¬ ë¦¬ì „ì˜ VPC í”¼ì–´ë§ë„ ê°€ëŠ¥í•˜ë‹¤. ansibleansible \" ansible ìƒíƒœê°€ ìˆ˜ë½ ëŒ€ê¸°ì¤‘ì´ë‹¤. ì—°ê²° í•  ë¦¬ì „ì˜ VPCì— ë“¤ì–´ê°€ì„œ ìˆ˜ë½ì„ í•´ì¤€ë‹¤. ansibleansible \" ansible ìˆ˜ë½í•˜ê²Œ ë˜ë©´ ìƒíƒœê°€ í™œì„±í™” ë˜ë©´ì„œ ì—°ê²°ì— ì„±ê³µí•˜ì˜€ë‹¤. ansibleansible \" ansible í•˜ì§€ë§Œ ê° VPCì— ì—°ê²°ëœ Instanceë¼ë¦¬ í†µì‹ ì€ ì•ˆë  ê²ƒì´ë‹¤. ê·¸ ì´ìœ ëŠ” ë¼ìš°íŒ… í…Œì´ë¸”ì— ëª…ì‹œë¥¼ í•´ì¤˜ì•¼í•œë‹¤. ë¼ìš°íŒ… í…Œì´ë¸” ì™¼ìª½í•­ëª©ì— ë¼ìš°íŒ… í…Œì´ë¸”ì´ ìˆê³  ì„ íƒí•˜ë©´ ì•„ê¹Œ ìƒì„±í•œ VPCì— ì—°ê²°ëœ ë¼ìš°íŒ… í…Œì´ë¸”ì´ ìˆì„ê²ƒì´ë‹¤. ansibleansible \" ansible ì„ íƒì„ í•˜ê³  ë°‘ìª½ì— Routesì— ë“¤ì–´ê°€ Edit routesë¥¼ í´ë¦­í•œë‹¤. ansibleansible \" ansible Add routeë¥¼ ì„ íƒí•˜ê³  ì¶”ê°€í•´ì¤€ë‹¤. ansibleansible \" ansible internet Gatewayë¥¼ ì„ íƒí•˜ê³  ë‹¤ë¥¸ ë¦¬ì „ì— ìˆëŠ” internet gatewayì˜ IDë¥¼ ì…ë ¥í•´ì¤€ë‹¤. saveí•˜ë©´ ì´ì œ í†µì‹ ì´ ì˜ ë ê²ƒì´ë‹¤!!! ","date":"2019-01-24","objectID":"/ansible1/:1:2","tags":["ansible","aws","devops"],"title":"Create aws vpc using ansible","uri":"/ansible1/"},{"categories":["kubernetes"],"content":"argoë¥¼ ì•Œì•„ë³´ì.","date":"2019-01-13","objectID":"/argo/","tags":["kubernetes","argo"],"title":"Argo","uri":"/argo/"},{"categories":["kubernetes"],"content":"argoë¥¼ ì•Œì•„ë³´ì. argoëŠ” ì»¨í…Œì´ë„ˆ ì›Œí¬í”Œë¡œìš° ì†”ë£¨ì…˜ì´ë‹¤. ì›Œí¬í”Œë¡œìš° ìŠ¤í™ì„ YAML íŒŒì¼ë¡œ ì •ì˜í•˜ê³ , ì‹¤í–‰í• ë•Œ ë§ˆë‹¤ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•´ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. Open source container-native workflow engine for Kubernetes. argo argo ê³µì‹í™ˆí˜ì´ì§€ì— ë‚˜ì™€ìˆëŠ” exampleì„ ì‹¤í–‰í•´ë³´ì. ë¨¼ì € yaml íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±í•œë‹¤. apiVersion:argoproj.io/v1alpha1kind:Workflow #new type of k8s specmetadata:generateName:hello-world- #name of workflow specspec:entrypoint:whalesay #invoke the whalesay templatetemplates:- name:whalesay #name of templatecontainer:image:docker/whalesaycommand:[cowsay]args:[\"hello world\"]resources:#don't use too much resourceslimits:memory:32Micpu:100m ìƒì„±í›„ kubernetesì— submit í•œë‹¤. $ argo submit hello-world.yaml í˜„ì¬ ì›Œí¬í”Œë¡œìš° listë¥¼ ë³´ë ¤ë©´ list ëª…ë ¹ì–´ë¥¼ ì´ìš©í•œë‹¤. $ argo list NAME STATUS AGE DURATION hello-world-s6d7p Running 10m 10m ìƒì„±ëœ pod ì˜ ìƒíƒœë¥¼ë³´ë ¤ë©´ get ëª…ë ¹ì–´ë¥¼ ì´ìš© $ argo get hello-world-s6d7p Name: hello-world-s6d7p Namespace: default ServiceAccount: default Status: Running Created: Sun Jan 13 14:56:43 +0900 (11 minutes ago) Started: Sun Jan 13 14:56:52 +0900 (10 minutes ago) Duration: 10 minutes 52 seconds STEP PODNAME DURATION MESSAGE â— hello-world-s6d7p hello-world-s6d7p 10m ë§ˆì°¬ê°€ì§€ë¡œ logë¥¼ ë³´ë ¤ë©´ log ëª…ë ¹ì–´ë¥¼ ì´ìš© $ argo logs -w hello-world-xxx # get logs from all steps in a workflow argo logs -w hello-world-s6d7p hello-world-s6d7p: _____________ hello-world-s6d7p: \u003c hello world \u003e hello-world-s6d7p: ------------- hello-world-s6d7p: \\ hello-world-s6d7p: \\ hello-world-s6d7p: \\ hello-world-s6d7p: ## . hello-world-s6d7p: ## ## ## == hello-world-s6d7p: ## ## ## ## === hello-world-s6d7p: /\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"___/ === hello-world-s6d7p: {~~ ~~~~ ~~~ ~~~~ ~~ ~ / ===- hello-world-s6d7p: \\______ o __/ hello-world-s6d7p: \\ \\ __/ hello-world-s6d7p: \\____\\______/ $ argo logs hello-world-xxx-yyy # get logs from a specific step in a workflow argo logs hello-world-s6d7p _____________ \u003c hello world \u003e ------------- \\ \\ \\ ## . ## ## ## == ## ## ## ## === /\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"___/ === {~~ ~~~~ ~~~ ~~~~ ~~ ~ / ===- \\______ o __/ \\ \\ __/ \\____\\______/ delete $ argo delete hello-world-xxx ","date":"2019-01-13","objectID":"/argo/:0:0","tags":["kubernetes","argo"],"title":"Argo","uri":"/argo/"},{"categories":["kubernetes"],"content":"ArgoUI CLIê°€ ì•„ë‹Œ GUIë¡œ í™•ì¸í•˜ê¸° ìœ„í•´ argo-uië¥¼ ë¡œì»¬ PC ë¡œ í¬ì›Œë”© í•œë‹¤. $ kubectl -n argo port-forward deployment/argo-ui 8001:8001 argoargo \" argo ","date":"2019-01-13","objectID":"/argo/:1:0","tags":["kubernetes","argo"],"title":"Argo","uri":"/argo/"},{"categories":["kubernetes"],"content":"ì—°ì†ì‘ì—… ë‹¤ìŒê³¼ ê°™ì´ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‘ì„±í•œë‹¤. apiVersion:argoproj.io/v1alpha1kind:Workflowmetadata:generateName:steps-spec:entrypoint:hello-hello-hello# This spec contains two templates: hello-hello-hello and whalesaytemplates:- name:hello-hello-hello# Instead of just running a container# This template has a sequence of stepssteps:- - name:hello1 #hello1 is run before the following stepstemplate:whalesayarguments:parameters:- name:messagevalue:\"hello1\"- - name:hello2a #double dash =\u003e run after previous steptemplate:whalesayarguments:parameters:- name:messagevalue:\"hello2a\"- name:hello2b #single dash =\u003e run in parallel with previous steptemplate:whalesayarguments:parameters:- name:messagevalue:\"hello2b\"# This is the same template as from the previous example- name:whalesayinputs:parameters:- name:messagecontainer:image:docker/whalesaycommand:[cowsay]args:[\"{{inputs.parameters.message}}\"] Metadataì—ì„œ generateName: steps- ëŠ” ì›Œí¬í”Œë¡œìš° ì´ë¦„ì´ë‹¤. ì›Œí¬í”Œë¡œìš°ëŠ” templatesë¶€ë¶„ì— ì •ì˜ ë˜ì–´ìˆëŠ”ë° hello1ê³¼ hello2aë¥¼ ë³´ë©´ ì•ì— - - 2ê°œì˜ -ê°€ ì •ì˜ë˜ì–´ìˆê³  hello2b ê°™ì€ê²½ìš°ëŠ” 1ê°œì˜ -ë¡œ ë˜ì–´ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ëŠ” hello2a, hello2bë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ë‹¤ì‹œ ì‹¤í–‰í•´ë³´ì. $ argo submit --watch helloworld-multi.yaml Name: steps-nt72p Namespace: argo ServiceAccount: default Status: Succeeded Created: Sun Jan 13 15:39:55 +0900 (5 seconds ago) Started: Sun Jan 13 15:39:55 +0900 (5 seconds ago) Finished: Sun Jan 13 15:40:00 +0900 (now) Duration: 5 seconds STEP PODNAME DURATION MESSAGE âœ” steps-nt72p â”œ---âœ” hello1 steps-nt72p-1112559031 1s â””-Â·-âœ” hello2a steps-nt72p-220736832 1s â””-âœ” hello2b steps-nt72p-271069689 2s --watch ì˜µì…˜ì€ ê° ë‹¨ê³„ë³„ ì‹¤í–‰ ìƒíƒœì™€ ì›Œí¬í”Œë¡œìš° êµ¬ì¡°ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. argoargo \" argo step-~ ì´ë¼ëŠ” ì›Œí¬í”Œë¡œìš°ê°€ ìƒì„±ë˜ì—ˆë‹¤. Warning Notice: istioê°€ ì„¤ì¹˜ë˜ì–´ìˆëŠ”í™˜ê²½ì—ì„œëŠ” ê³„ì† runningì—ì„œ ëŒ€ê¸°ì¤‘ì´ë˜ë° í™•ì¸ì´ í•„ìš”í•  ê±° ê°™ë‹¤. istioê°€ ì ìš©ì•ˆë˜ì–´ìˆëŠ” namespaceë¥¼ ì´ìš©í–ˆë”ë‹ˆ ì˜ ì‘ë™í–ˆë‹¤. argoargo \" argo ","date":"2019-01-13","objectID":"/argo/:2:0","tags":["kubernetes","argo"],"title":"Argo","uri":"/argo/"},{"categories":["kubernetes"],"content":"DAGë¥¼ ì´ìš©í•œ ì›Œí¬í”Œë¡œìš° ì •ì˜ apiVersion:argoproj.io/v1alpha1kind:Workflowmetadata:generateName:dag-diamond-spec:entrypoint:diamondtemplates:- name:echoinputs:parameters:- name:messagecontainer:image:alpine:3.7command:[echo, \"{{inputs.parameters.message}}\"]- name:diamonddag:tasks:- name:Atemplate:echoarguments:parameters:[{name: message, value:A}]- name:Bdependencies:[A]template:echoarguments:parameters:[{name: message, value:B}]- name:Cdependencies:[A]template:echoarguments:parameters:[{name: message, value:C}]- name:Ddependencies:[B, C]template:echoarguments:parameters:[{name: message, value:D}] DAGë¥¼ ì´ìš©í•˜ë©´ ì¢€ ë” ëª…ì‹œì ìœ¼ë¡œ ì›Œí¬í”Œë¡œìš° ì •ì˜ê°€ ê°€ëŠ¥í•˜ë‹¤. Aì¸ taskê°€ ì‹¤í–‰í•˜ê²Œ í•˜ê³  B,CëŠ” Aì— ì˜ì¡´ì„±ì„ ê°€ì§€ë„ë¡ í•˜ê³  DëŠ” B,Cì˜ ì˜ì¡´ì„±ì„ ê°€ì§€ê²Œ í•´ì„œ ì‹¤í–‰ ìˆœì„œëŠ” A â†’ B , C â†’ D í˜•íƒœê°€ ëœë‹¤. argoargo \" argo ì´í›„ ì§„í–‰ì€ ì¡°ëŒ€í˜‘ë‹˜ ë¸”ë¡œê·¸ë¥¼ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ì›Œí¬í”Œë¡œìš° ì†”ë£¨ì…˜ Argo ","date":"2019-01-13","objectID":"/argo/:3:0","tags":["kubernetes","argo"],"title":"Argo","uri":"/argo/"},{"categories":["kubernetes"],"content":"ì…ë ¥/ì¶œë ¥ê°’ ì „ë‹¬ argoì˜ ê°œë…ê³¼ ì›Œí¬í”Œë¡œìš°ì˜ ê°œë…ì„ ì´í•´í–ˆìœ¼ë©´ taskê°„ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì „ë‹¬í•˜ëŠ”ì§€ ì‚´í´ë³´ì. ì…ë ¥ê°’ ì „ë‹¬ apiVersion:argoproj.io/v1alpha1kind:Workflowmetadata:generateName:hello-world-parameters-spec:# invoke the whalesay template with# \"hello world\" as the argument# to the message parameterentrypoint:whalesayarguments:parameters:- name:messagevalue:hello worldtemplates:- name:whalesayinputs:parameters:- name:message #parameter declarationcontainer:# run cowsay with that message input parameter as argsimage:docker/whalesaycommand:[cowsay]args:[\"{{inputs.parameters.message}}\"] ë¨¼ì € spec.arguments ë¶€ë¶„ì—ì„œ messageë¼ëŠ” ë³€ìˆ˜ë¥¼ ì„ ì–¸ í•˜ì˜€ê³ , ê·¸ê°’ì€ hello worldë¡œ ë˜ì–´ ìˆë‹¤. ê·¸ë¦¬ê³  ì›Œí¬í”Œë¡œìš°ì˜ whalesay íƒœìŠ¤í¬ì—ì„œ message ë³€ìˆ˜ë¥¼ input ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ë„ë¡ ì„ ì–¸í–ˆë‹¤. input.parameters.messageë¥¼ ì°¸ì¡°í•˜ì—¬ message ë³€ìˆ˜ì˜ ê°’ì„ ë„ì»¤ ì»¨í…Œì´í„°ì˜ ì‹¤í–‰ ë³€ìˆ˜ë¡œ ë„˜ê¸°ë„ë¡ í•˜ì˜€ë‹¤. CLIì—ì„œ ê°’ì„ ë³€ê²½í•˜ë ¤ë©´ $ argo submit file.yaml -p {parameter name}={value} ","date":"2019-01-13","objectID":"/argo/:4:0","tags":["kubernetes","argo"],"title":"Argo","uri":"/argo/"},{"categories":["kubernetes"],"content":"ì¶œë ¥ê°’ ì‚¬ìš© apiVersion:argoproj.io/v1alpha1kind:Workflowmetadata:generateName:output-parameter-spec:entrypoint:output-parametertemplates:- name:output-parametersteps:- - name:generate-parametertemplate:whalesay- - name:consume-parametertemplate:print-messagearguments:parameters:# Pass the hello-param output from the generate-parameter step as the message input to print-message- name:messagevalue:\"{{steps.generate-parameter.outputs.parameters.hello-param}}\"- name:whalesaycontainer:image:docker/whalesay:latestcommand:[sh, -c]args:[\"echo -n hello world \u003e /tmp/hello_world.txt\"]#generate the content of hello_world.txtoutputs:parameters:- name:hello-param #name of output parametervalueFrom:path:/tmp/hello_world.txt #set the value of hello-param to the contents of this hello-world.txt- name:print-messageinputs:parameters:- name:messagecontainer:image:docker/whalesay:latestcommand:[cowsay]args:[\"{{inputs.parameters.message}}\"] ë¨¼ì € whalesayë¥¼ ë³´ë©´ outputs.parametersì— hello-paramì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ output ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì˜€ê³ , output ë‚´ìš©ì€ /tmp/hello_world.txt íŒŒì¼ ë‚´ìš©ìœ¼ë¡œ ì±„ì›Œì§„ë‹¤. ë‹¤ìŒ print-message ì»¨í…Œì´ë„ˆ ì •ì˜ ë¶€ë¶„ì„ ë³´ë©´ input paramìœ¼ë¡œ messageë¼ëŠ” ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì˜€ë‹¤. stepsë¥¼ ë³´ë©´ print-messageë¥¼ ì‹¤í–‰í• ë•Œ message ë³€ìˆ˜ì˜ ê°’ì„ {{steps.generate-parameter.outputs.parameters.hello-param}} ë¡œ ì •ì˜í•´ print-messageì˜ ì´ì „ ìŠ¤íƒ­ì¸ generate-parameterì˜ output param ì¤‘ì— hello-paramì´ë¼ëŠ” ë³€ìˆ˜ì˜ ê°’ìœ¼ë¡œ ì±„ìš°ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ","date":"2019-01-13","objectID":"/argo/:5:0","tags":["kubernetes","argo"],"title":"Argo","uri":"/argo/"},{"categories":["kubernetes"],"content":"Artifact ì›Œí¬ í”Œë¡œìš° íƒœìŠ¤í¬ì— ëŒ€í•œ ì…/ì¶œë ¥ê°’ì„ parameterë¡œ ì „ë‹¬í•  ìˆ˜ ë„ ìˆì§€ë§Œ, CI/CD ë¹Œë“œ íŒŒì´í”„ë¼ì¸ì—ì„œëŠ” ì†ŒìŠ¤ì½”ë“œ, ë¹Œë“œ ë°”ì´ë„ˆë¦¬ê°€ ë ìˆ˜ ë„ ìˆê³  ë¹…ë°ì´í„° íŒŒì¼ì¼ ìˆ˜ë„ ìˆë‹¤. ì´ ê²½ìš° parameterë¥¼ ì´ìš©í•´ì„œ ë„˜ê¸°ê¸°ëŠ” ë¶€ë‹´ì´ ëœë‹¤. ì´ëŸ°ê²½ìš° artifactë¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•œë‹¤. ì™¸ë¶€ ì €ì¥ì†Œ AWS S3ë‚˜ GCP GCSê°™ì€ ê³³ì— ì €ì¥í•  ìˆ˜ ìˆê²Œí•˜ê³  ë°˜ëŒ€ë¡œ ì½ê¸°ë„ ê°€ëŠ¥í•˜ë‹¤. ë‚˜ì¤‘ì— kubeflowì—ì„œ í…ì„œí”Œë¡œìš° í•™ìŠµì„ ì‹œí‚¤ëŠ” íŒŒì´í”„ë¼ì¸ì´ ìˆì„ë•Œ í•™ìŠµëœ ëª¨ë¸ì„ S3ë‚˜ GCSì— ì €ì¥í•˜ë„ë¡ í•˜ëŠ” ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤. parameter â†’ artifactë¡œë§Œ ë³€ê²½í•˜ë©´ ëœë‹¤. apiVersion:argoproj.io/v1alpha1kind:Workflowmetadata:generateName:artifact-passing-spec:entrypoint:artifact-exampletemplates:- name:artifact-examplesteps:- - name:generate-artifacttemplate:whalesay- - name:consume-artifacttemplate:print-messagearguments:artifacts:# bind message to the hello-art artifact# generated by the generate-artifact step- name:messagefrom:\"{{steps.generate-artifact.outputs.artifacts.hello-art}}\"- name:whalesaycontainer:image:docker/whalesay:latestcommand:[sh, -c]args:[\"cowsay hello world | tee /tmp/hello_world.txt\"]outputs:artifacts:# generate hello-art artifact from /tmp/hello_world.txt# artifacts can be directories as well as files- name:hello-artpath:/tmp/hello_world.txt- name:print-messageinputs:artifacts:# unpack the message input artifact# and put it at /tmp/message- name:messagepath:/tmp/messagecontainer:image:alpine:latestcommand:[sh, -c]args:[\"cat /tmp/message\"] ","date":"2019-01-13","objectID":"/argo/:6:0","tags":["kubernetes","argo"],"title":"Argo","uri":"/argo/"},{"categories":["go"],"content":"Go ë§ˆìŠ¤í„°í•˜ê¸° ì±…ì„ ê³µë¶€í•˜ë©´ì„œ ê¸°ë¡í•œë‹¤. ","date":"2019-01-07","objectID":"/mastergo01/:0:0","tags":["go"],"title":"Operating system in golang","uri":"/mastergo01/"},{"categories":["go"],"content":"01. Go ì–¸ì–´ì™€ ìš´ì˜ì²´ì œ ","date":"2019-01-07","objectID":"/mastergo01/:1:0","tags":["go"],"title":"Operating system in golang","uri":"/mastergo01/"},{"categories":["go"],"content":"ìœ ë‹‰ìŠ¤ stdin, stdout, stderr ìœ ë‹‰ìŠ¤ OSëŠ” OSì—ì„œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ìœ„í•´ í•­ìƒ ì„¸ ê°€ì§€ íŒŒì¼ì„ ì—´ì–´ ë‘”ë‹¤. ìœ ë‹‰ìŠ¤ëŠ” ëª¨ë“  ê²ƒì„ íŒŒì¼ ì·¨ê¸‰í•œë‹¤. ì‹¬ì§€ì–´ í”„ë¦°í„°ë‚˜ ë§ˆìš°ìŠ¤ë„.. ìœ ë‹‰ìŠ¤ì—ì„œëŠ” ì–‘ì˜ ì •ìˆ˜ ê°’ìœ¼ë¡œ ëœ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ë¥¼ ì‚¬ìš©í•œë‹¤. íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ëŠ” ì—´ë¦° íŒŒì¼ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ë‚´ë¶€ í‘œí˜„ ìˆ˜ë‹¨ìœ¼ë¡œ, ê¸´ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ í¸ë¦¬í•˜ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ìœ ë‹‰ìŠ¤ ì‹œìŠ¤í…œì€ /dev/stdin, /dev/stdout, /dev/stderr ì„¸ ê°€ì§€ì˜ íŠ¹ìˆ˜í•œ í‘œì¤€ íŒŒì¼ëª…ì„ ì‚¬ìš©í•œë‹¤. ê°ê°ì— ëŒ€í•œ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ëŠ” 0, 1, 2ì´ë‹¤. ì´ ì„¸ê°€ì§€ëŠ” í‘œì¤€ ì…ë ¥, í‘œì¤€ ì¶œë ¥, í‘œì¤€ ì—ëŸ¬ ë¼ê³ ë„ ë¶€ë¥¸ë‹¤. ë˜í•œ ë§¥OSì—ì„œ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° 0ì€ /dev/fd/0ì„ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆê³ , ë°ë¹„ì•ˆ ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” /dev/fd/0ê³¼ /dev/pts/0 ë‘˜ ë‹¤ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Go ì½”ë“œì—ì„œ í‘œì¤€ ì…ë ¥ì€ os.Stdin, í‘œì¤€ ì¶œë ¥ì€ os.Stdout, í‘œì¤€ ì—ëŸ¬ëŠ” os.Stderrë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. /dev/stdin, /dev/stdout, /dev/stderr ë˜ëŠ” ì´ì— ëŒ€í•œ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ê°’ì„ ì§ì ‘ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ, Go ì–¸ì–´ì—ì„œ ì œê³µí•˜ëŠ” í‘œì¤€ íŒŒì¼ëª…ì¸ os.Stdin, os.Stdout, os.Stderrë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ê³  ì•ˆì „í•˜ë©° ì´ì‹ì„±ì— ìœ ë¦¬í•˜ë‹¤. ","date":"2019-01-07","objectID":"/mastergo01/:1:1","tags":["go"],"title":"Operating system in golang","uri":"/mastergo01/"},{"categories":["go"],"content":"í‘œì¤€ ì¶œë ¥ ì‚¬ìš©í•˜ê¸° package main import( \"io\" \"os\" ) stdoutì„ ì´ìš© í•´ë³´ì. fmt íŒ¨í‚¤ì§€ ëŒ€ì‹  io íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•œë‹¤. os íŒ¨í‚¤ì§€ëŠ” í”„ë¡œê·¸ë¨ì—ì„œ ì»¤ë§¨ë“œ ë¼ì¸ ì¸ìˆ˜ë¥¼ ì½ê³  os.Stdoutì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. func main() { myString := \"\" arguments := os.Args if len(arguments) == 1 { myString = \"Please give me one argument\" } else { myString = arguments[1] } myString ë³€ìˆ˜ì— í™”ë©´ì— ì¶œë ¥í•  í…ìŠ¤íŠ¸ë¥¼ ë‹´ëŠ”ë‹¤. io.WriteString(os.Stdout, myString) io.WriteString(os.Stdout, \"\\n\") } ì—¬ê¸°ì„œ io.WriteString í•¨ìˆ˜ëŠ” fmt.Print() í•¨ìˆ˜ì™€ ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•˜ì§€ë§Œ ë‘ ê°œì˜ ë§¤ê°œë³€ìˆ˜ë§Œ ë°›ëŠ”ë‹¤ëŠ” ì ì´ ë‹¤ë¥´ë‹¤. ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ì“°ë ¤ëŠ” íŒŒì¼ì„ ì§€ì •í•œë‹¤. ì—¬ê¸°ì„œëŠ” os.Stdoutì´ê³ , ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” string íƒ€ì… ë³€ìˆ˜ì´ë‹¤. Note is.WriteString í•¨ìˆ˜ì—ì„œ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì€ ë°˜ë“œì‹œ io.Writeì—¬ì•¼ í•œë‹¤. ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°”ì´íŠ¸ ìŠ¬ë¼ì´ìŠ¤ ë¡œ ì§€ì •í•´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ stringë„ ìƒê´€ì—†ë‹¤ê³  í•œë‹¤. $ go run test.go Please give me one argument $ go run test.go hi hi $ go run test.go hi hello hi ","date":"2019-01-07","objectID":"/mastergo01/:1:2","tags":["go"],"title":"Operating system in golang","uri":"/mastergo01/"},{"categories":["go"],"content":"í‘œì¤€ ì…ë ¥ìœ¼ë¡œ ë¶€í„° ì½ê¸° func main() { var f *os.File f = os.Stdin defer f.Close() scanner := bufio.NewScanner(f) for scanner.Scan() { fmt.Printnl(\"\u003e\", scanner.Text()) } } bufio.NewScanner()ì˜ ë§¤ê°œë³€ìˆ˜ì— í‘œì¤€ ì…ë ¥ì„ ì§€ì •í•´ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ í•¨ìˆ˜ëŠ” bufio.Scanner ë³€ìˆ˜ë¥¼ ë¦¬í„´í•˜ëŠ”ë°, ì´ ê°’ì€ ë‹¤ì‹œ Scan() í•¨ìˆ˜ë¡œ os.Stdinìœ¼ë¡œë¶€í„° í•œ ì¤„ì”© ì½ëŠ” ë° ì‚¬ìš©ëœë‹¤. ","date":"2019-01-07","objectID":"/mastergo01/:1:3","tags":["go"],"title":"Operating system in golang","uri":"/mastergo01/"},{"categories":["go"],"content":"ì—ëŸ¬ ì¶œë ¥ ì•„ê¹Œì™€ ê°™ì€ ì½”ë“œë¥¼ ë³´ì. í•œê°€ì§€ ë‹¤ë¥¸ì ì€ io.WriteStringë¶€ë¶„ì— Stderrë¥¼ ì‚¬ìš©í–ˆë‹¤. package main import( \"io\" \"os\" ) func main() { myString := \"\" arguments := os.Args if len(arguments) == 1 { myString = \"Please give me one argument\" } else { myString = arguments[1] } io.WriteString(os.Stdout, \"This is Standard output \\n\") io.WriteString(os.Stderr, myString) io.WriteString(os.Stderr, \"\\n\") } $ go run test.go hi This is Standard output hi ê²°ê³¼ë¥¼ ë³´ë©´ í‘œì¤€ ì¶œë ¥ê³¼ í‘œì¤€ ì—ëŸ¬ë¥¼ êµ¬ë¶„í•  ìˆ˜ ì—†ë‹¤. bash(1) ì…¸ì„ ì‚¬ìš©í•œë‹¤ë©´ í‘œì¤€ ì¶œë ¥ ë°ì´í„°ì™€ í‘œì¤€ ì—ëŸ¬ ë°ì´í„°ë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. $ go run test.go 2\u003e/tmp/stdError This is Standard output $ cat /tmp/stdError Please give me one argument $ go run test.go hi This is Standard output hi ì—ëŸ¬ ì¶œë ¥ì„ ë¬´ì‹œí•˜ë ¤ë©´ /dev/null ë””ë°”ì´ìŠ¤ë¡œ ë¦¬ë””ë ‰ì…˜í•˜ë©´ ëœë‹¤. ê·¸ëŸ¬ë©´ ì´ ê°’ì„ ë¬´ì‹œí•œë‹¤. $ go run test.go 2\u003e/dev/null This is Standard output í‘œì¤€ ì¶œë ¥ê³¼ í‘œì¤€ ì—ëŸ¬ì˜ ê²°ê³¼ë¥¼ ëª¨ë‘ ê°™ì€ íŒŒì¼ì— ì €ì¥í•˜ê³  ì‹¶ë‹¤ë©´, í‘œì¤€ ì—ëŸ¬ì— ëŒ€í•œ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°(2)ë¥¼ í‘œì¤€ ì¶œë ¥ì— ëŒ€í•œ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°(1)ë¡œ ë¦¬ë””ë ‰ì…˜ í•˜ë©´ëœë‹¤. $ go run test.go \u003e/tmp/output 2\u003e\u00261 $ cat /tmp/output This is Standard output Please give me one argument ","date":"2019-01-07","objectID":"/mastergo01/:1:4","tags":["go"],"title":"Operating system in golang","uri":"/mastergo01/"},{"categories":["go"],"content":"ë¡œê·¸ íŒŒì¼ ì‘ì„±í•˜ê¸° log íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ë©´ ì‹œìŠ¤í…œ ë¡œê·¸ë¡œ ë¡œê·¸ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ì´ íŒ¨í‚¤ì§€ì˜ syslogë¼ëŠ” Go íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ë©´ log levelê³¼ logging facility ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ë¡œê·¸ íŒŒì¼ë¡œ ì •ë³´ë¥¼ ë³´ë‚´ì package main import ( \"fmt\" \"log\" \"log/syslog\" \"os\" \"path/filepath\" ) func main() { programName := filepath.Base(os.Args[0]) sysLog, err := syslog.New(syslog.LOG_INFO|syslog.LOG_LOCAL7, programName) syslog.New() í•¨ìˆ˜ì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ìš°ì„ ìˆœìœ„ë¥¼ ì§€ì •í•œë‹¤. ì—¬ê¸°ì— ë¡œê·¸ ì¢…ë¥˜ì™€ ë¡œê·¸ ìˆ˜ì¤€ì„ í•œêº¼ë²ˆì— ì¡°í•©í•´ì„œ í‘œí˜„í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ LOG_NOTICE | LOG_MAILë¡œ ì§€ì •í•˜ë©´ ë¡œê·¸ ì¢…ë¥˜ëŠ” mailì´ê³  ë¡œê·¸ ìˆ˜ì¤€ì€ noticeì¸ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê²Œ ëœë‹¤. ë˜, ì‹¤ì œ ìˆ˜í–‰í•˜ëŠ” ì‹¤í–‰ íŒŒì¼ì˜ ì´ë¦„ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤. ë‚˜ì¤‘ì— ë¡œê·¸ íŒŒì¼ì„ ë³´ê³  ì •ë³´ë¥¼ ì‰½ê²Œ ì°¾ê¸° ìœ„í•´ì„œ. if err != nil { log.Fatal(err) } else { log.SetOutput(sysLog) } log.Println(\"LOG_INFO + LOG_LOCAL7: Logging in go\") sysLog, err = syslog.New(syslog.LOG_MAIL, \"Some program\") if err != nil { log.Fatal(err) } else { log.SetOutput(sysLog) } log.Println(\"LOG_MAIL: Logging in go\") fmt.Println(\"Will you see this?\") } ì´ ê²ƒì„ ì‹¤í–‰í•˜ë©´ macOSì—ì„œëŠ” $ go runtest.go Will you see this? ì´ë ‡ê²Œ ë‚˜ì˜¤ê³  ë¡œê·¸ íŒŒì¼ì„ ë³´ë©´ ë¡œê·¸ê°€ ë‚˜ì˜¨ë‹¤. $ grep LOG_MAIL /var/log/mail.log Jan 7 22:18:50 jaejin-ui-MacBook-Pro Some program[58311]: 2019/01/07 22:18:50 LOG_MAIL: Logging in go log.Fatal() log.Fatal()ì€ ë‚˜ìœì¼ì´ ë°œìƒí•´ì„œ ì•Œë ¤ì£¼ì ë§ˆì í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤. log.Panic() ë‹¤ì‹œ ì‹¤í–‰ë  ìˆ˜ ì—†ì„ ì •ë„ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ìˆœê°„, ê´€ë ¨ëœ ì •ë³´ë¥¼ ìµœëŒ€í•œ ì•Œ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤. ","date":"2019-01-07","objectID":"/mastergo01/:1:5","tags":["go"],"title":"Operating system in golang","uri":"/mastergo01/"},{"categories":["kubernetes"],"content":"Istioë€ sidecar patternì„ ì´ìš©í•œ service mesh architecture ì˜ êµ¬í˜„ì²´ì¸ ì˜¤í”ˆ í”Œë«í¼ì´ë‹¤.","date":"2018-12-30","objectID":"/istio/","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"Istioë€ sidecar patternì„ ì´ìš©í•œ service mesh architecture ì˜ êµ¬í˜„ì²´ì¸ ì˜¤í”ˆ í”Œë«í¼ì´ë‹¤. Istio #4 - Istio ì„¤ì¹˜ì™€ BookInfo ì˜ˆì œ ì¡°ëŒ€í˜‘ë‹˜ ë¸”ë¡œê·¸ë¥¼ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤. Istio ì„¤ì¹˜ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ê°€ ì¤€ë¹„ë˜ì–´ ìˆë‹¤ë©´, Istioë¥¼ ì„¤ì¹˜í•œë‹¤. ","date":"2018-12-30","objectID":"/istio/:0:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"Helm ì„¤ì¹˜ helmì€ kubernetesì˜ nodejsì˜ npm ì •ë„ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. $ cd ~ $ curl -L https://git.io/getLatestIstio | sh - $ cd istio-{version} $ export PATH=$PWD/bin:$PATH ","date":"2018-12-30","objectID":"/istio/:1:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"Helmì´ˆê¸°í™” helmìš© ì„œë¹„ìŠ¤ ì–´ì¹´ìš´íŠ¸ë¥¼ ìƒì„±í•˜ê³  helmì„ ì´ˆê¸°í™” í•œë‹¤. $ kubectl create -f install/kubernetes/helm/helm-service-account.yaml $ helm init --service-account tiller ","date":"2018-12-30","objectID":"/istio/:2:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"Istio ì„¤ì¹˜ ì„¤ì¹˜ì‹œ ëª¨ë‹ˆí„°ë§ì„ ìœ„í•´ ëª¨ë‹ˆí„°ë§ ë„êµ¬ì¸ kiali, servicegraph, grafana ì„¤ì¹˜ ì˜µì…˜ì„ ì„¤ì •í•œë‹¤. helm install install/kubernetes/helm/istio \\ --name istio \\ --namespace istio-system \\ --set tracing.enabled=true \\ --set global.mtls.enabled=true \\ --set grafana.enabled=true \\ --set kiali.enabled=true \\ --set servicegraph.enabled=true ì•½ê°„ì˜ ì‹œê°„ì´ ì§€ë‚˜ê³  ì„¤ì¹˜ë˜ì–´ìˆëŠ”ì§€ pod ëª©ë¡ì„ ì¶œë ¥í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ì˜¨ë‹¤. podëª©ë¡podëª©ë¡ \" podëª©ë¡ ","date":"2018-12-30","objectID":"/istio/:3:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"Istio ì‚­ì œ uninstall using kubectl $ kubectl delete -f $HOME/istio.yaml uninstall using Helm $ helm delete --purge istio If your Helm version is less than 2.9.0, then you need to manually cleanup extra job resource before redeploy new version of Istio chart: $ kubectl -n istio-system delete job --all delete the CRDs $ kubectl delete -f install/kubernetes/helm/istio/templates/crds.yaml -n istio-system BookInfo ì„œë¹„ìŠ¤ ì˜ˆì œ ì„¤ì¹˜ ","date":"2018-12-30","objectID":"/istio/:4:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"Istioì˜ sidecar injection í™œì„±í™” IstioëŠ” Podì— envoyë¥¼ sidecar íŒ¨í„´ìœ¼ë¡œ ì‚½ì…í•˜ì—¬, íŠ¸ë˜í”½ì„ ì»¨íŠ¸ë¡¤í•˜ëŠ” êµ¬ì¡°ì´ë‹¤. IstioëŠ” ì´ sidecarë¥¼ Pod ìƒì„±ì‹œ ìë™ìœ¼ë¡œ ì£¼ì… (inject)í•˜ëŠ” ê¸°ëŠ¥ì´ ìˆëŠ”ë°, ì´ ê¸°ëŠ¥ì„ í™œì„±í™” í•˜ê¸° ìœ„í•´ì„œëŠ” kubernetesì˜ namespaceì— istio-injection=enabled ë¼ëŠ” ë¼ë²¨ì„ ì¶”ê°€í•´ì•¼í•œë‹¤. $ kubectl label namespace default istio-injection=enabled ì¶”ê°€ í–ˆë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆë‹¤. labellabel \" label ","date":"2018-12-30","objectID":"/istio/:5:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"Bookinfo ì–´í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ Bookinfo yaml íŒŒì¼ì€ ë‹¤ìŒê²½ë¡œë¥¼ ì°¸ê³ í•˜ë©´ëœë‹¤. istio/istio bookinfo.yaml íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•˜ë©´ ëœë‹¤. $ kubectl apply -f bookinfo.yaml ë°°í¬ ì™„ë£Œ í›„ kubectl get pod ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ productpage, detail, rating ì„œë¹„ìŠ¤ê°€ ë°°í¬ë˜ê³ , reviews ì„œë¹„ìŠ¤ëŠ” v1 ~ v3 ê¹Œì§€ ë°°í¬ë˜ëŠ”ê±¸ í™•ì´ í•  ìˆ˜ ìˆë‹¤. podpod \" pod kubectl get svcë¥¼ ì´ìš©í•´ ë°°í¬ë˜ì–´ ìˆëŠ” ì„œë¹„ìŠ¤ë¥¼ í™•ì¸í•˜ì. svcsvc \" svc ëª¨ë‘ clusterIP íƒ€ì…ìœ¼ë¡œ ë°°í¬ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì™¸ë¶€ì—ì„œëŠ” ì ‘ê·¼ ë¶ˆê°€í•˜ë‹¤. ","date":"2018-12-30","objectID":"/istio/:6:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"Istio gateway ì„¤ì • ì´ ì„œë¹„ìŠ¤ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œ ì‹œí‚¤ëŠ”ë°, kubernetesì˜ Ingressë‚˜ ServiceëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê³ , Istioì˜ gateway ë¥¼ ì´ìš©í•œë‹¤. Istioì˜ gatewayëŠ” kubernetesì˜ ì»¤ìŠ¤í…€ ë¦¬ì†ŒìŠ¤ íƒ€ì…ìœ¼ë¡œ, Istioë¡œ ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ì„ ë°›ì•„ì£¼ëŠ” ì—”ë“œí¬ì¸íŠ¸ ì—­í• ì„ í•œë‹¤. ì—¬ëŸ¬ ë°©ë²•ì´ ìˆì§€ë§Œ Istioì—ì„œëŠ” ë””í´íŠ¸ë¡œ ë°°í¬ë˜ëŠ” GatewayëŠ” pod í˜•ì‹ìœ¼ë¡œ ë°°í¬ë˜ì–´ Load Balancer íƒ€ì…ì˜ ì„œë¹„ìŠ¤ë¡œ ì„œë¹„ìŠ¤ ëœë‹¤. ë¨¼ì € Istio Gatewayë¥¼ ë“±ë¡í•œ í›„ì—, Gatewayë¥¼ í†µí•´ ì„œë¹„ìŠ¤í•  í˜¸ìŠ¤íŠ¸ë¥¼ Virtaul Serviceë¡œ ë“±ë¡í•œë‹¤. Virtaul ServiceVirtaul Service \" Virtaul Service ì¡°ëŒ€í˜‘ë‹˜ ë¸”ë¡œê·¸ ì•„ë˜ëŠ” bookinfoì— ëŒ€í•œ Gatewayë¥¼ ë“±ë¡í•˜ëŠ” yaml íŒŒì¼ì´ë‹¤. apiVersion:networking.istio.io/v1alpha3kind:Gatewaymetadata:name:bookinfo-gatewayspec:selector:istio:ingressgateway# use istio default controllerservers:- port:number:80name:httpprotocol:HTTPhosts:- \"*\" selectorë¥¼ ì´ìš©í•´ì„œ gateway íƒ€ì…ì„ istioì—ì„œ ë””í´íŠ¸ë¡œ ì œê³µí•˜ëŠ” Gatewayë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤. ê·¸ë¦¬ê³  HTTP í”„ë¡œí† ì½œì„ 80 í¬íŠ¸ì—ì„œ ë°›ë„ë¡ í–ˆë‹¤. apiVersion:networking.istio.io/v1alpha3kind:VirtualServicemetadata:name:bookinfospec:hosts:- \"*\"gateways:- bookinfo-gatewayhttp:- match:- uri:exact:/productpage- uri:exact:/login- uri:exact:/logout- uri:prefix:/api/v1/productsroute:- destination:host:productpageport:number:9080 specì—ì„œ gateways ë¶€ë¶„ì— ì•ì—ì„œ ì •ì˜í•œ bookinfo-gatewayë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì•ì—ì„œ ë§Œë“  Gatewayë¡œ ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ì€ ì´ Virtual Serviceë¡œ ë“¤ì–´ì™€ì„œ ì„œë¹„ìŠ¤ ë˜ëŠ”ë°, ì—¬ê¸°ì„œ ë¼ìš°íŒ… ë£°ì„ ì •ì˜í•œë‹¤. /productpage /login /logout /api/v1/products URLì€ productpage:9080 ìœ¼ë¡œ í¬ì›Œë”©í•´ì„œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤. Istioì— ë¯¸ë¦¬ ì„¤ì¹˜ ë˜ì–´ ìˆëŠ” gatewayë¥¼ ì‚´í´ë³´ë©´, Istio default gatewayëŠ” podë¡œ ë°°í¬ë˜ì–´ ìˆëŠ”ë°, istio=ingressgateway ë¼ëŠ” ë¼ë²¨ì´ ì ìš©ë˜ì–´ ìˆë‹¤. gatewaygateway \" gateway service ë„ í™•ì¸í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. gatewaygateway \" gateway ì´ì œ bookinfoë¥¼ istio gatewayì— ë“±ë¡í•´ì„œ ì™¸ë¶€ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•´ë³´ì. $ istioctl create -f bookinfo-gateway.yaml bookinfo-gateway.yaml íŒŒì¼ì€ ë‹¤ìŒ ë§í¬ì— ìˆë‹¤. istio/istio create gatewaycreate gateway \" create gateway ê²Œì´íŠ¸ì›¨ì´ ë°°í¬ê°€ ëë‚˜ë©´ ìœ„ì˜ serviceì˜ EXTERNAL-IPë¥¼ ì´ìš©í•´ì„œ ì ‘ì†í•´ë³´ì. http://IP/productpage ë¡œ ì ‘ì†í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•œë‹¤. productpageproductpage \" productpage ","date":"2018-12-30","objectID":"/istio/:7:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["kubernetes"],"content":"ëª¨ë‹ˆí„°ë§ íˆ´ ì„œë¹„ìŠ¤ ì„¤ì¹˜ê°€ ëë‚¬ìœ¼ë©´ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ì™€ í•¨ê»˜ ëª¨ë‹ˆí„°ë§ íˆ´ì„ ì´ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ ì‚´í´ë³´ì. Istioë¥¼ ì„¤ì¹˜í•˜ë©´ Prometheus, Grafana, Kiali, Jaeget ë“±ì˜ ëª¨ë‹ˆí„°ë§ ë„êµ¬ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì¸ìŠ¤í†¨ ë˜ì–´ ìˆë‹¤. ê°ê°ì˜ ë„êµ¬ë¥¼ ì´ìš©í•´ì„œ ì§€í‘œë“¤ì„ ëª¨ë‹ˆí„°ë§ í•´ë³´ì. Grafanaë¥¼ ì´ìš©í•œ ì„œë¹„ìŠ¤ë³„ ì§€í‘œ ëª¨ë‹ˆí„°ë§ Grafanaë¥¼ ì´ìš©í•´ì„œ ê° ì„œë¹„ìŠ¤ë“¤ì˜ ì§€í‘œë¥¼ ìƒì„¸í•˜ê²Œ ëª¨ë‹ˆí„°ë§ í•  ìˆ˜ ìˆë‹¤. ë¨¼ì € í™•ì¸ì „ì— ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•´ ê°„ë‹¨í•˜ê²Œ ë¶€í•˜ë¥¼ ì£¼ì. for i in {1..100}; do curl -o /dev/null -s -w \"%{http_code}\" http://35.197.159.13/productpage done ë‹¤ìŒ Grafana ì›¹ ì½˜ì†”ì— ì ‘ê·¼í•´ì•¼í•˜ëŠ”ë°, GrafanaëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ë¡œ ë…¸ì¶œì´ ì•ˆë˜ë„ë¡ ì„¤ì •ì´ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— kubectlì„ ì´ìš©í•´ì„œ Grafana ì½˜ì†”ì— íŠ¸ë˜í”½ì„ í¬ì›Œë”© í•˜ë„ë¡ í•˜ì. GrafanaëŠ” 3000ë²ˆ í¬íŠ¸ì—ì„œ ëŒê³  ìˆê¸° ë•Œë¬¸ì—, localhost:3000 â†’ Grafana Podì˜ 3000ë²ˆ í¬íŠ¸ë¡œ íŠ¸ë˜í”½ì„ í¬ì›Œë”© í•˜ë„ë¡ ì„¤ì •í•˜ì. kubectl -n istio-system port-forward $(kubectl -n istio-system get pod -l app=grafana -o jsonpath='{.items[0].metadata.name}') 3000:3000 \u0026 ë‹¤ìŒ localhost:3000 ìœ¼ë¡œ ì ‘ì†í•´ë³´ë©´ Grafana í™”ë©´ì´ ë‚˜ì˜¬ ê²ƒì´ë‹¤. grafanagrafana \" grafana grafanagrafana \" grafana Jaegerë¥¼ ì´ìš©í•œ íŠ¸ë Œì ì…˜ ëª¨ë‹ˆí„°ë§ ë‹¤ìŒì€ jaegerë¥¼ ì´ìš©í•´ ê°œë³„ ë¶„ì‚° íŠ¸ë Œì ì…˜ì— ëŒ€í•´ì„œ ê° êµ¬ê°„ë³„ ì‘ë‹µ ì‹œê°„ì„ ëª¨ë‹ˆí„°ë§ í•  ìˆ˜ ìˆë‹¤. IstioëŠ” ê° ì„œë¹„ìŠ¤ë³„ë¡œ ì†Œìš” ì‹œê°„ì„ ìˆ˜ì§‘í•˜ëŠ”ë°, ì´ë¥¼ jaeger ì˜¤í”ˆì†ŒìŠ¤ë¥¼ ì“°ë©´ ì‰½ê²Œ ëª¨ë‹ˆí„°ë§ì´ ê°€ëŠ¥í•˜ë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ jaeger podë¡œ í¬íŠ¸ë¥¼ í¬ì›Œë”© í•´ì•¼í•œë‹¤. kubectl port-forward -n istio-system $(kubectl get pod -n istio-system -l app=jaeger -o jsonpath='{.items[0].metadata.name}') 16686:16686 \u0026 ì´í›„ì— ì ‘ì†í•˜ë©´ Jaegerí™”ë©´ì´ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ë‚˜ëŠ” error ê°€ ë°œìƒí•œë‹¤. .. jaegerjaeger \" jaeger ì²œì²œíˆ í•´ê²°í•´ì•¼ê² ë‹¤..ã… ã…œ Servicegraphë¥¼ ì´ìš©í•œ ì„œë¹„ìŠ¤ í† í´ë¡œì§€ ëª¨ë‹ˆí„°ë§ ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ëŠ” ì„œë¹„ìŠ¤ê°„ í˜¸ì¶œ ê´€ê³„ê°€ ë³µì¡í•´ì„œ, ê° ì„œë¹„ìŠ¤ì˜ ê´€ê³„ë¥¼ ì‹œê°í™” í•´ì£¼ëŠ” íˆ´ì´ ìˆìœ¼ë©´ ìœ ìš©í•œë°, ëŒ€í‘œì ì¸ ë„êµ¬ë¡œëŠ” service graph ë¼ëŠ” íˆ´ê³¼ kiali ë¼ëŠ” íˆ´ì´ ìˆë‹¤. Bookinfo ì˜ˆì œë¥¼ ìœ„í•œ Istio ì„¤ì •ì—ëŠ” servicegraphê°€ ë””í´íŠ¸ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ì™¸ë¶€ì— ë…¸ì¶œí•˜ê¸° ìœ„í•´ í¬íŠ¸ í¬ì›Œë”© í•œë‹¤. kubectl -n istio-system port-forward $(kubectl -n istio-system get pod -l app=servicegraph -o jsonpath='{.items[0].metadata.name}') 8088:8088 \u0026 http://localhost:8088/dotviz ë¡œ ì ‘ì†í•´ë³´ë©´ ì„œë¹„ìŠ¤ë“¤ì˜ ê´€ê³„ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. kialikiali \" kiali ì–´ë µë‹¤..ã…  ","date":"2018-12-30","objectID":"/istio/:8:0","tags":["kubernetes","istio"],"title":"Istio install and deploy sample applications","uri":"/istio/"},{"categories":["go"],"content":"go 1.11 ë²„ì „ì—ì„œëŠ” go modules ê°€ ë„ì…ë˜ì–´ ì‹œí—˜ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ","date":"2018-12-22","objectID":"/gomod/:0:0","tags":["go"],"title":"Go modules (mod)","uri":"/gomod/"},{"categories":["go"],"content":"GO111MODULE go 1.11 ë²„ì „ì—ì„œ go modulesê°€ ë“±ì¥í•˜ë©° ê¸°ì¡´ GOPATH ì™€ vendor/ ì— ë”°ë¼ ë™ì‘í•˜ë˜ go ì»¤ë§¨ë“œì™€ì˜ ê³µì¡´ì„ ìœ„í•œ GO111MODULE ì´ë¼ëŠ” ì„ì‹œ í™˜ê²½ë³€ìˆ˜ê°€ ìƒì„±ë˜ì—ˆë‹¤. on go ì»¤ë§¨ë“œëŠ” GOPATH ì— ê´€ê³„ì—†ì´ go modulesì˜ ë°©ì‹ ëŒ€ë¡œ ë™ì‘í•œë‹¤. off go modulesì€ ì „í˜€ ì‚¬ìš©ë˜ì§€ ì•Šê³  ê¸°ì¡´ì— ì‚¬ìš©ë˜ë˜ ë°©ì‹ëŒ€ë¡œ GOPATH ì™€ vendor/ ë¥¼ í†µí•´ go ì»¤ë§¨ë“œê°€ ë™ì‘í•œë‹¤. auto GOPATH/src ë‚´ë¶€ì—ì„œì˜ go ì»¤ë§¨ë“œëŠ” ê¸°ì¡´ì˜ ë°©ì‹ëŒ€ë¡œ go ì»¤ë§¨ë“œëŠ” go modulesì˜ ë°©ì‹ëŒ€ë¡œ ë™ì‘í•œë‹¤. ì—¬ê¸°ì„œëŠ” onìœ¼ë¡œ ì‚¬ìš©í•´ë³¸ë‹¤. export GO111MODULE=on ì†ŒìŠ¤ì½”ë“œë¥¼ ìƒì„±í•˜ê³  ì†ŒìŠ¤ì½”ë“œ ì•ˆì— ëª¨ë“ˆê²½ë¡œë¥¼ ì¶”ê°€í•˜ë©´ ê°„ë‹¨íˆ go mod init ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ëœë‹¤. go.mod íŒŒì¼ì´ ë§Œë“¤ì–´ì§€ë©´ì„œ í´ë”êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. {project} main.go go.mod go.mod íŒŒì¼ì—ëŠ” í˜„ì¬ ëª¨ë“ˆì— ëŒ€í•œ ì •ë³´ì™€ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì™¸ë¶€ íŒ¨í‚¤ì§€ì— ëŒ€í•œ ì˜ì¡´ì„± ì •ë³´ê°€ ë‹´ê¸°ê²Œ ëœë‹¤. ì´ì œ build í•´ë³´ì. $ go build ìë™ìœ¼ë¡œ importëœ íŒ¨í‚¤ì§€ë¥¼ ì°¾ê³  GOPATH/pkg/mod/ ë””ë ‰í† ë¦¬ í•˜ìœ„ì— ë²„ì „ì— ë”°ë¼ ìƒì„±ëœë‹¤. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì— go.sum íŒŒì¼ë„ ìƒì„±ë˜ëŠ”ë°, ì´ íŒŒì¼ì€ ì„¤ì¹˜ëœ ëª¨ë“ˆì˜ í•´ì‹œ ê°’ì„ ì €ì¥í•´ë‘ê³ , ë§¤ go ì»¤ë§¨ë“œê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ì„¤ì¹˜ ë˜ì–´ìˆëŠ” ëª¨ë“ˆì˜ í•´ì‹œê°’ê³¼ go.sumì— ì €ì¥ëœ í•´ì‹œ ê°’ì„ ë¹„êµí•˜ì—¬ ì„¤ì¹˜ëœ ëª¨ë“ˆì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•œë‹¤. ë‹¤ì‹œ í•œë²ˆ í´ë”êµ¬ì¡°ëŠ” {project} main.go go.mod go.sum *.exe ìƒˆë¡œìš´ ëª¨ë“ˆì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ go get \u003cmodule-path\u003e@\u003cmodule-query\u003e ì»¤ë§¨ë“œë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤. ë²„ì „ ì§€ì • í•„ìš”ê°€ ì—†ë‹¤ë©´ ê·¸ëƒ¥ ì½”ë“œì— ë°”ë¡œ import ì‹œí‚¤ê³  go ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ","date":"2018-12-22","objectID":"/gomod/:1:0","tags":["go"],"title":"Go modules (mod)","uri":"/gomod/"},{"categories":["go"],"content":"Go ì–¸ì–´ ì—ì„œëŠ” dep ìœ¼ë¡œ ì˜ì¡´ì„± ê´€ë¦¬ë¥¼ í•˜ê³  ìˆì—ˆë‹¤. í•˜ì§€ë§Œ Once Go 1.11 is out, it really makes very little sense for a new project not already using dep to start using it. Dep has many, many problems - some of which Sam acknowledged in the talk - and you avoid all of them, avoid taking the time to master a system that is going away, and help make Go modules better by simply using Go modules from the start. ì´ë ‡ë‹¤â€¦ ê·¸ë˜ë„ depì„ í•œë²ˆ ì‚¬ìš©í•´ë³´ê³ ì í•œë‹¤. ì¼ë‹¨ go ì˜ í´ë” êµ¬ì¡°ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì—ˆë‹¤. {GOPATH} bin pkg resources src web ì´í›„ì— webì´ë¼ëŠ” í”„ë¡œì íŠ¸ì—ì„œ ì§„í–‰í–ˆë‹¤. ë¨¼ì € depì„ ì„¤ì¹˜í•œë‹¤. $ go get -u github.com/golang/dep/cmd/dep $ dep version \u003e\u003e\u003e dep: version : v0.5.0 build date : 2018-08-16 git hash : 224a564 go version : go1.10.3 go compiler : gc platform : darwin/amd64 features : ImportDuringSolve=false ì„¤ì¹˜ê°€ ë˜ì—ˆìœ¼ë©´ dep init ìœ¼ë¡œ ì‹œì‘í•´ë³´ì. $ dep init ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ íŒŒì¼ë“¤ì´ ë§Œë“¤ì–´ì§„ë‹¤. vender / Gopkg.toml Gopkg.tomlì€ ì´ˆê¸°í™”í•  ë•Œ ìƒì„±ë˜ëŠ” íŒŒì¼ë¡œ depì˜ ë™ì‘ì„ ê°ì‹œí•˜ëŠ” ì—¬ëŸ¬ ê·œì¹™ì„ ë‹´ê³  ìˆë‹¤. Gopkg.lock í”„ë¡œì íŠ¸ì˜ ì˜ì¡´ì„± ê·¸ë˜í”„ì˜ ìŠ¤ëƒ…ìˆì„ ê°€ì§„ íŒŒì¼ì´ë‹¤. ì´ íŒŒì¼ì€ dep ensure í•  ë•Œ ë³€ê²½ëœë‹¤. ì´ˆê¸°í™” í›„ ë§Œë“¤ì–´ì§„ Gopkg.toml íŒŒì¼ì— gin ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•œë‹¤. gin ì€ go ì˜ ì›¹ í”„ë ˆì„ì›Œí¬ì´ë‹¤. [[constraint]] name = \"github.com/gin-gonic/gin\" branch = \"master\" ì´ì œ ì¶”ê°€í•œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•œë‹¤. $ dep ensure ì´ê±´ ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€í•´ì£¼ëŠ” ê²ƒì´êµ¬ $ dep ensure -add ì„¤ì¹˜í•  ëª¨ë“ˆëª… ìœ¼ë¡œ ì¶”ê°€ê°€ ê°€ëŠ¥í•œë° ìœ„ì—ì„œ ë§Œë“  web í”„ë¡œì íŠ¸ê°€ ì•„ë‹Œ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë¥¼ í•˜ë‚˜ ë§Œë“¤ê³  ë‹¤ì‹œ $ dep init ì´ˆê¸°í™”ë¥¼ í•œë‹¤. $ dep ensure -add github.com/gin-gonic/gin ì´ë ‡ê²Œ ì„¤ì¹˜ í•˜ë©´ ë˜ëŠ”ë° no dirs contained any Go code ì—ëŸ¬ê°€ ë‚˜ë©´ go ì½”ë“œê°€ ì—†ì–´ì„œ ë‚œ ê²ƒì´ë‹ˆ ì½”ë“œë¥¼ ìƒì„±í•œ ë’¤ ì§„í–‰í•œë‹¤. ì„¤ì¹˜ í•˜ê²Œ ë˜ë©´ ìë™ìœ¼ë¡œ Gopkg.toml ê³¼ Gopkg.lockì— gin ì— ê´€í•œ ê²ƒë“¤ì´ ì„¤ì¹˜ ëœë‹¤. ","date":"2018-12-22","objectID":"/godep/:0:0","tags":["go"],"title":"Go dependency management tool (dep)","uri":"/godep/"},{"categories":["kubernetes"],"content":"MacOSì—ì„œ clusterë¥¼ êµ¬ì„±í•œë’¤ AWSì— ë…¸ë“œë“¤ì„ ë„ìš°ëŠ” ì‘ì—…ì„ í•´ë´…ì‹œë‹¤.","date":"2018-12-21","objectID":"/kops/","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"MacOSì—ì„œ clusterë¥¼ êµ¬ì„±í•œë’¤ AWSì— ë…¸ë“œë“¤ì„ ë„ìš°ëŠ” ì‘ì—…ì„ í•´ë´…ì‹œë‹¤. ","date":"2018-12-21","objectID":"/kops/:0:0","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"kubernetes cluster setting for mac ","date":"2018-12-21","objectID":"/kops/:1:0","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"ì„¤ì¹˜ ë¨¼ì € kubernetesë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ kubectlì„ ë‹¤ìš´ë¡œë“œ í•œë‹¤. curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/darwin/amd64/kubectl ì—ëŸ¬ê°€ ë‚  ê²ƒì¸ë° ìµœì‹  ë¦´ë¦¬ì¦ˆ ë²„ì „ì„ í™•ì¸í•˜ì curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt ì˜ˆë¥¼ë“¤ì–´ ìœ„ì˜ ê²°ê³¼ê°€ ì´ë ‡ê²Œ ë‚˜ì™”ë‹¤ë©´. v1.12.2 curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.12.2/bin/darwin/amd64/kubectl ì´ëŸ°ì‹ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ëœë‹¤. chmod +x ./kubectl ì‹¤í–‰ ëª¨ë“œë¡œ ë³€ê²½í•˜ê³  sudo mv ./kubectl /usr/local/bin/kubectl Move the binary in to your PATH ","date":"2018-12-21","objectID":"/kops/:1:1","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"ì„¤ì¹˜ í™•ì¸ kubectl version \u003e Client Version: version.Info{Major:\"1\", Minor:\"12\", GitVersion:\"v1.12.2\", GitCommit:\"17c77c7898218073f14c8d573582e8d2313dc740\", GitTreeState:\"clean\", BuildDate:\"2018-10-24T06:54:59Z\", GoVersion:\"go1.10.4\", Compiler:\"gc\", Platform:\"darwin/amd64\"} Server Version: version.Info{Major:\"1\", Minor:\"10\", GitVersion:\"v1.10.6\", GitCommit:\"a21fdbd78dde8f5447f5f6c331f7eb6f80bd684e\", GitTreeState:\"clean\", BuildDate:\"2018-07-26T10:04:08Z\", GoVersion:\"go1.9.3\", Compiler:\"gc\", Platform:\"linux/amd64\"} ì´ëŸ°ì‹ìœ¼ë¡œ clientì™€ serverê°€ ë‘˜ë‹¤ ë‚˜ì™€ì•¼ ì˜ ì„¤ì¹˜ ëœ ê²ƒì´ë‹¤. ","date":"2018-12-21","objectID":"/kops/:1:2","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"AWS CLI AWSì— ë…¸ë“œë¥¼ ë„ìš°ê¸° ìœ„í•´ AWSì˜ ì„¤ì •ì„ í•´ì¤€ë‹¤. $ sudo apt update $ sudo apt install -y awscli $ aws configure \u003e public, secret key ì…ë ¥ ","date":"2018-12-21","objectID":"/kops/:1:3","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"Kops ì‰½ê²Œ í´ëŸ¬ìŠ¤í„°ë¥¼ ì „ê°œ í•˜ê¸° ìœ„í•´ kopsë¥¼ ì„¤ì¹˜í•œë‹¤. $ wget https://github.com/kubernetes/kops/releases/download/1.10.0/kops-darwin-amd64 $ chmod +x kops-darwin-amd64 $ sudo mv kops-darwin-amd64 /usr/local/bin/kops ì„¤ì¹˜ ì™„ë£Œë˜ë©´ $ kops ëª…ë ¹ì–´ê°€ ì˜ ë¨¹ì„ ê²ƒì´ë‹¤. kopsë¡œ ì „ê°œí•œ AWS EC2ì— ì ‘ì†í•˜ê¸° ìœ„í•œ key ìƒì„±ì„ í•´ë³´ì ","date":"2018-12-21","objectID":"/kops/:1:4","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"Key $ ssh-keygen -q -f ~/.ssh/id_rsa -N \"\" or $ kops create secret --name awskrug.k8s.local sshpublickey admin -i ~/.ssh/id_rsa.pub ì´ì œ ë³¸ê²©ì ì¸ Clusterë¥¼ ë§Œë“¤ì–´ë³´ì. ","date":"2018-12-21","objectID":"/kops/:1:5","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"Cluster $ export KOPS_CLUSTER_NAME=awskrug.k8s.local $ export KOPS_STATE_STORE=s3://kops-awskrug-test $ aws s3 mb ${KOPS_STATE_STORE} --region us-east-1 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì„ í•´ì£¼ê³  S3ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸°ìœ„í•´ ë²„í‚·ì„ ìƒì„±ì„ í•œë‹¤. kops create cluster \\ --cloud=aws \\ --name=${KOPS_CLUSTER_NAME} \\ --state=${KOPS_STATE_STORE} \\ --master-size=t2.medium \\ --node-size=t2.medium \\ --node-count=2 \\ --zones=us-east-1b,us-east-1b \\ --ssh-public-key=~/.ssh/k8s.pub \\ --network-cidr=10.10.0.0/16 ì›í•˜ëŠ” ëŒ€ë¡œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ê³  --ssh-public-key=~/.ssh/k8s.pub ë¶€ë¶„ì€ ìœ„ì— Key ìƒì„±í•œ ê±¸ë¡œ í•´ì£¼ë©´ ë…¸ë“œì— ì ‘ì†í•  ìˆ˜ ìˆë‹¤. ë…¸ë“œ ì ‘ì†ì€ ssh -i ~/.ssh/k8s admin@184.73.133.76 ì´ëŸ°ì‹ìœ¼ë¡œ EC2 instanceì˜ IPë¥¼ ì¨ì£¼ë©´ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤. ","date":"2018-12-21","objectID":"/kops/:1:6","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"Update Cluster í´ëŸ¬ìŠ¤í„° ìƒì„± í•˜ê¸° ì „ ìˆ˜ì •í•˜ê¸° $ kops edit cluster --name=${KOPS_CLUSTER_NAME} ","date":"2018-12-21","objectID":"/kops/:1:7","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"Create Cluster kops updateì— â€“yes ì˜µì…˜ì„ ì£¼ë©´ ì‹¤ì œ í´ëŸ¬ìŠ¤í„°ê°€ ìƒì„±ëœë‹¤. $Â kops update cluster --name=${KOPS_CLUSTER_NAME} --yes ","date":"2018-12-21","objectID":"/kops/:1:8","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"Validate Cluster kops validate ëª…ë ¹ìœ¼ë¡œ ìƒì„±ì´ ì™„ë£Œ ë˜ì—ˆëŠ”ì§€ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. $Â kops validate cluster --name=${KOPS_CLUSTER_NAME} create cluster í–ˆëŠ”ë° ìƒì„±ì´ ì•ˆë˜ë©´ ê¸°ë‹¤ë ¤ì•¼í•œë‹¤. í´ëŸ¬ìŠ¤í„° ìƒì„±ê¹Œì§€ 5~10ë¶„ ì •ë„ì†Œìš”ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ","date":"2018-12-21","objectID":"/kops/:1:9","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"í´ëŸ¬ìŠ¤í„° í™•ì¸ ë° ìˆ˜ì • ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ í´ëŸ¬ìŠ¤í„°(master \u0026 node) í™•ì¸ í•  ìˆ˜ ìˆë‹¤. $ kops get ig AWS ì¸ìŠ¤í„´ìŠ¤ë“¤ì„ ì •ì§€ ì‹œí‚¤ê³  ì‹¶ì„ë•Œ í˜¹ì€ ë‹¤ì‹œ ì‹¤í–‰ ì‹œí‚¤ê³  ì‹¶ì„ ë•Œ $ kops edit ig nodes $ kops edit ig \u003cmaster_name\u003e maxSize, minSizeë¥¼ 0ìœ¼ë¡œ ë°”ê¾¸ë©´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì´ ì¤‘ì§€ëœë‹¤. ë˜ëŠ” 1ì´ë‚˜ 2ê°™ì€ ìˆ«ìë¥¼ ì“°ë©´ ê·¸ë§Œí¼ ìƒì„± ëœë‹¤. update cluster configuration $ kops update cluster --yes Rollling update $ kops rolling-update cluster --yes $ kops rolling-updateÂ cluster --cloudonly --force --yes kopsë¡œ clusterë¥¼ êµ¬ì„±í•˜ê²Œë˜ë©´ clusterì˜ ì •ë³´ê°€ amazon S3ì— ì €ì¥ ë˜ê¸° ë•Œë¬¸ì— ì–´ëŠ í™˜ê²½ì—ì„œë“  kopsì™€ kubectlë§Œ ê¹”ë ¤ìˆìœ¼ë©´ ì–´ë””ì„œë“  clusterë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤. ","date":"2018-12-21","objectID":"/kops/:2:0","tags":["kubernetes","kops"],"title":"Kubernetes cluster on aws with kops","uri":"/kops/"},{"categories":["kubernetes"],"content":"kubernetes","date":"2018-12-20","objectID":"/basic/","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ í´ëŸ¬ìŠ¤í„° êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. í´ëŸ¬ìŠ¤í„° ì „ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¡œì¨ ë§ˆìŠ¤í„°ê°€ ì¡´ì¬í•œë‹¤. ì»¨í…Œì´ë„ˆê°€ ë°°í¬ë˜ëŠ” ë¨¸ì‹ ì¸ ë…¸ë“œê°€ ì¡´ì¬í•œë‹¤. êµ¬ì„±êµ¬ì„± \" êµ¬ì„± ì¡°ëŒ€í˜‘ë‹˜ ë¸”ë¡œê·¸ ","date":"2018-12-20","objectID":"/basic/:0:0","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"ì˜¤ë¸Œì íŠ¸ ê°€ì¥ ê¸°ë³¸ì ì¸ êµ¬ì„±ë‹¨ìœ„ê°€ ë˜ëŠ” ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ì™€, ì´ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ê°€ì§„ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì´ë£¨ì–´ì§„ë‹¤. ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ì˜¤ë¸Œì íŠ¸ì˜ ìŠ¤í™ ì´ì™¸ì— ì¶”ê°€ì •ë³´ì¸ ë©”íƒ€ ì •ë³´ë“¤ë¡œ êµ¬ì„±ì´ ëœë‹¤ê³  ë³´ë©´ ëœë‹¤. ","date":"2018-12-20","objectID":"/basic/:1:0","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ ( object spec ) ì˜¤ë¸Œì íŠ¸ë“¤ì€ ëª¨ë‘ ì˜¤ë¸Œì íŠ¸ì˜ íŠ¹ì„±ì„ ê¸°ìˆ í•œ ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ìœ¼ë¡œ ì •ì˜ê°€ ë˜ê³ , ì»¤ë§¨ë“œ ë¼ì¸ì„ í†µí•´ì„œ ì˜¤ë¸Œì íŠ¸ ìƒì„±ì‹œ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ ì •ì˜ë¥¼ í•˜ê±°ë‚˜ ë˜ëŠ” yaml ì´ë‚˜ json íŒŒì¼ë¡œ ìŠ¤í™ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ","date":"2018-12-20","objectID":"/basic/:1:1","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ ( basic object ) ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì˜í•´ì„œ ë°°í¬ ë° ê´€ë¦¬ë˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ì˜¤ë¸Œì íŠ¸ëŠ” ì»¨í…Œì´ë„ˆí™”ë˜ì–´ ë°°í¬ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì›Œí¬ë¡œë“œë¥¼ ê¸°ìˆ í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¡œ pod, service, volume, namespace 4ê°€ì§€ê°€ ìˆë‹¤. pod â†’ ì»¨í…Œì´ë„ˆí™”ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ volume â†’ ë””ìŠ¤í¬ service â†’ ë¡œë“œë°¸ëŸ°ì„œ namespace â†’ íŒ¨í‚¤ì§€ëª… ì •ë„ë¡œ ìƒê°í•˜ë©´ëœë‹¤. ","date":"2018-12-20","objectID":"/basic/:1:2","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"Pod podëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ê°€ì¥ ê¸°ë³¸ì ì¸ ë°°í¬ ë‹¨ìœ„ë¡œ ì»¨í…Œì´ë„ˆë¥¼ í¬í•¨í•˜ëŠ” ë‹¨ìœ„ì´ë‹¤. apiVersion:v1kind:Podmetadata:name:nginxspec:containers:- name:nginximage:nginx:1.7.9ports:- containerPort:8090 podì€ ì—¬ëŸ¬ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ê°€ì§ˆ ìˆ˜ ìˆëŠ”ë° ì™œ ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆ ì„œ ë°°í¬ë¥¼ í•˜ëƒ? pod ë‚´ì˜ ì»¨í…Œì´ë„ˆëŠ” IPì™€ portë¥¼ ê³µìœ í•œë‹¤. ë‘ê°œì˜ ì»¨í…Œì´ë„ˆê°€ í•˜ë‚˜ì˜ podë¥¼ í†µí•´ì„œ ë°°í¬ë˜ì—ˆì„ë•Œ localhostë¥¼ í†µí•´ì„œ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤. podë‚´ì— ë°°í¬ëœ ì»¨í…Œì´ë„ˆê°„ì—ëŠ” ë””ìŠ¤í¬ ë³¼ë¥¨ì„ ê³µìœ í•  ìˆ˜ ìˆë‹¤. ","date":"2018-12-20","objectID":"/basic/:2:0","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"volume podê°€ ë™ì‘í• ë•Œ ë””í´íŠ¸ë¡œ ì»¨í…Œì´ë„ˆë§ˆë‹¤ ë¡œì»¬ ë””ìŠ¤í¬ë¥¼ ìƒì„±í•´ì„œ ê¸°ë™ë˜ëŠ”ë° ì˜êµ¬ì ì´ì§€ ëª»í•˜ë‹¤. ë”°ë¼ì„œ DBê°™ì´ ì˜êµ¬ì ìœ¼ë¡œ íŒŒì¼ì„ ì €ì¥í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” ì»¨í…Œì´ë„ˆ ë¦¬ìŠ¤íƒ€íŠ¸ì— ìƒê´€ ì—†ì´ íŒŒì¼ì„ ì˜ì†ì ìœ¼ë¡œ ì €ì¥í•´ì•¼ í•˜ëŠ”ë° ì´ëŸ¬í•œ í˜•íƒœë¥¼ ë³¼ë¥¨ì´ë¼í•œë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” githubê°™ì€ ì˜¤í”ˆì†ŒìŠ¤ ê¸°ë°˜ì˜ ì™¸ì¥ ìŠ¤í† ë¦¬ì§€ë¥¼ ì§€ì›í•œë‹¤.. ","date":"2018-12-20","objectID":"/basic/:3:0","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"service pod ê²½ìš°ì—ëŠ” ë™ì ìœ¼ë¡œ ìƒì„±ë˜ê³  ìë™ìœ¼ë¡œ ë¦¬ìŠ¤íƒ€íŠ¸ê°€ ë˜ë©´ì„œ IPê°€ ë°”ë€Œê¸° ë•Œë¬¸ì—, ë¡œë“œë°¸ëŸ°ì„œì—ì„œ podì˜ ëª©ë¡ì„ ì§€ì •í•  ë–„ëŠ” IPì£¼ì†Œë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ë”°ë¼ì„œ ìœ ì—°í•˜ê²Œ ì„ íƒí•´ì¤˜ì•¼í•˜ëŠ”ë° ì´ê²ƒì´ ë¼ë²¨ ê³¼ ë¼ë²¨ì…€ë ‰í„° ë¼ëŠ” ê°œë…ì´ë‹¤. ì„œë¹„ìŠ¤ë¥¼ ì •ì˜í• ë•Œ ì–´ë–¤ podë¥¼ ì„œë¹„ìŠ¤ë¡œ ë¬¶ì„ ê²ƒì¸ì§€ ì •ì˜í•˜ëŠ”ë° ì´ë¥¼ ì…€ë ‰í„°ë¼ê³  í•œë‹¤. ì„œë¹„ìŠ¤ëŠ” ë¼ë²¨ ì…€ë ‰í„°ì—ì„œ íŠ¹ì • ë¼ë²¨ì„ ê°€ì§€ê³  ìˆëŠ” podë§Œ ì„ íƒí•˜ì—¬ ì„œë¹„ìŠ¤ì— ë¬¶ê²Œ ëœë‹¤. ","date":"2018-12-20","objectID":"/basic/:4:0","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"name space ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëŠ” í•œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë‚´ì˜ ë…¼ë¦¬ì ì¸ ë¶„ë¦¬ë‹¨ìœ„ë¼ê³  ë³´ë©´ ëœë‹¤. ","date":"2018-12-20","objectID":"/basic/:5:0","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"ì»¨íŠ¸ë¡¤ëŸ¬ ì•ì˜ 4ê°œì˜ ê¸°ë³¸ì˜¤ë¸Œì íŠ¸ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ì •í•˜ê³  ë°°í¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. ì´ë¥¼ ë” í¸í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì»¨íŠ¸ë¡¤ëŸ¬ ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•œë‹¤. Repication controller ì§€ì •ëœ ìˆ«ìë¡œ podë¥¼ ê¸°ë™ ì‹œí‚¤ê³  ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤. Replicaset replication controllerì˜ ìƒˆë²„ì „ì´ë¼ ìƒê°í•˜ë©´ëœë‹¤. Deployment Replication controllerì™€ Replica Setì˜ ì¢€ë” ìƒìœ„ ì¶”ìƒí™” ê°œë…ì´ë‹¤. ì‹¤ì œ ìš´ì˜ì€ ì´ë¥¼ ë§ì´ ì‚¬ìš©í•œë‹¤. ","date":"2018-12-20","objectID":"/basic/:6:0","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"ê³ ê¸‰ ì»¨íŠ¸ë¡¤ëŸ¬ RC,RS,DeploymentëŠ” ì›¹ì„œë²„ì™€ ê°™ì€ ì¼ë°˜ì ì¸ ì›Œí¬ë¡œë“œì— ëŒ€í•´ podë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì»¨íŠ¸ë¡¤ëŸ¬ì´ë‹¤. ì‹¤ì œ ìš´ì˜í™˜ê²½ì—ì„œëŠ” ì›¹ì„œë²„ì™€ ê°™ì€ ì¼ë°˜ì ì¸ ì›Œí¬ë¡œë“œ ì´ì™¸ì—, ë°ì´íƒ€ë² ì´ìŠ¤, ë°°ì¹˜ ì‘ì—…, ë°ëª¬ ì„œë²„ì™€ ê°™ì´ ë‹¤ì–‘í•œ í˜•íƒœì˜ ì›Œí¬ë¡œë“œ ëª¨ë¸ì´ ì¡´ì¬í•œë‹¤. ","date":"2018-12-20","objectID":"/basic/:7:0","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"Daemonset podê°€ ê°ê°ì˜ ë…¸ë“œì—ì„œ í•˜ë‚˜ì”©ë§Œ ëŒê²Œ í•˜ëŠ” í˜•íƒœë¡œ Podë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ì´ë‹¤. RCë‚˜ RSì— ì˜í•´ì„œ ê´€ë¦¬ë˜ëŠ” PodëŠ” ì—¬ëŸ¬ ë…¸ë“œì˜ ìƒí™©ì— ë”°ë¼ ì¼ë°˜ì ìœ¼ë¡œ ë¹„ê· ë“±ì ìœ¼ë¡œ ë°°í¬ê°€ ë˜ì§€ë§Œ, DSì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” podëŠ” ëª¨ë“  ë…¸ë“œì— ê· ë“±í•˜ê²Œ í•˜ë‚˜ì”©ë§Œ ë°°í¬ ëœë‹¤. ì´ëŸ° í˜•íƒœì˜ ì›Œí¬ë¡œë“œëŠ” ì„œë²„ì˜ ëª¨ë‹ˆí„°ë§ì´ë‚˜ ë¡œê·¸ ìˆ˜ì§‘ ìš©ë„ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ”ë°, DSì˜ ë‹¤ë¥¸ íŠ¹ì§•ì¤‘ í•˜ë‚˜ëŠ”, íŠ¹ì • Nodeë“¤ì—ë§Œ Podê°€ í•˜ë‚˜ì”©ë§Œ ë°°í¬ ë˜ë„ë¡ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤. ë˜í•œ DSëŠ” íŠ¹ì • ë…¸ë“œì—ë§Œ podë¥¼ ë°°í¬í•  ìˆ˜ ìˆë„ë¡, podì˜ node selectorë¥¼ ì´ìš©í•´ì„œ ë¼ë²¨ì„ ì´ìš©í•˜ì—¬ íŠ¹ì • ë…¸ë“œë§Œì„ ì„ íƒí•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤. ","date":"2018-12-20","objectID":"/basic/:7:1","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"Job ì›Œí¬ë¡œë“œ ëª¨ë¸ì¤‘ì—ì„œ ë°°ì¹˜ë‚˜ í•œë²ˆ ì‹¤í–‰ë˜ê³  ëë‚˜ëŠ” í˜•íƒœì˜ ì‘ì—…ì´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì›íƒ€ì„ìœ¼ë¡œ íŒŒì¼ ë³€í™˜ ì‘ì—…ì„ í•˜ê±°ë‚˜, ë˜ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ETL ë°°ì¹˜ ì‘ì—…ì„ í•˜ëŠ” ê²½ìš°ì—ëŠ” ì›¹ì„œë²„ ì²˜ëŸ¼ ê³„ì† podê°€ ë–  ìˆì„ í•„ìš”ì—†ì´ ì‘ì—…í• ë•Œë§Œ podë¥¼ ë„ìš°ë©´ëœë‹¤. ì´ë¥¼ ì§€ì›í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ jobì´ë¼í•œë‹¤. Jobì„ ì •ì˜í• ë•ŒëŠ” ë³´í†µ ì•„ë˜ì™€ ê°™ì´ ì»¨í…Œì´ë„ˆ ìŠ¤í™ ë¶€ë¶„ì— imageë¿ë§Œ ì•„ë‹ˆë¼ ì»¨í…Œì´ë„ˆì—ì„œ Jobì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•œë‹¤. apiVersion:batch/v1kind:Jobmetadata:name:pispec:template:spec:containers:- name:piimage:perlcommand:[\"perl\",\"-Mbignum=bpi\",\"-wle\",\"print bpi(2000)\"]restartPolicy:NeverbackoffLimit:4 Job ì»¨íŠ¸ë¡¤ëŸ¬ì— ì˜í•´ì„œ ì‹¤í–‰ëœ podëŠ” commandì˜ ì‹¤í–‰ ê²°ê³¼ì— ë”°ë¼ì„œ jobì´ ì‹¤íŒ¨í•œì§€ ì„±ê³µí•œì§€ë¥¼ íŒë‹¨í•œë‹¤. ë§Œì•½ Jobì´ ëë‚˜ê¸°ì „ì— ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœë‹¤ë©´? RC/RSì— ì˜í•´ì„œ ê´€ë¦¬ ë˜ê³  ìˆë‹¤ë©´ ê³„ì† ìƒì„±ë ê²ƒì´ë‹¤. ì¥ì• ì‹œ ë‹¤ì‹œ ì‹œì‘í•˜ê²Œ í•˜ê±°ë‚˜ ë˜ëŠ” ì¥ì• ì‹œ ë‹¤ì‹œ ì‹œì‘í•˜ì§€ ì•Šê²Œ í•  ìˆ˜ ìˆë‹¤. ","date":"2018-12-20","objectID":"/basic/:7:2","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"Cron job unix cron ì²˜ëŸ¼ ì‹œê°„ì— ë”°ë¥¸ ì‹¤í–‰ì¡°ê±´ì„ ì •ì˜í•´ë†“ì„ ìˆ˜ ìˆê³ , ì´ì— ë”°ë¼ job ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‹¤í–‰í•˜ì—¬, ì •ì˜ëœ podë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•œë‹¤. apiVersion:batch/v1beta1kind:CronJobmetadata:name:hellospec:schedule:\"*/1 * * * *\"jobTemplate:spec:template:spec:containers:- name:helloimage:busyboxargs:- /bin/sh- -c- date; echo Hello from the Kubernetes clusterrestartPolicy:OnFailure ë‹¤ë¥¸ ì ì€ cronjob ìŠ¤í™ ì„¤ì • ë¶€ë¶„ì— schedule ì´ë¼ëŠ” í•­ëª©ì´ ìˆê³  ë°˜ë³µ ì¡°ê±´ì„ unix cronê³¼ ê°™ì´ ì„¤ì •í•˜ë©´ ëœë‹¤. ","date":"2018-12-20","objectID":"/basic/:7:3","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["kubernetes"],"content":"Statefulset RS/RCë‚˜ ë‹¤ë¥¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œëŠ” ë°ì´íƒ€ë² ì´ìŠ¤ì™€ ê°™ì´ ìƒíƒœë¥¼ ê°€ì§€ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê´€ë¦¬í•˜ê¸°ê°€ ì–´ë µë‹¤. ê·¸ë˜ì„œ ì´ë ‡ê²Œ ë°ì´íƒ€ ë² ì´ìŠ¤ë“±ê³¼ ê°™ì´ ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆëŠ” Podë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ì„œ Statefulsetì´ë¼ëŠ” ê²ƒì´ ì†Œê°œ ë˜ì—ˆëŠ”ë° ë³¼ë¥¨í• ë•Œ ë‹¤ì‹œ ë³¸ë‹¤. ","date":"2018-12-20","objectID":"/basic/:7:4","tags":["kubernetes"],"title":"Kubernetes basics","uri":"/basic/"},{"categories":["blockchain"],"content":"ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë ‰íŠ¸ë¥¼ ì‰½ê²Œ ë°°í¬í•˜ê¸° ìœ„í•´ì„œ truffleë¥¼ ì‚¬ìš©í•´ë³´ì. truffle init ì´ˆê¸°í™” ì™„ë£Œë˜ë©´ contracts, test, migrations í´ë”ê°€ ìƒì„±ë˜ê³  truffle.js, truffle-config.jsê°€ ìƒì„±ëœë‹¤. contracts í´ë”ì—ëŠ” solidityì–¸ì–´ë¡œ ì‘ì„±í•œ ì»¨íŠ¸ë™íŠ¸ë“¤ì„ ë‘ëŠ”ê³³ ì´ë‹¤. testí´ë”ì—ëŠ” ì»¨íŠ¸ë™íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ ì‚¬ìš©í•˜ëŠ” íŒŒì¼ì„ ë‘ëŠ” ê³³ì´ë‹¤. truffle.jsëŠ” íŠ¸ëŸ¬í”Œì—ì„œ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•  ë„¤íŠ¸ì›Œí¬ ì„¤ì •, ì»´íŒŒì¼ëŸ¬ ì–¸ì–´ ì„¤ì •ë“± íŠ¸ëŸ¬í”Œê³¼ ê´€ë ¨ëœ ì„¤ì •ì„ í•˜ëŠ” íŒŒì¼ì´ë‹¤. truffle-config.js íŒŒì¼ì€ truffle.jsë¥¼ ì„¤ì •í•  ì˜ˆì‹œë¥¼ ë³´ì—¬ì£¼ëŠ” íŒŒì¼ì´ë‹¤. ","date":"2018-08-05","objectID":"/ethereum-dapp5/:0:0","tags":["blockchain","ethereum"],"title":"Deploying smart contracts with truffle","uri":"/ethereum-dapp5/"},{"categories":["blockchain"],"content":"íŠ¸ëŸ¬í”Œ ì„¤ì •í•˜ê¸° truffle.js module.exports = { // See \u003chttp://truffleframework.com/docs/advanced/configuration\u003e // to customize your Truffle configuration! networks: { development: { host: \"172.17.0.6\", port: \"8545\", network_id: \"*\", } } }; geth ì‹¤í–‰ì‹œì— ì„¤ì •í•œ ê°’ë“¤ì„ ì§‘ì–´ ë„£ê³  ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ì truffle console ë˜ëŠ” truffle console -network development gethëŠ” ë‹¹ì—°íˆ êµ¬ë™ ìƒíƒœì—¬ì•¼í•œë‹¤. truffle(development)\u003e web3.eth.coinbase '0xff53da3bf5403bbe86117a65db3c1e93f8adb9d5' coinbase ì£¼ì†Œê°€ ë‚˜ì˜¤ë©´ ì˜ ëœê±°ë‹¤. ","date":"2018-08-05","objectID":"/ethereum-dapp5/:1:0","tags":["blockchain","ethereum"],"title":"Deploying smart contracts with truffle","uri":"/ethereum-dapp5/"},{"categories":["blockchain"],"content":"ì»¨íŠ¸ë™íŠ¸ ì»´íŒŒì¼ íŠ¸ëŸ¬í”Œì—ì„œ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì»´íŒŒì¼ í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. truffle compile contracts/ í´ë” ì•ˆì— ë“¤ì–´ìˆëŠ” ëª¨ë“  íŒŒì¼ì´ ì»´íŒŒì¼ ì§„í–‰ëœë‹¤. ì „ì— ì‘ì„±í–ˆë˜ simple.solì„ ì»´íŒŒì¼í•´ë³´ì. pragma solidity ^0.4.23; contract Simple { uint256 data; function set (uint256 _data)public { data = _data; } function get()public view returns(uint256){ return data; } } root@d08fa5cce2b8:/home/truffle_example# truffle compile Compiling ./contracts/Migrations.sol... Compiling ./contracts/simple.sol... Writing artifacts to ./build/contracts buildí´ë”ë¥¼ ë§Œë“¤ê³  í•´ë‹¹ í´ë”ì— ì»´íŒŒì¼ì´ ì™„ë£Œëœ ì •ë³´ê°€ ë‹´ê²¨ìˆëŠ” íŒŒì¼ë“¤ì´ ìƒì„±ëœë‹¤. build/contracts í´ë”ê°€ ìƒì„±ë˜ê³  jsoníŒŒì¼ì´ ìƒì„±ëœê±¸ ë³¼ ìˆ˜ ìˆë‹¤. ","date":"2018-08-05","objectID":"/ethereum-dapp5/:2:0","tags":["blockchain","ethereum"],"title":"Deploying smart contracts with truffle","uri":"/ethereum-dapp5/"},{"categories":["blockchain"],"content":"ì»¨íŠ¸ë™íŠ¸ ë°°í¬í•˜ê¸° ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•˜ê¸° ìœ„í•´ì„œëŠ” migrationsí´ë”ì— ë°°í¬í•  ì»¨íŠ¸ë™íŠ¸ì— ë§ê²Œ íŒŒì¼ì„ í•˜ë‚˜ ì‘ì„±í•´ì•¼í•œë‹¤. migrationsí´ë” ì•ˆì—ëŠ” 1_inital_migration.js íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ë° ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•˜ê¸° ìœ„í•´ì„œëŠ” artifacts.require()ë¡œ ë°°í¬ë¥¼ ì›í•˜ëŠ” ì»¨íŠ¸ë™íŠ¸ì˜ ì •ë³´ë¥¼ íšë“ í•œ í›„ deployer.deploy()ë¥¼ ì‚¬ìš©í•´ì„œ ë°°í¬ë¥¼ í•˜ëŠ” ê³¼ì •ì„ì„ ì•Œ ìˆ˜ ìˆë‹¤. ìˆ˜ì •ì•ˆí•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤. 2_inital_migration.js íŒŒì¼ì„ ìƒì„±í•˜ê³  var Simple = artifacts.require(\"Simple\"); module.exports = function(deployer) { deployer.deploy(Simple); }; ì‘ì„±í•´ì£¼ê³  ë°°í¬ë¥¼ í•´ë³´ì.! gethëŠ” miner.start()ë¡œ ì±„êµ´ì‹œì‘í•˜ê³  truffle migrate Using network 'development'. Running migration: 1_initial_migration.js Deploying Migrations... ... 0x896fe9568a631ba698daf89a6f8d2dbef1fe286f24c9e228ba58cc8d03134e33 Migrations: 0x9d5d062e7cd54ce3b22f79e9433d41cdc8c253bb Saving successful migration to network... ... 0x003250f43b24e185b6869feda9f1b1f1778f29aa1f3ac9add8115da18d449aa4 Saving artifacts... Running migration: 2_initial_migration.js Deploying Simple... ... 0x4be336fbffff3ee8ec8ecd3eb8fee0c4bae0b913d032b2ac00dd95ad1861a81c Simple: 0x0d5c931ba28407a74e589940c1538792b017e6b2 Saving successful migration to network... ... 0x38f8ec8bd3de407410285d3aec267a989c038e049079ab793bc649458d129155 Saving artifacts... ì´ëŸ° ì‹ì˜ ê²°ê³¼ê°€ ë‚˜ì˜¤ë©´ ì„±ê³µì´ë‹¤. gas limit ì—ëŸ¬ê°€ ëœ¨ë©´ truffle.jsì˜ ë‚´ìš©ì„ module.exports = { // See \u003chttp://truffleframework.com/docs/advanced/configuration\u003e // to customize your Truffle configuration! networks: { development: { host: \"172.17.0.6\", port: \"8545\", network_id: \"*\", gas: 2342414, } } }; ë‹¤ìŒê³¼ ê°™ì´ gasë¥¼ ì¶”ê°€í•´ì£¼ê³  ì–´ì¹´ìš´íŠ¸ ë½ ì—ëŸ¬ê°€ ë‚˜ë©´ ì–¸ë½ì„ í•´ì£¼ë©´ëœë‹¤. ","date":"2018-08-05","objectID":"/ethereum-dapp5/:2:1","tags":["blockchain","ethereum"],"title":"Deploying smart contracts with truffle","uri":"/ethereum-dapp5/"},{"categories":["blockchain"],"content":"ì»¨íŠ¸ë™íŠ¸ ì‚¬ìš©í•˜ê¸° truffle console ë“¤ì–´ê°€ì„œ Simple.deployed().then((instance)=\u003e{return instance.get.call()}).then((result) =\u003e { data = result }); ë¥¼ ì…ë ¥í•´ data ë³€ìˆ˜ì— ì»¨íŠ¸ë™íŠ¸ì— ì €ì¥ëœ ê°’ì„ ì €ì¥í•œë‹¤. data.toNumber() 0ì˜ ê°’ì´ ì¶œë ¥ë˜ë©´ ì„±ê³µ !! Simple.deployed()ë¥¼ í˜¸ì¶œí•˜ë©´ ë°°í¬ëœ simple ì»¨íŠ¸ë™íŠ¸ì˜ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤. í•´ë‹¹ ê°ì²´ë¥¼ instance ë³€ìˆ˜ë¡œ ë°›ê³  getí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ ì»¨íŠ¸ë™íŠ¸ì— ì €ì¥ëœ ë³€ìˆ˜ì˜ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. ì»¨íŠ¸ë™íŠ¸ì´ë¦„.deployed()ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ”ì  ê¸°ì–µí•˜ê¸°. set í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ë³€ìˆ˜ì— ë°ì´í„°ë¥¼ ì €ì¥í•´ë³´ì. Simple.deployed().then((instance) =\u003e { return instance.set(100) }) ì œëŒ€ë¡œ ìˆ˜í–‰ì´ ë˜ë©´ gethì— ì •ë³´ê°€ ì¶œë ¥ëœë‹¤. \u003e INFO [09-01|10:49:03.989] Submitted transaction fullhash=0xd901f598d41332a4a292bca74874c335672f26588bdd3567bd499d51f3626e5c recipient=0x0d5c931bA28407A74E589940c1538792b017e6B2 ì´ì œ miningì„ í•˜ê³  getí•¨ìˆ˜ë¥¼ ì‹¤í–‰ í•´ë³´ì. Simple.deployed().then((instance)=\u003e{return instance.get.call()}).then((result) =\u003e { data = result }); data.toNumber(); 100ì´ ì¶œë ¥ ë˜ë©´ ì„±ê³µì´ë‹¤ ! ex) Voting.deployed().then((instance)=\u003e{return instance.getNumOfCandidates.call()}).then((result) =\u003e {data = result}); data.toNumber() truffle(development)\u003e Voting.deployed().then((instance)=\u003e{return instance.addCandidate(0xc75711ce6897078ffd6af868fda11c8e9f0fc311,0xc75711ce6897078ffd6af868fda11c8e9f0fc312)}) { tx: '0xb5adb6bd95815ffacd1197bc68685cbea87b92dc62fd6cd03997e756d8e43259', receipt: { blockHash: '0x0047122a32f44fb2a200fc9cc7f30e89dd7501989b288e10a7e6fffd22dd70b0', blockNumber: 339, contractAddress: null, cumulativeGasUsed: 90823, from: '0xff53da3bf5403bbe86117a65db3c1e93f8adb9d5', gasUsed: 90823, logs: [ [Object] ], logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000001000000000000000000000080000000008000000000000000000000000000000000000000000000000000000', root: '0x774c811955165298d0d2271c4285144f9915ec111749c1988c800df0c3a8aaa1', to: '0x5f9431c70262d23273f4d9ddb4f15d3906497dc9', transactionHash: '0xb5adb6bd95815ffacd1197bc68685cbea87b92dc62fd6cd03997e756d8e43259', transactionIndex: 0 }, logs: [ { address: '0x5f9431c70262d23273f4d9ddb4f15d3906497dc9', blockNumber: 339, transactionHash: '0xb5adb6bd95815ffacd1197bc68685cbea87b92dc62fd6cd03997e756d8e43259', transactionIndex: 0, blockHash: '0x0047122a32f44fb2a200fc9cc7f30e89dd7501989b288e10a7e6fffd22dd70b0', logIndex: 0, removed: false, event: 'AddedCandidate', args: [Object] } ] } unlock personal.unlockAccount(\"0x6ea45f74c9803a9c3403c400975424e5825dfb70\") ","date":"2018-08-05","objectID":"/ethereum-dapp5/:3:0","tags":["blockchain","ethereum"],"title":"Deploying smart contracts with truffle","uri":"/ethereum-dapp5/"},{"categories":["blockchain"],"content":"node.jsì˜ web3ë¥¼ ì´ìš©í•´ì„œ ethereum networkë¥¼ webì—ì„œ ì ‘ì†í•´ë³´ì. ","date":"2018-08-04","objectID":"/ethereum-dapp4/:0:0","tags":["blockchain","ethereum"],"title":"Connecting to ethereum network using web3","uri":"/ethereum-dapp4/"},{"categories":["blockchain"],"content":"eth ì»¨í…Œì´ë„ˆ ì¼ë‹¨ eth node ì— gethë¥¼ ì‹¤í–‰ì‹œì¼œë†”ì•¼í•œë‹¤. geth --datadir \"./data\" --identity \"mynetwork\" --networkid 1988 --rpc --rpcport 8545 --rpcapi \"db,net,web3,eth,personal\" --rpccorsdomain \"*\" --rpcaddr \"0.0.0.0\" --rpcvhosts=* --nodiscover console ê·¸ëŸ¼ web3 8545 í¬íŠ¸ë¡œ rpcì ‘ì† ê°€ëŠ¥í•˜ë‹¤. ","date":"2018-08-04","objectID":"/ethereum-dapp4/:0:1","tags":["blockchain","ethereum"],"title":"Connecting to ethereum network using web3","uri":"/ethereum-dapp4/"},{"categories":["blockchain"],"content":"node.js ì»¨í…Œì´ë„ˆ docker node.js ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê³  $ npm install web3 --save $ npm install ethereum/web3.js --save ë‘ê°œì˜ npmëª¨ë“ˆ ì„¤ì¹˜í•˜ê³  var Web3 = require(\"web3\"); web3 = new Web3(new Web3.providers.HttpProvider(\"http://relaxed_lamport:8545\")); var network_version = web3.version.network; console.log(network_version); ì´ ì½”ë“œë¥¼ app.jsì— ë„£ê³  ì‹¤í–‰í•˜ë©´ network_version ( 1988 )ì´ ì˜ ì¶œë ¥ëœë‹¤. ë‚´ê°€ 1988ì´ë¼ ì„¤ì •í•´ì¤¬ìœ¼ë¯€ë¡œ eth gethì—ì„œ .. Network versionNetwork version \" Network version ","date":"2018-08-04","objectID":"/ethereum-dapp4/:0:2","tags":["blockchain","ethereum"],"title":"Connecting to ethereum network using web3","uri":"/ethereum-dapp4/"},{"categories":["blockchain"],"content":"ì´ë” ì „ì†¡í•˜ê¸° var accounts = web3.eth.accounts; //account ì •ë³´ ê°€ì ¸ì˜¤ê¸° var from_account = accounts[0]; var to_account = accounts[1]; var transactionObj = { //transaction object ì„¤ì • from: from_account, to:to_account, value: 1000 }; web3.eth.sendTransaction(transactionObj) app.js ì— ì´ ë¶€ë¶„ì„ ì¶”ê°€ í•´ì¤€ë‹¤. ê·¸ì „ì— gethì—ì„œ **personal.unlockAccount(eth.accounts[0])**ë¥¼ ì‹¤í–‰ì‹œì¼œì¤˜ì•¼í•œë‹¤. ì´ê²ƒë„ webì—ì„œ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì°¾ì•„ì•¼ í•  ê²ƒì´ë‹¤. TransactionTransaction \" Transaction ìœ„ê°€ geth , ë°‘ì—ê°€ node.js ì´ë‹¤. ì˜ ì „ì†¡ë˜ëŠ”ê²ƒì„ í™•ì¸í–ˆë‹¤. í•˜ì§€ë§Œ ì•„ì§ ì „ì†¡ì´ ë˜ì§€ì•Šì•˜ë‹¤. ì™œëƒí•˜ë©´ ë¸”ëŸ­ì„ ìƒì„± ì•ˆí–ˆê¸° ë–„ë¬¸ì—.. gethì—ì„œ miner.start()ë¥¼ ì‹¤í–‰í•´ì¤€ë‹¤. ","date":"2018-08-04","objectID":"/ethereum-dapp4/:0:3","tags":["blockchain","ethereum"],"title":"Connecting to ethereum network using web3","uri":"/ethereum-dapp4/"},{"categories":["blockchain"],"content":"web3ì—ì„œ ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ì‚¬ìš©í•˜ê¸° ë¨¼ì € ì´ì „ì— ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°°í¬ê°€ ì´ë£¨ì–´ì§„ í›„ì— ì´ë£¨ì–´ì ¸ì•¼í•œë‹¤. ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ addressë¥¼ ì•Œì•„ì•¼í•˜ê¸° ë•Œë¬¸ì—.. app.jsì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤. var contractAbi = [{\"constant\":false, \"inputs\":[{\"name\":\"_data\", \"type\":\"uint256\"}],\"name\":\"set\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"get\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]; var contractAddress = \"0xab2274abf1e4712bba53ffba1c53ba1e54fbeb4d\"; var contract = web3.eth.contract(contractAbi); var contractInstance = contract.at(contractAddress); var result = contractInstance.get(); console.log(result.toString()); var contractAddressëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œì´ë‹¤. root@84b8979094ea:/home/web# node app.js 1988 1000 1000ì´ ì˜ ì¶œë ¥ëœë‹¤. ","date":"2018-08-04","objectID":"/ethereum-dapp4/:0:4","tags":["blockchain","ethereum"],"title":"Connecting to ethereum network using web3","uri":"/ethereum-dapp4/"},{"categories":["blockchain"],"content":"ì´ì „ì— ë§Œë“¤ì—ˆë˜ ethereum networkì— ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•´ë³´ì. $ apt-get install solc $ solc --version simple.sol ê°™ì€ íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ pragma solidity ^0.4.11; contract Simple{ uint256 data; function get() constant public returns(uint256) { return data; } function set (uint256 _data) public{ data= _data; } } ê°™ì´ ì €ì¥í•˜ê³  ì»´íŒŒì¼í•œë‹¤. $ solc simple.sol ì„±ê³µí–ˆìœ¼ë©´ ì•„ë¬´ëŸ° ê²°ê³¼ê°€ ì•ˆë‚˜ì˜¨ë‹¤. ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°°í¬í• ë•Œ í•„ìš”í•œ ê²ƒì´ abi bin ì´ë‹¤. root@9b88624ec1c4:/home# solc --abi simple.sol ======= simple.sol:Simple ======= Contract JSON ABI [{\"constant\":false,\"inputs\":[{\"name\":\"_data\",\"type\":\"uint256\"}],\"name\":\"set\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"get\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}] root@9b88624ec1c4:/home# solc --bin simple.sol ======= simple.sol:Simple ======= Binary: 608060405234801561001057600080fd5b5060df8061001f6000396000f3006080604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806360fe47b114604e5780636d4ce63c146078575b600080fd5b348015605957600080fd5b5060766004803603810190808035906020019092919050505060a0565b005b348015608357600080fd5b50608a60aa565b6040518082815260200191505060405180910390f35b8060008190555050565b600080549050905600a165627a7a72305820d55de6a6db862805a1312cf86887b07129afb5bd7a1313a1322c90bc1cb2a5070029 ì´ê±¸ ì ì–´ë„£ê³  gethë¥¼ ì‹¤í–‰í•œë‹¤. \u003e var simpleAbi = [{\"constant\":false,\"inputs\":[{\"name\":\"_data\",\"type\":\"uint256\"}],\"name\":\"set\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"get\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}] ìœ„ì˜ ê°’ì„ ì…ë ¥í•´ì¤€ë‹¤. \u003e simpleAbi [{ constant: false, inputs: [{ name: \"_data\", type: \"uint256\" }], name: \"set\", outputs: [], payable: false, stateMutability: \"nonpayable\", type: \"function\" }, { constant: true, inputs: [], name: \"get\", outputs: [{ name: \"\", type: \"uint256\" }], payable: false, stateMutability: \"view\", type: \"function\" }] ì˜ë‚˜ì˜¨ë‹¤. binarycodeë„ ì„¤ì •í•´ì¤˜ì•¼í•œë‹¤. ìœ ì˜í• ì ì€ 16ì§„ìˆ˜ì„ì„ ì•Œë ¤ì£¼ê¸°ìœ„í•´ ì•ì— 0x ë¥¼ ì¶”ê°€í•œë‹¤. \u003e var simpleBin = \"0x608060405234801561001057600080fd5b5060df8061001f6000396000f3006080604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806360fe47b114604e5780636d4ce63c146078575b600080fd5b348015605957600080fd5b5060766004803603810190808035906020019092919050505060a0565b005b348015608357600080fd5b50608a60aa565b6040518082815260200191505060405180910390f35b8060008190555050565b600080549050905600a165627a7a72305820d55de6a6db862805a1312cf86887b07129afb5bd7a1313a1322c90bc1cb2a5070029\" undefined \u003e simpleBin \"0x608060405234801561001057600080fd5b5060df8061001f6000396000f3006080604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806360fe47b114604e5780636d4ce63c146078575b600080fd5b348015605957600080fd5b5060766004803603810190808035906020019092919050505060a0565b005b348015608357600080fd5b50608a60aa565b6040518082815260200191505060405180910390f35b8060008190555050565b600080549050905600a165627a7a72305820d55de6a6db862805a1312cf86887b07129afb5bd7a1313a1322c90bc1cb2a5070029\" ì˜ë˜ì—ˆë‹¤. ì´ì œ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ì. eth.contract()ë¥¼ ì´ìš©í•´ abië¥¼ ì„¤ì •í•´ì¤˜ì•¼í•œë‹¤. ê·¸ í›„ì— ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•˜ëŠ” ê³„ì¢Œê°€ ëˆ„êµ¬ì¸ì§€, ì–¼ë§ˆë§Œí¼ ê°€ìŠ¤ë¥¼ ì†Œë¹„í•  ê²ƒì¸ì§€, ë°°í¬í•  ì»¨íŠ¸ë™íŠ¸ì˜ ë°ì´í„°ê°€ ë¬´ì—‡ì¸ì§€ ëª…ì‹œí•´ì¤˜ì•¼í•œë‹¤. \u003e var simpleContract = eth.contract(simpleAbi) undefined \u003e var simpleTransferObject = {from: eth.accounts[0], data: simpleBin, gas: 2000000}; undefined ë°°í¬í•˜ê¸°ì „ì— ì²«ë²ˆì§¸ ê³„ì¢Œì—ì„œ ê°€ìŠ¤ë¥¼ ì†Œë¹„í•´ì•¼í•˜ë‹ˆ ë½ì„ í’€ì–´ì£¼ì personal.unlockAccount(eth.accounts[0]); simpleContract.new(simpleTransferObject)ë¥¼ ì…ë ¥í•˜ë©´ ë°°í¬ê°€ ì‹œì‘ëœë‹¤. \u003e var contractObj = simpleContract.new(simpleTransferObject); INFO [08-25|05:22:07.056] Submitted contract creation fullhash=0x788543be4447cee4f518fdc077d20c88b69a7993d4d0358794a1b46a810134d6 contract=0xAB2274abf1E4712BBA53FfBA1C53bA1e54fbeb4d undefined contractObj ê°ì²´ë¥¼ í†µí•´ ì»¨íŠ¸ë™íŠ¸ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. \u003e contractObj { abi: [{ constant: false, inputs: [{...}], name: \"set\", outputs: [], payable: false, stateMutability: \"nonpayable\", type:","date":"2018-08-03","objectID":"/ethereum-dapp3/:0:0","tags":["blockchain","ethereum"],"title":"Deploy smart contract","uri":"/ethereum-dapp3/"},{"categories":["blockchain"],"content":"ë°°í¬ëœ ì»¨íŠ¸ë™íŠ¸ ì‚¬ìš©í•˜ê¸° ë°°í¬ëœ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì»¨íŠ¸ë™íŠ¸ì˜ abiì™€ ì£¼ì†Œê°’ì´ í•„ìš”í•˜ë‹¤. eth.contract í•¨ìˆ˜ì— abiê°’ì„ ì¸ìë¡œ ë„˜ê²¨ì¤€ë‹¤. \u003e contract2 = eth.contract([{\"constant\":false,\"inputs\":[{\"name\":\"_data\",\"type\":\"uint256\"}],\"name\":\"set\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"get\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}] ... ) { abi: [{ constant: false, inputs: [{...}], name: \"set\", outputs: [], payable: false, stateMutability: \"nonpayable\", type: \"function\" }, { constant: true, inputs: [], name: \"get\", outputs: [{...}], payable: false, stateMutability: \"view\", type: \"function\" }], eth: { accounts: [\"0x241530b417837cdcce8036a7b7f095995509d5c9\", \"0xca09b7785f4179988e14ee87cfe7e93933a002c7\"], blockNumber: 24, coinbase: \"0x241530b417837cdcce8036a7b7f095995509d5c9\", compile: { lll: function(), serpent: function(), solidity: function() }, defaultAccount: undefined, defaultBlock: \"latest\", gasPrice: 18000000000, hashrate: 0, mining: false, pendingTransactions: [], protocolVersion: \"0x3f\", syncing: false, call: function(), contract: function(abi), estimateGas: function(), filter: function(options, callback, filterCreationErrorCallback), getAccounts: function(callback), getBalance: function(), getBlock: function(), getBlockNumber: function(callback), getBlockTransactionCount: function(), getBlockUncleCount: function(), getCode: function(), getCoinbase: function(callback), getCompilers: function(), getGasPrice: function(callback), getHashrate: function(callback), getMining: function(callback), getPendingTransactions: function(callback), getProtocolVersion: function(callback), getRawTransaction: function(), getRawTransactionFromBlock: function(), getStorageAt: function(), getSyncing: function(callback), getTransaction: function(), getTransactionCount: function(), getTransactionFromBlock: function(), getTransactionReceipt: function(), getUncle: function(), getWork: function(), iban: function(iban), icapNamereg: function(), isSyncing: function(callback), namereg: function(), resend: function(), sendIBANTransaction: function(), sendRawTransaction: function(), sendTransaction: function(), sign: function(), signTransaction: function(), submitTransaction: function(), submitWork: function() }, at: function(address, callback), getData: function(), new: function() } atí•¨ìˆ˜ì— ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œë¥¼ ì„¤ì •í•˜ë©´ëœë‹¤. \u003e var contractObj2 = contract2.at(\"0xab2274abf1e4712bba53ffba1c53ba1e54fbeb4d\") undefined \u003e contractObj2.get() 1000 ìœ„ì— addressë¥¼ ê°€ì ¸ì™€ì„œ ì‹¤í–‰í•œê²°ê³¼ë¡œ 1000ì´ ì˜ ì¶œë ¥ëœë‹¤. ","date":"2018-08-03","objectID":"/ethereum-dapp3/:0:1","tags":["blockchain","ethereum"],"title":"Deploy smart contract","uri":"/ethereum-dapp3/"},{"categories":["blockchain"],"content":"ì´ì „ì— gethë¡œ ìƒì„±í•œ private netë¥¼ rpc ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ í´ë¼ì´ì–¸íŠ¸ ì•± ì—°ë™ (ethereum wallet)ì„ í•´ë³´ì. ì—°ë™í•  ì•±ì€ remixì´ë‹¤. remixëŠ” ì´ë”ë¦¬ì›€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ì¸ solidity ide íˆ´ì´ë‹¤. ethereum/remix-ide ë‹¤ìš´ì„ ë°›ì•„ì„œ ì••ì¶•ì„ í‘¼ë’¤ index.html ì„ ì‹¤í–‰í•˜ë©´ ëœë‹¤. ë‚˜ëŠ” ë„ì»¤ë¡œ í–ˆê¸° ë•Œë¬¸ì— ì»¨í…Œì´ë„ˆì˜ 80ë²ˆ í¬íŠ¸ë¥¼ ëš«ì–´ì£¼ê³  ì ‘ì†í•˜ì˜€ë‹¤. IDEIDE \" IDE ì»¨í…Œì´ë„ˆ 80 ë²ˆí•˜ê³  hostì˜ 8888ë²ˆ í¬íŠ¸ë¥¼ ì—°ê²°í•´ì„œ ì ‘ì†í•œ ê²°ê³¼ì´ë‹¹ ","date":"2018-08-02","objectID":"/ethereum-dapp2/:0:0","tags":["blockchain","ethereum"],"title":"Preparing for deploy smart contract","uri":"/ethereum-dapp2/"},{"categories":["blockchain"],"content":"ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì‘ì„±í•˜ê¸° ìƒˆë¡œìš´ simple.sol íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ pragma solidity ^0.4.11; contract Simple{ uint256 data; function get() constant public returns(uint256) { return data; } function set (uint256 _data) public{ data= _data; } } ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í–ˆë‹¤. IDEIDE \" IDE ì‘ì„±í›„ ì˜¤ë¥¸ìª½ì— start to compil ì„ ëˆ„ë¥´ë©´ ë°‘ì— ë…¹ìƒ‰ ë°”íƒ•ì˜ simpleì²˜ëŸ¼ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ì´ë¦„ì´ í‘œì‹œëœë‹¤. ","date":"2018-08-02","objectID":"/ethereum-dapp2/:1:0","tags":["blockchain","ethereum"],"title":"Preparing for deploy smart contract","uri":"/ethereum-dapp2/"},{"categories":["blockchain"],"content":"Remixì„ ì´ìš©í•œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ë°°í¬ remixì—ì„œëŠ” ì„¸ ì¢…ë¥˜ì˜ ë°°í¬ ë°©ë²•ì„ ì œê³µí•œë‹¤. run íŒ¨ë„ë¡œ ì´ë™í•´ì„œ environmentë¥¼ í´ë¦­í•´ë³´ë©´ javascript vm , injected Web3 , Web3 provider ê°€ ìˆë‹¤. IDEIDE \" IDE javascript vmì„ ì„ íƒí•˜ë©´ ì´ë”ë¦¬ì›€ ë…¸ë“œ ì—†ì´ ê°€ìƒìœ¼ë¡œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•˜ê³  ì‹¤í–‰í•´ ë³¼ ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ ë°°í¬ í•˜ê¸° ì „ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì¢‹ë‹¤. injected Web3ëŠ” metamaskì™€ ê°™ì€ ë¸Œë¼ìš°ì € í”ŒëŸ¬ê·¸ì¸ê³¼ ì—°ë™í•  ë•Œ ì‚¬ìš©í•œë‹¤. ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ ì•±ê³¼ ì—°ë™í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê±¸ë¡œ ìƒê°í•˜ë©´ ëœë‹¤. web3 providersms private networkì™€ ì—°ë™í•  ëŒ€ ì‚¬ìš©í•˜ëŠ” ì˜µì…˜ì´ë‹¤. ìš°ì„  javascript vmí™˜ê²½ì—ì„œ ì œëŒ€ë¡œ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì. IDEIDE \" IDE javascript vmì„ ì„ íƒí•˜ê³  createë¥¼ ëˆ„ë¥´ë©´ ë°‘ì— get, setí•¨ìˆ˜ê°€ ë‚˜íƒ€ë‚œë‹¤. ë¨¼ì € setì˜†ì— 100ì„ ëˆ„ë¥¸ë‹¤ìŒì— getì„ ëˆ„ë¥´ë©´ 100ì´ ë‚˜ì˜¤ëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤. IDEIDE \" IDE ","date":"2018-08-02","objectID":"/ethereum-dapp2/:1:1","tags":["blockchain","ethereum"],"title":"Preparing for deploy smart contract","uri":"/ethereum-dapp2/"},{"categories":["blockchain"],"content":"private networkì™€ ì—°ê²°í•˜ê³  ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°°í¬í•˜ê³  ì‚¬ìš©í•˜ê¸° remixë¥¼ private networkì™€ ì—°ë™í•˜ê¸° ìœ„í•´ì„œëŠ” networkë¥¼ ì‹¤í–‰ í•  ë•Œ gethì— rpc ì˜µì…˜ì„ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤. ( Ethereum walletê³¼ëŠ” ipcë¥¼ í†µí•´ ì—°ê²° í•œë‹¤.) â€“rpc ëŠ” http-rpc ì„œë²„ë¥¼ ì‚¬ìš©í•˜ê²Œ í•˜ëŠ” ì˜µì…˜ì´ë‹¤. â€“rpcaddrì€ rpcë¡œ ì‚¬ìš©í•˜ëŠ” ì£¼ì†Œë¥¼ ëª…ì‹œí•˜ëŠ” ì˜µì…˜ì´ê³  ê¸°ë³¸ì€ localhostì´ë‹¤. â€“rpcportëŠ” rpcë¡œ ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ë¥¼ ì§€ì •í•˜ëŠ” ì˜µì…˜ì´ë‹¤. ê¸°ë³¸ì€ 8545ì´ë‹¤. â€“rpcapiëŠ” rpcë¡œ ì ‘ì†í•œ ì•±ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” api ì¢…ë¥˜ë¥¼ ì§€ì •í•˜ëŠ” ì˜µì…˜ì´ë‹¤. â€“rpccorsdomainì€ networkì— ì ‘ì†í•  ë„ë©”ì¸ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì´ë‹¤. rpcaadr, rpcportëŠ” ê¸°ë³¸ìœ¼ë¡œ í•˜ê³  rpcapi ëŠ” â€˜db, eth, net, web3â€™ ì„ rpccorsdomainì€ â€œ*â€œì„ ì§€ì •í•œë‹¤. *ëŠ” ëª¨ë“  ë„ë©”ì¸ì—ì„œ ì ‘ê·¼í•˜ê²Œ í•˜ëŠ”ê²ƒì´ë‹¤. ì‹¤ì œë¡œ ì„œë¹„ìŠ¤ í•  ë–„ëŠ” *ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê²Œ ì¢‹ë‹¤. gethë¥¼ ì‹¤í–‰í•œë‹¤. $ geth --datadir \"./data\" --identity \"mynetwork\" --networkid 1988 --rpc --rpcport 8545 --rpcapi \"db,net,web3,eth\" --rpccorsdomain \"*\" --rpcaddr \"0.0.0.0\" console $ geth --datadir \"./data\" --identity \"mynetwork\" --networkid 1988 --rpc --rpcport 8545 --rpcapi \"db,net,web3,eth\" --rpccorsdomain \"*\" --rpcaddr \"0.0.0.0\" console ë‚˜ëŠ” docker ë¡œ í–ˆê¸° ë•Œë¬¸ì— rpcaddr 0.0.0.0ì„ ì¶”ê°€í•´ì¤¬ë‹¤. ì´í›„ remixë¡œ ëŒì•„ì™€ remixì˜ environmentë¥¼ web3 providerë¡œ ë³€ê²½í•œë‹¤. ê·¸ëŸ¬ë©´ IDEIDE \" IDE ë‹¤ìŒê³¼ ê°™ì´ ê²½ê³ ê°€ ëœ¨ê³  okë¥¼ ëˆ„ë¥¸ë‹¤. IDEIDE \" IDE ì£¼ì†Œë¥¼ í™•ì¸í•˜ê³  ok IDEIDE \" IDE ì—°ê²°ì— ì„±ê³µí–ˆë‹¤!! IDEIDE \" IDE í•˜ì§€ë§Œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ë° ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•  ë•ŒëŠ” gasë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ê·¸ë˜ì„œ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•˜ëŠ” ê³„ì¢Œì—ì„œ gasë¥¼ ì†Œë¹„í•  ìˆ˜ ìˆê²Œ ë½ì„ í’€ì–´ì¤˜ì•¼í•œë‹¤. geth ì½˜ì†”ì°½ìœ¼ë¡œ ì´ë™í›„ì— \u003e personal.unlockAccount(eth.accounts[0]) Unlock account 0x0a39454d85c9ff43f5aba2025da36d67ccfa50d9 Passphrase: true ë½ì„ í’€ì–´ì£¼ê³  ë‹¤ì‹œ Remixë¡œ ì´ë™í•´ì„œ createë¥¼ í´ë¦­í•œë‹¤. IDEIDE \" IDE javascript vm í™˜ê²½ì—ì„œ í–ˆë˜ ê²ƒê³¼ ë‹¤ë¥´ê²Œ ë°”ë¡œ ì»¨íŠ¸ë™íŠ¸ê°€ ë°°í¬ë˜ì§€ ì•Šê³  pendingë‹¨ê³„ë¡œ ë¹ ì§€ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì±„êµ´ì„ í•´ì¤˜ì•¼ ë§ˆë¬´ë¦¬ê°€ ë˜ê¸° ë•Œë¬¸ì— gethì— ê°€ì„œ miner.start()ë¥¼ í•´ì¤€ë‹¤. \u003e INFO [08-18|08:26:59.024] Submitted contract creation fullhash=0x7e4c9193d46ec3cfda05dc021d339351fc3a7259ec83fc74e99e602ec5f069e7 contract=0x78dAD2e8384B6ce2052f0626eCb51b6b0A5d77b4 ","date":"2018-08-02","objectID":"/ethereum-dapp2/:1:2","tags":["blockchain","ethereum"],"title":"Preparing for deploy smart contract","uri":"/ethereum-dapp2/"},{"categories":["blockchain"],"content":"dockerë¥¼ ì´ìš©í•´ì„œ ì´ë”ë¦¬ì›€ ë…¸ë“œ 3ê°œì™€ ì›¹ì„œë²„ 1ê°œë¥¼ ë§Œë“¤ê³  ì›¹ì„œë²„ì—ì„œ íšŒì›ê°€ì…ì„ í•˜ê³  íˆ¬í‘œë¥¼ í•˜ëŠ” ì •ë³´ë“¤ì„ ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ì— ì €ì¥ì‹œì¼œë³´ëŠ” ì‹¤ìŠµì„ í•´ë³¸ë‹¤. $ docker pull ubuntu $ docker run -it -p 10001:10001 ubuntu ubuntu osì— ì„¤ì¹˜í•˜ë ¤ê³ í•œë‹¤. ì´ìœ ëŠ” ì„¤ì¹˜í•˜ëŠ” ê³¼ì •ì„ ë³´ì—¬ì£¼ë ¤ê³ â€¦. $ apt-get install software-properties-common $ apt-get install software-properties-common python-software-properties $ add-apt-repository -y ppa:ethereum/ethereum $ apt-get update $ apt-get install ethereum ì´í›„ì— $ geth $ geth version \u003e\u003e\u003e WARN [08-17|08:21:11.660] Sanitizing cache to Go's GC limits provided=1024 updated=666 Geth Version: 1.8.13-stable Git Commit: 225171a4bfcc16bd12a1906b1e0d43d0b18c353b Architecture: amd64 Protocol Versions: [63 62] Network Id: 1 Go Version: go1.10.1 Operating System: linux GOPATH= GOROOT=/usr/lib/go-1.10 ë¼ê³  í•˜ë©´ ì˜ ì‹¤í–‰ ë  ê²ƒì´ë‹¤. ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ geth consoleì— ëª…ë ¹ì–´ë¥¼ ì…ë ¥ í•  ìˆ˜ ìˆë‹¤. $ geth --dev console ì¤€ë¹„í•  ê²ƒì´ 2ê°€ì§€ ìˆë‹¤. private networkì—ì„œ ì‚¬ìš©í•  ê³„ì¢Œ ì œë„¤ì‹œìŠ¤ ë¸”ë¡ ì •ë³´. ","date":"2018-08-01","objectID":"/ethereum-dapp1/:0:0","tags":["blockchain","ethereum"],"title":"Setup private ethereum blockchain network","uri":"/ethereum-dapp1/"},{"categories":["blockchain"],"content":"ê³„ì¢Œ ìƒì„±í•˜ê¸° $ geth --datadir \"./data\" account new â€”datadir ì˜µì…˜ì€ networkê°€ êµ¬ë™ë  ë•Œ ë¸”ë¡ì •ë³´, ê³„ì¢Œì •ë³´ë¥¼ ì €ì¥í•  í´ë”ë¥¼ ì§€ì •í•˜ëŠ” ì˜µì…˜ì´ë‹¤. $ ls data/keystore/ \u003e\u003e\u003e UTC--2018-08-17T08-24-17.766131786Z--49a13ee73d2fc8c1578ce1512530aa1724ee42b7 ê³„ì¢Œì£¼ì†Œ ì¶œë ¥í•˜ê¸° $ geth --datadir \"./data\" account list \u003e\u003e\u003e WARN [08-17|08:26:02.392] Sanitizing cache to Go's GC limits provided=1024 updated=666 INFO [08-17|08:26:02.392] Maximum peer count ETH=25 LES=0 total=25 Account #0: {49a13ee73d2fc8c1578ce1512530aa1724ee42b7} keystore:///home/data/keystore/UTC--2018-08-17T08-24-17.766131786Z--49a13ee73d2fc8c1578ce1512530aa1724ee42b7 ë‹¤ìŒê³¼ ê°™ì´ ì“°ë©´ ìƒì„±ëœ ê³„ì¢Œì˜ ë¦¬ìŠ¤íŠ¸ê°€ ì¶œë ¥ëœë‹¤. ","date":"2018-08-01","objectID":"/ethereum-dapp1/:1:0","tags":["blockchain","ethereum"],"title":"Setup private ethereum blockchain network","uri":"/ethereum-dapp1/"},{"categories":["blockchain"],"content":"ì œë„¤ì‹œìŠ¤ ë¸”ë¡ ìƒì„±í•˜ê¸° private networkë¥¼ êµ¬ë™í•˜ê¸° ìœ„í•´ì„œëŠ” ì²« ë²ˆì§¸ ë¸”ë¡ì„ ìƒì„±í•´ì•¼í•œë‹¤. { \"config\": { \"chainId\": 15, \"homesteadBlock\": 0, \"eip155Block\": 0, \"eip158Block\": 0 }, \"difficulty\": \"200000000\", \"gasLimit\": \"2100000\", â€œcoinbaseâ€: \"0x{ìœ„ì— ìƒì„±í•œ ê³„ì¢Œì£¼ì†Œ}\", \"alloc\": { \"0x{ìœ„ì— ìƒì„±í•œ ê³„ì¢Œì£¼ì†Œ}\": { \"balance\": \"1000000000000000000000000\" }, } } ì œë„¤ì‹œìŠ¤ ë¸”ë¡ì„ ë§Œë“¤ë•Œ í•„ìš”í•œ json íŒŒì¼ì˜ êµ¬ì„±ì´ë‹¤. configëŠ” ìƒì„±í•  private networkì˜ ë²„ì „ì„ ì •í•˜ëŠ” ì„¤ì •ì´ë‹¤. chainId, homesteadBlock, eip155Block, eip158Block ëª¨ë‘ ì´ë”ë¦¬ì›€ ì†ì„±ê³¼ ê´€ë ¨ëœ ì„¤ì •ì´ë‹¤. chainIdëŠ” replay protectionì„ ì‚¬ìš©í•˜ëŠ” ì„¤ì •ì´ë‹¤. homesteadëŠ” ì´ë”ë¦¬ì›€ì˜ ë‘ ë²ˆì§¸ ë©”ì¸ ë¦´ë¦¬ì¦ˆë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì„¤ì •í•˜ëŠ” ì†ì„±ì´ê³  0ìœ¼ë¡œ ì„¤ì •í•˜ë©´ í•´ë‹¹ ë¦´ë¦¬ì¦ˆë¥¼ ì‚¬ìš©í•œë‹¤. eip155ì€ gas ë¹„ìš©ì— ê´€ë ¨ëœ í•˜ë“œí¬ì»¤ ì„¤ì •ì´ë©° eip158ì€ state cleanigê³¼ ê´€ë ¨ëœ ì„¤ì •ì´ë‹¤. difficulty ëŠ” ì´ë”ë¦¬ì›€ì—ì„œ ì±„êµ´ì˜ ë‚œì´ë„ë¥¼ ì„¤ì •í•˜ëŠ” ì˜µì…˜ gas limit í•œ ë¸”ë¡ì´ ë‹´ì„ ìˆ˜ ìˆëŠ” gasì˜ ìˆ˜ì¹˜ë¥¼ ë§í•œë‹¤. gas ìˆ˜ì¹˜ê°€ ë†’ì„ ìˆ˜ë¡ í•œ ë¸”ë¡ì´ ë‹´ì„ ìˆ˜ ìˆëŠ” ê±°ë˜ê°€ ë§ì•„ì§„ë‹¤. coinbaseëŠ” networkë¥¼ êµ¬ë™í•  ë•Œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•  ê³„ì¢Œë¥¼ ì„¤ì •í•˜ëŠ” ì˜µì…˜ ( ì±„êµ´í•  ë•Œ ì½”ì¸ì„ ë°›ì„ ê³„ì¢Œ ) alloc ëŠ” private networkë¥¼ êµ¬ë™í•  ë–„ ë¯¸ë¦¬ ê³„ì¢Œì— ì´ë”ë¥¼ì…ê¸ˆ ì‹œí‚¬ì§€ë¥¼ ì„¤ì •í•˜ëŠ” ì˜µì…˜ì´ë‹¤. ì„¤ì •í•˜ê¸° ì›í•˜ëŠ” ê³„ì¢Œì™€ ì´ë” ê°’ì„ ëª…ì‹œí•œë‹¤. ì œë„¤ì‹œìŠ¤ jsoníŒŒì¼ì„ ìƒì„±í›„ $ geth --datadir \"./data\" init \"./genesis.json\" \u003e\u003e\u003e WARN [08-17|08:31:55.253] Sanitizing cache to Go's GC limits provided=1024 updated=666 INFO [08-17|08:31:55.254] Maximum peer count ETH=25 LES=0 total=25 INFO [08-17|08:31:55.254] Allocated cache and file handles database=/home/data/geth/chaindata cache=16 handles=16 INFO [08-17|08:31:55.261] Writing custom genesis block INFO [08-17|08:31:55.261] Persisted trie from memory database nodes=1 size=150.00B time=41.229Âµs gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B INFO [08-17|08:31:55.261] Successfully wrote genesis state database=chaindata hash=e47869â€¦3ca16c INFO [08-17|08:31:55.261] Allocated cache and file handles database=/home/data/geth/lightchaindata cache=16 handles=16 INFO [08-17|08:31:55.264] Writing custom genesis block INFO [08-17|08:31:55.264] Persisted trie from memory database nodes=1 size=150.00B time=37.247Âµs gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B INFO [08-17|08:31:55.265] Successfully wrote genesis state database=lightchaindata hash=e47869â€¦3ca16c ì„±ê³µì ìœ¼ë¡œ genesis blockì´ ìƒì„± ë˜ì—ˆë‹¤ê³  ì¶œë ¥ëœë‹¤. ","date":"2018-08-01","objectID":"/ethereum-dapp1/:2:0","tags":["blockchain","ethereum"],"title":"Setup private ethereum blockchain network","uri":"/ethereum-dapp1/"},{"categories":["blockchain"],"content":"Private network êµ¬ë™í•˜ê¸° ì²« ë²ˆì§¸ ë¸”ë¡ì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ë„¤íŠ¸ì›Œí¬ ì‹¤í–‰í•´ë³´ì. private networkë¥¼ êµ¬ë™í•  ë•Œ ìœ ì˜í•´ì•¼ í•  ì˜µì…˜ì€ â€”networkidì´ë‹¤. networkidë¥¼ 1ë¡œ ì§€ì •ì‹œ ë©”ì¸ ì´ë”ë¦¬ì›€ì— ì—°ê²°ì´ ë˜ê³  2ëŠ” í…ŒìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ë¡œ ì‚¬ìš©ì¤‘ì´ë‹¤. ë”°ë¼ì„œ 1ê³¼ 2ë¥¼ ì œì™¸í•œ ìˆ˜ë¥¼ ì§€ì •í•´ì•¼ í•œë‹¤. ë˜í•œ â€“identity ì˜µì…˜ì„ ì‚¬ìš©í•´ ë„¤íŠ¸ì›Œí¬ì— ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. networkidì™€ identityëŠ” nodeë“¤ ê°„ì— ì—°ê²° í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì˜µì…˜ì´ë‹¤. ê·¸ë¦¬ê³  â€“mine ì˜µì…˜ì„ ì„¤ì •í•´ì„œ gethë¥¼ êµ¬ë™í–ˆì„ ë•Œ ì±„êµ´ì„ í•  ìˆ˜ ìˆê²Œ í•œë‹¤. â€“nodiscover ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ ë‹¤ë¥¸ ë…¸ë“œë¥¼ ì°¾ëŠ” ì„¤ì •ì„ ëˆë‹¤. $ geth --networkid 1988 --identity \"mynetwork\" --datadir \"./data\" --nodiscover console ì•„ë˜ì™€ ê°™ì´ ì½˜ì†”ì°½ì´ ë‚˜ì˜¤ë©´ ì„±ê³µì´ë‹¤. \u003e\u003e\u003e ... ìƒëµ INFO [08-17|08:35:18.788] Etherbase automatically configured address=0x49A13ee73D2FC8C1578cE1512530Aa1724EE42b7 coinbase: 0x49a13ee73d2fc8c1578ce1512530aa1724ee42b7 at block: 0 (Thu, 01 Jan 1970 00:00:00 UTC) datadir: /home/data modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0 \u003e eth.accountsë¥¼ ì…ë ¥í•˜ë©´ í˜„ì¬ ìƒì„±ë˜ì–´ ìˆëŠ” ê³„ì¢Œë“¤ì´ ì¶œë ¥ëœë‹¤. \u003e eth.accounts [\"0x49a13ee73d2fc8c1578ce1512530aa1724ee42b7\"] eth.accounts[0]ì€ ì²«ë²ˆì§¸ ìƒì„±ëœ ê³„ì¢Œë¥¼ ì¶œë ¥ \u003e eth.accounts[0] \"0x49a13ee73d2fc8c1578ce1512530aa1724ee42b7\" ì´ë” ì”ê³ ë¥¼ ì¡°íšŒ í• ë•ŒëŠ” eth.getBalance()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  ì¸ìë¡œ ê³„ì¢Œ ì£¼ì†Œë¥¼ ì ì–´ì¤€ë‹¤. \u003e eth.getBalance(eth.accounts[0]) 1e+24 ìƒˆë¡œìš´ ê³„ì¢Œë¥¼ ë§Œë“¤ì–´ë³´ë©´ \u003e personal.newAccount() Passphrase: Repeat passphrase: \"0xaefa6e0f4b91fd67e31498f82f34ae95762aac71\" \u003e eth.accounts [\"0x49a13ee73d2fc8c1578ce1512530aa1724ee42b7\", \"0xaefa6e0f4b91fd67e31498f82f34ae95762aac71\"] ë‘ê°œê°€ ì¶œë ¥ëœê±¸ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. ì´ì œ ì´ë”ë¥¼ ì˜®ê²¨ë³´ì ë°˜ë“œì‹œ í•´ì•¼í•˜ëŠ” ì‘ì—…ì´ ì´ë”ë¥¼ ì „ì†¡í•˜ë ¤ëŠ” ê³„ì¢Œì˜ ë½ì„ í’€ì–´ì¤˜ì•¼í•œë‹¤.!!! \u003e personal.unlockAccount(eth.accounts[0]) Unlock account 0x0a39454d85c9ff43f5aba2025da36d67ccfa50d9 Passphrase: true ì´ì œ ë³´ë‚´ë³´ì \u003e eth.sendTransaction({from: eth.accounts[0], to:eth.accounts[1], value:100}) INFO [08-18|06:27:14.550] Submitted transaction fullhash=0xd592ae1540ae288979caa5fe8bcfc4bc41c625190b978bb505587b241fdb346e recipient=0xa6ae554222c1Ac7cB98eEF8abFd3b8f8CD9C2817 \"0xd592ae1540ae288979caa5fe8bcfc4bc41c625190b978bb505587b241fdb346e\" ì „ì†¡ì„ í•´ë„ ì”ê³ ì— ë³€í™”ê°€ ì—†ë‹¤. \u003e eth.getBalance(eth.accounts[0]) 1e+24 \u003e eth.getBalance(eth.accounts[1]) 0 ë¸”ë¡ ì²´ì¸ì´ê¸° ë•Œë¬¸ì— ì±„êµ´ì´ ë˜ì–´ì•¼ ë°œìƒí•œ ê±°ë˜ê°€ ì ìš©ì´ ëœë‹¤. ì±„êµ´ì„ í•´ë³´ì $ miner.start() $ minet.stop() INFO [08-18|06:32:51.972] Generating DAG in progress epoch=1 percentage=97 elapsed=3m4.253s INFO [08-18|06:32:53.809] Generating DAG in progress epoch=1 percentage=98 elapsed=3m6.089s INFO [08-18|06:32:56.898] Generating DAG in progress epoch=1 percentage=99 elapsed=3m9.179s INFO [08-18|06:32:56.905] Generated ethash verification cache epoch=1 elapsed=3m9.184s INFO [08-18|06:35:20.852] Successfully sealed new block number=1 hash=a9c709â€¦37cf8b INFO [08-18|06:35:20.866] ğŸ”¨ mined potential block number=1 hash=a9c709â€¦37cf8b INFO [08-18|06:35:20.869] Commit new mining work number=2 txs=0 uncles=0 elapsed=3.373ms INFO [08-18|06:35:36.470] Successfully sealed new block number=2 hash=7f96eeâ€¦bf362a INFO [08-18|06:35:36.473] ğŸ”¨ mined potential block number=2 hash=7f96eeâ€¦bf362a Generating DAG in progress ê°€ ë°˜ë³µë˜ë‹¤ê°€ ë¸”ëŸ­ì´ ìƒì„±ë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.!! \u003e eth.getBalance(eth.accounts[0]) 1.0000099999999999999999e+24 \u003e eth.getBalance(eth.accounts[1]) 100 ì´í›„ì— ì´ë”ê°€ ì „ì†¡ëœ ê²ƒì„ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.!! ","date":"2018-08-01","objectID":"/ethereum-dapp1/:3:0","tags":["blockchain","ethereum"],"title":"Setup private ethereum blockchain network","uri":"/ethereum-dapp1/"},{"categories":["blockchain"],"content":"ê°„ë‹¨í•œ geth ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ë¸”ë¡ ê°¯ìˆ˜ ì²´í¬ \u003e eth.blockNumber ì±„êµ´ì— ì„±ê³µì‹œ ë³´ìƒë°›ëŠ” ê³„ì¢Œ ì¡°íšŒ \u003e eth.coinbase ë‹¤ë¥¸ ê³„ì •ìœ¼ë¡œ ì˜®ê¸°ê³  ì‹¶ì„ë•Œ \u003e miner.setEtherbase(eth.accounts[1]) \u003e eth.coinbase ì§„í–‰ ê¸°ë‹¤ë¦¬ëŠ” íŠ¸ëœì­ì…˜ í™•ì¸ \u003e eth.pendingTransactions [{ blockHash: null, blockNumber: null, from: \"0x241530b417837cdcce8036a7b7f095995509d5c9\", gas: 90000, gasPrice: 18000000000, hash: \"0x8aff56402bbbe8547dca097ba443a3d668bbac4cd73477e8613fc2c74ca8b002\", input: \"0x\", nonce: 1, r: \"0xc029343dac203271bee3de5d73a586e8740a547342b61f3aebdbbbb0ac4bd0a8\", s: \"0x27112e6e766ddfccf55123d057fe130f7b39e99f76b36c0aefa140168cdd36f9\", to: \"0xca09b7785f4179988e14ee87cfe7e93933a002c7\", transactionIndex: 0, v: \"0x41\", value: 1000 }] ","date":"2018-08-01","objectID":"/ethereum-dapp1/:3:1","tags":["blockchain","ethereum"],"title":"Setup private ethereum blockchain network","uri":"/ethereum-dapp1/"}]